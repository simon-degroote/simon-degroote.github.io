/*! For license information please see main.951c6ea7.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,i)=>{var n=i(43),a=i(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,i,n,a,s,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=r}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,i,n){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,a,n)&&(i=null),n||null===a?function(e){return!!u.call(g,e)||!u.call(p,e)&&(d.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):a.mustUseProperty?e[a.propertyName]=null===i?3!==a.type&&"":i:(t=a.attributeName,n=a.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(a=a.type)||4===a&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,x);m[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,x);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,x);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var j,P=Object.assign;function B(e){if(void 0===j)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var F=!1;function G(e,t){if(!e||F)return"";F=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),r=a.length-1,o=s.length-1;1<=r&&0<=o&&a[r]!==s[o];)o--;for(;1<=r&&0<=o;r--,o--)if(a[r]!==s[o]){if(1!==r||1!==o)do{if(r--,0>--o||a[r]!==s[o]){var l="\n"+a[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function _(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case w:return"Profiler";case D:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return U(e(t))}catch(i){}}return null}function Y(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var a=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var i=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function X(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=V(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function q(e,t){Q(e,t);var i=V(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,i):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function ee(e,t,i){"number"===t&&K(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var te=Array.isArray;function ie(e,t,i,n){if(e=e.options,t){t={};for(var a=0;a<i.length;a++)t["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=t.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&n&&(e[i].defaultSelected=!0)}else{for(i=""+V(i),t=null,a=0;a<e.length;a++){if(e[a].value===i)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(s(92));if(te(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:V(i)}}function se(e,t){var i=V(t.value),n=V(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,ue=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),a=fe(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,a):e[i]=a}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,De=null;function we(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=Ma(t),Se(e.stateNode,e.type,t))}}function ke(e){Ie?De?De.push(e):De=[e]:Ie=e}function Ne(){if(Ie){var e=Ie,t=De;if(De=Ie=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Le(e,t){return e(t)}function Ae(){}var Ce=!1;function Te(e,t,i){if(Ce)return e(t,i);Ce=!0;try{return Le(e,t,i)}finally{Ce=!1,(null!==Ie||null!==De)&&(Ae(),Ne())}}function Ee(e,t){var i=e.stateNode;if(null===i)return null;var n=Ma(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!==typeof i)throw Error(s(231,t,typeof i));return i}var Re=!1;if(h)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(he){Re=!1}function ze(e,t,i,n,a,s,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(h){this.onError(h)}}var je=!1,Pe=null,Be=!1,Fe=null,Ge={onError:function(e){je=!0,Pe=e}};function _e(e,t,i,n,a,s,r,o,l){je=!1,Pe=null,ze.apply(Ge,arguments)}function Ue(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var i=e,n=t;;){var a=i.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(n=a.return)){i=n;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===i)return Ve(a),e;if(r===n)return Ve(a),t;r=r.sibling}throw Error(s(188))}if(i.return!==n.return)i=a,n=r;else{for(var o=!1,l=a.child;l;){if(l===i){o=!0,i=a,n=r;break}if(l===n){o=!0,n=a,i=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===i){o=!0,i=r,n=a;break}if(l===n){o=!0,n=r,i=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(i.alternate!==n)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ze=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Xe=a.unstable_requestPaint,Qe=a.unstable_now,qe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,it=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,r=268435455&i;if(0!==r){var o=r&~a;0!==o?n=ut(o):0!==(s&=r)&&(n=ut(s))}else 0!==(r=i&~a)?n=ut(r):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(i=31-rt(t)),n|=e[i],t&=~a;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function yt(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=i}function xt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-rt(i),a=1<<n;a&t|e[n]&t&&(e[n]|=t),i&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Mt,St,It,Dt,wt,kt=!1,Nt=[],Lt=null,At=null,Ct=null,Tt=new Map,Et=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function jt(e,t,i,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Pt(e){var t=xa(e.target);if(null!==t){var i=Ue(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Ye(i)))return e.blockedOn=t,void wt(e.priority,(function(){It(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=ba(i))&&St(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);ve=n,i.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Ft(e,t,i){Bt(e)&&i.delete(t)}function Gt(){kt=!1,null!==Lt&&Bt(Lt)&&(Lt=null),null!==At&&Bt(At)&&(At=null),null!==Ct&&Bt(Ct)&&(Ct=null),Tt.forEach(Ft),Et.forEach(Ft)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Gt)))}function Ut(e){function t(t){return _t(t,e)}if(0<Nt.length){_t(Nt[0],e);for(var i=1;i<Nt.length;i++){var n=Nt[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Lt&&_t(Lt,e),null!==At&&_t(At,e),null!==Ct&&_t(Ct,e),Tt.forEach(t),Et.forEach(t),i=0;i<Rt.length;i++)(n=Rt[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(i=Rt[0]).blockedOn;)Pt(i),null===i.blockedOn&&Rt.shift()}var Yt=v.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,i,n){var a=bt,s=Yt.transition;Yt.transition=null;try{bt=1,Zt(e,t,i,n)}finally{bt=a,Yt.transition=s}}function Ht(e,t,i,n){var a=bt,s=Yt.transition;Yt.transition=null;try{bt=4,Zt(e,t,i,n)}finally{bt=a,Yt.transition=s}}function Zt(e,t,i,n){if(Vt){var a=$t(e,t,i,n);if(null===a)Vn(e,t,n,Kt,i),zt(e,n);else if(function(e,t,i,n,a){switch(t){case"focusin":return Lt=jt(Lt,e,t,i,n,a),!0;case"dragenter":return At=jt(At,e,t,i,n,a),!0;case"mouseover":return Ct=jt(Ct,e,t,i,n,a),!0;case"pointerover":var s=a.pointerId;return Tt.set(s,jt(Tt.get(s)||null,e,t,i,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Et.set(s,jt(Et.get(s)||null,e,t,i,n,a)),!0}return!1}(a,e,t,i,n))n.stopPropagation();else if(zt(e,n),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=ba(a);if(null!==s&&Mt(s),null===(s=$t(e,t,i,n))&&Vn(e,t,n,Kt,i),s===a)break;a=s}null!==a&&n.stopPropagation()}else Vn(e,t,n,null,i)}}var Kt=null;function $t(e,t,i,n){if(Kt=null,null!==(e=xa(e=Me(n))))if(null===(t=Ue(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Ye(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qe()){case Je:return 1;case et:return 4;case tt:case it:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,qt=null,Jt=null;function ei(){if(Jt)return Jt;var e,t,i=qt,n=i.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<n&&i[e]===a[e];e++);var r=n-e;for(t=1;t<=r&&i[n-t]===a[s-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ii(){return!0}function ni(){return!1}function ai(e){function t(t,i,n,a,s){for(var r in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ii:ni,this.isPropagationStopped=ni,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var si,ri,oi,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=ai(li),hi=P({},li,{view:0,detail:0}),ui=ai(hi),di=P({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Di,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&"mousemove"===e.type?(si=e.screenX-oi.screenX,ri=e.screenY-oi.screenY):ri=si=0,oi=e),si)},movementY:function(e){return"movementY"in e?e.movementY:ri}}),pi=ai(di),gi=ai(P({},di,{dataTransfer:0})),fi=ai(P({},hi,{relatedTarget:0})),mi=ai(P({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),yi=P({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xi=ai(yi),bi=ai(P({},li,{data:0})),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Si[e])&&!!t[e]}function Di(){return Ii}var wi=P({},hi,{key:function(e){if(e.key){var t=vi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Di,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ki=ai(wi),Ni=ai(P({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Li=ai(P({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Di})),Ai=ai(P({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ci=P({},di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ti=ai(Ci),Ei=[9,13,27,32],Ri=h&&"CompositionEvent"in window,Oi=null;h&&"documentMode"in document&&(Oi=document.documentMode);var zi=h&&"TextEvent"in window&&!Oi,ji=h&&(!Ri||Oi&&8<Oi&&11>=Oi),Pi=String.fromCharCode(32),Bi=!1;function Fi(e,t){switch(e){case"keyup":return-1!==Ei.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var _i=!1;var Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ui[e.type]:"textarea"===t}function Vi(e,t,i,n){ke(n),0<(t=Hn(t,"onChange")).length&&(i=new ci("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Wi=null,Hi=null;function Zi(e){Bn(e,0)}function Ki(e){if(Z(va(e)))return e}function $i(e,t){if("change"===e)return t}var Xi=!1;if(h){var Qi;if(h){var qi="oninput"in document;if(!qi){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),qi="function"===typeof Ji.oninput}Qi=qi}else Qi=!1;Xi=Qi&&(!document.documentMode||9<document.documentMode)}function en(){Wi&&(Wi.detachEvent("onpropertychange",tn),Hi=Wi=null)}function tn(e){if("value"===e.propertyName&&Ki(Hi)){var t=[];Vi(t,Hi,e,Me(e)),Te(Zi,t)}}function nn(e,t,i){"focusin"===e?(en(),Hi=i,(Wi=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function an(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ki(Hi)}function sn(e,t){if("click"===e)return Ki(t)}function rn(e,t){if("input"===e||"change"===e)return Ki(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var a=i[n];if(!u.call(t,a)||!on(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var i,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=K((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gn(e){var t=dn(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&un(i.ownerDocument.documentElement,i)){if(null!==n&&pn(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=i.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=hn(i,s);var r=hn(i,n);a&&r&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=h&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,xn=null,bn=!1;function vn(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;bn||null==mn||mn!==K(n)||("selectionStart"in(n=mn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&ln(xn,n)||(xn=n,0<(n=Hn(yn,"onSelect")).length&&(t=new ci("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=mn)))}function Mn(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Sn={animationend:Mn("Animation","AnimationEnd"),animationiteration:Mn("Animation","AnimationIteration"),animationstart:Mn("Animation","AnimationStart"),transitionend:Mn("Transition","TransitionEnd")},In={},Dn={};function wn(e){if(In[e])return In[e];if(!Sn[e])return e;var t,i=Sn[e];for(t in i)if(i.hasOwnProperty(t)&&t in Dn)return In[e]=i[t];return e}h&&(Dn=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var kn=wn("animationend"),Nn=wn("animationiteration"),Ln=wn("animationstart"),An=wn("transitionend"),Cn=new Map,Tn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Cn.set(e,t),l(t,[e])}for(var Rn=0;Rn<Tn.length;Rn++){var On=Tn[Rn];En(On.toLowerCase(),"on"+(On[0].toUpperCase()+On.slice(1)))}En(kn,"onAnimationEnd"),En(Nn,"onAnimationIteration"),En(Ln,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jn=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function Pn(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,a,r,o,l,c){if(_e.apply(this,arguments),je){if(!je)throw Error(s(198));var h=Pe;je=!1,Pe=null,Be||(Be=!0,Fe=h)}}(n,t,void 0,e),e.currentTarget=null}function Bn(e,t){t=0!==(4&t);for(var i=0;i<e.length;i++){var n=e[i],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var r=n.length-1;0<=r;r--){var o=n[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Pn(a,o,c),s=l}else for(r=0;r<n.length;r++){if(l=(o=n[r]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Pn(a,o,c),s=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fn(e,t){var i=t[fa];void 0===i&&(i=t[fa]=new Set);var n=e+"__bubble";i.has(n)||(Yn(t,e,2,!1),i.add(n))}function Gn(e,t,i){var n=0;t&&(n|=4),Yn(i,e,n,t)}var _n="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[_n]){e[_n]=!0,r.forEach((function(t){"selectionchange"!==t&&(jn.has(t)||Gn(t,!1,e),Gn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_n]||(t[_n]=!0,Gn("selectionchange",!1,t))}}function Yn(e,t,i,n){switch(Xt(t)){case 1:var a=Wt;break;case 4:a=Ht;break;default:a=Zt}i=a.bind(null,t,i,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,i,{capture:!0,passive:a}):e.addEventListener(t,i,!0):void 0!==a?e.addEventListener(t,i,{passive:a}):e.addEventListener(t,i,!1)}function Vn(e,t,i,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var r=n.tag;if(3===r||4===r){var o=n.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===r)for(r=n.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;r=r.return}for(;null!==o;){if(null===(r=xa(o)))return;if(5===(l=r.tag)||6===l){n=s=r;continue e}o=o.parentNode}}n=n.return}Te((function(){var n=s,a=Me(i),r=[];e:{var o=Cn.get(e);if(void 0!==o){var l=ci,c=e;switch(e){case"keypress":if(0===ti(i))break e;case"keydown":case"keyup":l=ki;break;case"focusin":c="focus",l=fi;break;case"focusout":c="blur",l=fi;break;case"beforeblur":case"afterblur":l=fi;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Li;break;case kn:case Nn:case Ln:l=mi;break;case An:l=Ai;break;case"scroll":l=ui;break;case"wheel":l=Ti;break;case"copy":case"cut":case"paste":l=xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ni}var h=0!==(4&t),u=!h&&"scroll"===e,d=h?null!==o?o+"Capture":null:o;h=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==d&&(null!=(f=Ee(g,d))&&h.push(Wn(g,f,p)))),u)break;g=g.return}0<h.length&&(o=new l(o,c,null,i,a),r.push({event:o,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||i===ve||!(c=i.relatedTarget||i.fromElement)||!xa(c)&&!c[ga])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?xa(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(h=pi,f="onMouseLeave",d="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(h=Ni,f="onPointerLeave",d="onPointerEnter",g="pointer"),u=null==l?o:va(l),p=null==c?o:va(c),(o=new h(f,g+"leave",l,i,a)).target=u,o.relatedTarget=p,f=null,xa(a)===n&&((h=new h(d,g+"enter",c,i,a)).target=p,h.relatedTarget=u,f=h),u=f,l&&c)e:{for(d=c,g=0,p=h=l;p;p=Zn(p))g++;for(p=0,f=d;f;f=Zn(f))p++;for(;0<g-p;)h=Zn(h),g--;for(;0<p-g;)d=Zn(d),p--;for(;g--;){if(h===d||null!==d&&h===d.alternate)break e;h=Zn(h),d=Zn(d)}h=null}else h=null;null!==l&&Kn(r,o,l,h,!1),null!==c&&null!==u&&Kn(r,u,c,h,!0)}if("select"===(l=(o=n?va(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=$i;else if(Yi(o))if(Xi)m=rn;else{m=an;var y=nn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=sn);switch(m&&(m=m(e,n))?Vi(r,m,i,a):(y&&y(e,o,n),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=n?va(n):window,e){case"focusin":(Yi(y)||"true"===y.contentEditable)&&(mn=y,yn=n,xn=null);break;case"focusout":xn=yn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(r,i,a);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":vn(r,i,a)}var x;if(Ri)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _i?Fi(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(ji&&"ko"!==i.locale&&(_i||"onCompositionStart"!==b?"onCompositionEnd"===b&&_i&&(x=ei()):(qt="value"in(Qt=a)?Qt.value:Qt.textContent,_i=!0)),0<(y=Hn(n,b)).length&&(b=new bi(b,e,null,i,a),r.push({event:b,listeners:y}),x?b.data=x:null!==(x=Gi(i))&&(b.data=x))),(x=zi?function(e,t){switch(e){case"compositionend":return Gi(t);case"keypress":return 32!==t.which?null:(Bi=!0,Pi);case"textInput":return(e=t.data)===Pi&&Bi?null:e;default:return null}}(e,i):function(e,t){if(_i)return"compositionend"===e||!Ri&&Fi(e,t)?(e=ei(),Jt=qt=Qt=null,_i=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ji&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Hn(n,"onBeforeInput")).length&&(a=new bi("onBeforeInput","beforeinput",null,i,a),r.push({event:a,listeners:n}),a.data=x))}Bn(r,t)}))}function Wn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Hn(e,t){for(var i=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Ee(e,i))&&n.unshift(Wn(e,s,a)),null!=(s=Ee(e,t))&&n.push(Wn(e,s,a))),e=e.return}return n}function Zn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,i,n,a){for(var s=t._reactName,r=[];null!==i&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Ee(i,s))&&r.unshift(Wn(i,l,o)):a||null!=(l=Ee(i,s))&&r.push(Wn(i,l,o))),i=i.return}0!==r.length&&e.push({event:t,listeners:r})}var $n=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace($n,"\n").replace(Xn,"")}function qn(e,t,i){if(t=Qn(t),Qn(e)!==t&&i)throw Error(s(425))}function Jn(){}var ea=null,ta=null;function ia(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ra="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout((function(){throw e}))}function la(e,t){var i=t,n=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&8===a.nodeType)if("/$"===(i=a.data)){if(0===n)return e.removeChild(a),void Ut(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=a}while(i);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ha(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),da="__reactFiber$"+ua,pa="__reactProps$"+ua,ga="__reactContainer$"+ua,fa="__reactEvents$"+ua,ma="__reactListeners$"+ua,ya="__reactHandles$"+ua;function xa(e){var t=e[da];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ga]||i[da]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=ha(e);null!==e;){if(i=e[da])return i;e=ha(e)}return t}i=(e=i).parentNode}return null}function ba(e){return!(e=e[da]||e[ga])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function va(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ma(e){return e[pa]||null}var Sa=[],Ia=-1;function Da(e){return{current:e}}function wa(e){0>Ia||(e.current=Sa[Ia],Sa[Ia]=null,Ia--)}function ka(e,t){Ia++,Sa[Ia]=e.current,e.current=t}var Na={},La=Da(Na),Aa=Da(!1),Ca=Na;function Ta(e,t){var i=e.type.contextTypes;if(!i)return Na;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in i)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ea(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){wa(Aa),wa(La)}function Oa(e,t,i){if(La.current!==Na)throw Error(s(168));ka(La,t),ka(Aa,i)}function za(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,Y(e)||"Unknown",a));return P({},i,n)}function ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ca=La.current,ka(La,e),ka(Aa,Aa.current),!0}function Pa(e,t,i){var n=e.stateNode;if(!n)throw Error(s(169));i?(e=za(e,t,Ca),n.__reactInternalMemoizedMergedChildContext=e,wa(Aa),wa(La),ka(La,e)):wa(Aa),ka(Aa,i)}var Ba=null,Fa=!1,Ga=!1;function _a(e){null===Ba?Ba=[e]:Ba.push(e)}function Ua(){if(!Ga&&null!==Ba){Ga=!0;var e=0,t=bt;try{var i=Ba;for(bt=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ze(Je,Ua),a}finally{bt=t,Ga=!1}}return null}var Ya=[],Va=0,Wa=null,Ha=0,Za=[],Ka=0,$a=null,Xa=1,Qa="";function qa(e,t){Ya[Va++]=Ha,Ya[Va++]=Wa,Wa=e,Ha=t}function Ja(e,t,i){Za[Ka++]=Xa,Za[Ka++]=Qa,Za[Ka++]=$a,$a=e;var n=Xa;e=Qa;var a=32-rt(n)-1;n&=~(1<<a),i+=1;var s=32-rt(t)+a;if(30<s){var r=a-a%5;s=(n&(1<<r)-1).toString(32),n>>=r,a-=r,Xa=1<<32-rt(t)+a|i<<a|n,Qa=s+e}else Xa=1<<s|i<<a|n,Qa=e}function es(e){null!==e.return&&(qa(e,1),Ja(e,1,0))}function ts(e){for(;e===Wa;)Wa=Ya[--Va],Ya[Va]=null,Ha=Ya[--Va],Ya[Va]=null;for(;e===$a;)$a=Za[--Ka],Za[Ka]=null,Qa=Za[--Ka],Za[Ka]=null,Xa=Za[--Ka],Za[Ka]=null}var is=null,ns=null,as=!1,ss=null;function rs(e,t){var i=Tc(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function os(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,is=e,ns=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,is=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==$a?{id:Xa,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Tc(18,null,null,0)).stateNode=t,i.return=e,e.child=i,is=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=ns;if(t){var i=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(i.nextSibling);var n=is;t&&os(e,t)?rs(n,i):(e.flags=-4097&e.flags|2,as=!1,is=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,is=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;is=e}function us(e){if(e!==is)return!1;if(!as)return hs(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ia(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw ds(),Error(s(418));for(;t;)rs(e,t),t=ca(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){ns=ca(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}ns=null}}else ns=is?ca(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=ca(e.nextSibling)}function ps(){ns=is=null,as=!1}function gs(e){null===ss?ss=[e]:ss.push(e)}var fs=v.ReactCurrentBatchConfig;function ms(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var n=i.stateNode}if(!n)throw Error(s(147,e));var a=n,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=a.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xs(e){return(0,e._init)(e._payload)}function bs(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function r(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,i,n){return null===t||6!==t.tag?((t=Pc(i,e.mode,n)).return=e,t):((t=a(t,i)).return=e,t)}function c(e,t,i,n){var s=i.type;return s===I?u(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===E&&xs(s)===t.type)?((n=a(t,i.props)).ref=ms(e,t,i),n.return=e,n):((n=Oc(i.type,i.key,i.props,null,e.mode,n)).ref=ms(e,t,i),n.return=e,n)}function h(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Bc(i,e.mode,n)).return=e,t):((t=a(t,i.children||[])).return=e,t)}function u(e,t,i,n,s){return null===t||7!==t.tag?((t=zc(i,e.mode,n,s)).return=e,t):((t=a(t,i)).return=e,t)}function d(e,t,i){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pc(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case M:return(i=Oc(t.type,t.key,t.props,null,e.mode,i)).ref=ms(e,null,t),i.return=e,i;case S:return(t=Bc(t,e.mode,i)).return=e,t;case E:return d(e,(0,t._init)(t._payload),i)}if(te(t)||z(t))return(t=zc(t,e.mode,i,null)).return=e,t;ys(e,t)}return null}function p(e,t,i,n){var a=null!==t?t.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==a?null:l(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case M:return i.key===a?c(e,t,i,n):null;case S:return i.key===a?h(e,t,i,n):null;case E:return p(e,t,(a=i._init)(i._payload),n)}if(te(i)||z(i))return null!==a?null:u(e,t,i,n,null);ys(e,i)}return null}function g(e,t,i,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(i)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case M:return c(t,e=e.get(null===n.key?i:n.key)||null,n,a);case S:return h(t,e=e.get(null===n.key?i:n.key)||null,n,a);case E:return g(e,t,i,(0,n._init)(n._payload),a)}if(te(n)||z(n))return u(t,e=e.get(i)||null,n,a,null);ys(t,n)}return null}function f(a,s,o,l){for(var c=null,h=null,u=s,f=s=0,m=null;null!==u&&f<o.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var y=p(a,u,o[f],l);if(null===y){null===u&&(u=m);break}e&&u&&null===y.alternate&&t(a,u),s=r(y,s,f),null===h?c=y:h.sibling=y,h=y,u=m}if(f===o.length)return i(a,u),as&&qa(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=d(a,o[f],l))&&(s=r(u,s,f),null===h?c=u:h.sibling=u,h=u);return as&&qa(a,f),c}for(u=n(a,u);f<o.length;f++)null!==(m=g(u,a,f,o[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),s=r(m,s,f),null===h?c=m:h.sibling=m,h=m);return e&&u.forEach((function(e){return t(a,e)})),as&&qa(a,f),c}function m(a,o,l,c){var h=z(l);if("function"!==typeof h)throw Error(s(150));if(null==(l=h.call(l)))throw Error(s(151));for(var u=h=null,f=o,m=o=0,y=null,x=l.next();null!==f&&!x.done;m++,x=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var b=p(a,f,x.value,c);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(a,f),o=r(b,o,m),null===u?h=b:u.sibling=b,u=b,f=y}if(x.done)return i(a,f),as&&qa(a,m),h;if(null===f){for(;!x.done;m++,x=l.next())null!==(x=d(a,x.value,c))&&(o=r(x,o,m),null===u?h=x:u.sibling=x,u=x);return as&&qa(a,m),h}for(f=n(a,f);!x.done;m++,x=l.next())null!==(x=g(f,a,m,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?m:x.key),o=r(x,o,m),null===u?h=x:u.sibling=x,u=x);return e&&f.forEach((function(e){return t(a,e)})),as&&qa(a,m),h}return function e(n,s,r,l){if("object"===typeof r&&null!==r&&r.type===I&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case M:e:{for(var c=r.key,h=s;null!==h;){if(h.key===c){if((c=r.type)===I){if(7===h.tag){i(n,h.sibling),(s=a(h,r.props.children)).return=n,n=s;break e}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===E&&xs(c)===h.type){i(n,h.sibling),(s=a(h,r.props)).ref=ms(n,h,r),s.return=n,n=s;break e}i(n,h);break}t(n,h),h=h.sibling}r.type===I?((s=zc(r.props.children,n.mode,l,r.key)).return=n,n=s):((l=Oc(r.type,r.key,r.props,null,n.mode,l)).ref=ms(n,s,r),l.return=n,n=l)}return o(n);case S:e:{for(h=r.key;null!==s;){if(s.key===h){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){i(n,s.sibling),(s=a(s,r.children||[])).return=n,n=s;break e}i(n,s);break}t(n,s),s=s.sibling}(s=Bc(r,n.mode,l)).return=n,n=s}return o(n);case E:return e(n,s,(h=r._init)(r._payload),l)}if(te(r))return f(n,s,r,l);if(z(r))return m(n,s,r,l);ys(n,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==s&&6===s.tag?(i(n,s.sibling),(s=a(s,r)).return=n,n=s):(i(n,s),(s=Pc(r,n.mode,l)).return=n,n=s),o(n)):i(n,s)}}var vs=bs(!0),Ms=bs(!1),Ss=Da(null),Is=null,Ds=null,ws=null;function ks(){ws=Ds=Is=null}function Ns(e){var t=Ss.current;wa(Ss),e._currentValue=t}function Ls(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function As(e,t){Is=e,ws=Ds=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Cs(e){var t=e._currentValue;if(ws!==e)if(e={context:e,memoizedValue:t,next:null},null===Ds){if(null===Is)throw Error(s(308));Ds=e,Is.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var Ts=null;function Es(e){null===Ts?Ts=[e]:Ts.push(e)}function Rs(e,t,i,n){var a=t.interleaved;return null===a?(i.next=i,Es(t)):(i.next=a.next,a.next=i),t.interleaved=i,Os(e,n)}function Os(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var zs=!1;function js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ll)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Os(e,i)}return null===(a=n.interleaved)?(t.next=t,Es(n)):(t.next=a.next,a.next=t),n.interleaved=t,Os(e,i)}function Gs(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,xt(e,i)}}function _s(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var a=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?a=s=r:s=s.next=r,i=i.next}while(null!==i);null===s?a=s=t:s=s.next=t}else a=s=t;return i={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Us(e,t,i,n){var a=e.updateQueue;zs=!1;var s=a.firstBaseUpdate,r=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var h=e.alternate;null!==h&&((o=(h=h.updateQueue).lastBaseUpdate)!==r&&(null===o?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(r=0,h=c=l=null,o=s;;){var d=o.lane,p=o.eventTime;if((n&d)===d){null!==h&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,f=o;switch(d=t,p=i,f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(p,u,d);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(d="function"===typeof(g=f.payload)?g.call(p,u,d):g)||void 0===d)break e;u=P({},u,d);break e;case 2:zs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=p,l=u):h=h.next=p,r|=d;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(d=o).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===h&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=h,null!==(t=a.shared.interleaved)){a=t;do{r|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);jl|=r,e.lanes=r,e.memoizedState=u}}function Ys(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=i,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Vs={},Ws=Da(Vs),Hs=Da(Vs),Zs=Da(Vs);function Ks(e){if(e===Vs)throw Error(s(174));return e}function $s(e,t){switch(ka(Zs,t),ka(Hs,e),ka(Ws,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wa(Ws),ka(Ws,t)}function Xs(){wa(Ws),wa(Hs),wa(Zs)}function Qs(e){Ks(Zs.current);var t=Ks(Ws.current),i=le(t,e.type);t!==i&&(ka(Hs,e),ka(Ws,i))}function qs(e){Hs.current===e&&(wa(Ws),wa(Hs))}var Js=Da(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function ir(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var nr=v.ReactCurrentDispatcher,ar=v.ReactCurrentBatchConfig,sr=0,rr=null,or=null,lr=null,cr=!1,hr=!1,ur=0,dr=0;function pr(){throw Error(s(321))}function gr(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!on(e[i],t[i]))return!1;return!0}function fr(e,t,i,n,a,r){if(sr=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?qr:Jr,e=i(n,a),hr){r=0;do{if(hr=!1,ur=0,25<=r)throw Error(s(301));r+=1,lr=or=null,t.updateQueue=null,nr.current=eo,e=i(n,a)}while(hr)}if(nr.current=Qr,t=null!==or&&null!==or.next,sr=0,lr=or=rr=null,cr=!1,t)throw Error(s(300));return e}function mr(){var e=0!==ur;return ur=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function xr(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(s(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function br(e,t){return"function"===typeof t?t(e):t}function vr(e){var t=xr(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var n=or,a=n.baseQueue,r=i.pending;if(null!==r){if(null!==a){var o=a.next;a.next=r.next,r.next=o}n.baseQueue=a=r,i.pending=null}if(null!==a){r=a.next,n=n.baseState;var l=o=null,c=null,h=r;do{var u=h.lane;if((sr&u)===u)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var d={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(l=c=d,o=n):c=c.next=d,rr.lanes|=u,jl|=u}h=h.next}while(null!==h&&h!==r);null===c?o=n:c.next=l,on(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,i.lastRenderedState=n}if(null!==(e=i.interleaved)){a=e;do{r=a.lane,rr.lanes|=r,jl|=r,a=a.next}while(a!==e)}else null===a&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Mr(e){var t=xr(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var n=i.dispatch,a=i.pending,r=t.memoizedState;if(null!==a){i.pending=null;var o=a=a.next;do{r=e(r,o.action),o=o.next}while(o!==a);on(r,t.memoizedState)||(bo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),i.lastRenderedState=r}return[r,n]}function Sr(){}function Ir(e,t){var i=rr,n=xr(),a=t(),r=!on(n.memoizedState,a);if(r&&(n.memoizedState=a,bo=!0),n=n.queue,zr(kr.bind(null,i,n,e),[e]),n.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(i.flags|=2048,Cr(9,wr.bind(null,i,n,a,t),void 0,null),null===Al)throw Error(s(349));0!==(30&sr)||Dr(i,t,a)}return a}function Dr(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function wr(e,t,i,n){t.value=i,t.getSnapshot=n,Nr(t)&&Lr(e)}function kr(e,t,i){return i((function(){Nr(t)&&Lr(e)}))}function Nr(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!on(e,i)}catch(n){return!0}}function Lr(e){var t=Os(e,1);null!==t&&ic(t,e,1,-1)}function Ar(e){var t=yr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Zr.bind(null,rr,e),[t.memoizedState,e]}function Cr(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function Tr(){return xr().memoizedState}function Er(e,t,i,n){var a=yr();rr.flags|=e,a.memoizedState=Cr(1|t,i,void 0,void 0===n?null:n)}function Rr(e,t,i,n){var a=xr();n=void 0===n?null:n;var s=void 0;if(null!==or){var r=or.memoizedState;if(s=r.destroy,null!==n&&gr(n,r.deps))return void(a.memoizedState=Cr(t,i,s,n))}rr.flags|=e,a.memoizedState=Cr(1|t,i,s,n)}function Or(e,t){return Er(8390656,8,e,t)}function zr(e,t){return Rr(2048,8,e,t)}function jr(e,t){return Rr(4,2,e,t)}function Pr(e,t){return Rr(4,4,e,t)}function Br(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fr(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Rr(4,4,Br.bind(null,t,e),i)}function Gr(){}function _r(e,t){var i=xr();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&gr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function Ur(e,t){var i=xr();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&gr(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function Yr(e,t,i){return 0===(21&sr)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=i):(on(i,t)||(i=ft(),rr.lanes|=i,jl|=i,e.baseState=!0),t)}function Vr(e,t){var i=bt;bt=0!==i&&4>i?i:4,e(!0);var n=ar.transition;ar.transition={};try{e(!1),t()}finally{bt=i,ar.transition=n}}function Wr(){return xr().memoizedState}function Hr(e,t,i){var n=tc(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Kr(e))$r(t,i);else if(null!==(i=Rs(e,t,i,n))){ic(i,e,n,ec()),Xr(i,t,n)}}function Zr(e,t,i){var n=tc(e),a={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))$r(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=s(r,i);if(a.hasEagerState=!0,a.eagerState=o,on(o,r)){var l=t.interleaved;return null===l?(a.next=a,Es(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(i=Rs(e,t,a,n))&&(ic(i,e,n,a=ec()),Xr(i,t,n))}}function Kr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function $r(e,t){hr=cr=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xr(e,t,i){if(0!==(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,xt(e,i)}}var Qr={readContext:Cs,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},qr={readContext:Cs,useCallback:function(e,t){return yr().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:Or,useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,Er(4194308,4,Br.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Er(4194308,4,e,t)},useInsertionEffect:function(e,t){return Er(4,2,e,t)},useMemo:function(e,t){var i=yr();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=yr();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hr.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yr().memoizedState=e},useState:Ar,useDebugValue:Gr,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=Ar(!1),t=e[0];return e=Vr.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=rr,a=yr();if(as){if(void 0===i)throw Error(s(407));i=i()}else{if(i=t(),null===Al)throw Error(s(349));0!==(30&sr)||Dr(n,t,i)}a.memoizedState=i;var r={value:i,getSnapshot:t};return a.queue=r,Or(kr.bind(null,n,r,e),[e]),n.flags|=2048,Cr(9,wr.bind(null,n,r,i,t),void 0,null),i},useId:function(){var e=yr(),t=Al.identifierPrefix;if(as){var i=Qa;t=":"+t+"R"+(i=(Xa&~(1<<32-rt(Xa)-1)).toString(32)+i),0<(i=ur++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=dr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jr={readContext:Cs,useCallback:_r,useContext:Cs,useEffect:zr,useImperativeHandle:Fr,useInsertionEffect:jr,useLayoutEffect:Pr,useMemo:Ur,useReducer:vr,useRef:Tr,useState:function(){return vr(br)},useDebugValue:Gr,useDeferredValue:function(e){return Yr(xr(),or.memoizedState,e)},useTransition:function(){return[vr(br)[0],xr().memoizedState]},useMutableSource:Sr,useSyncExternalStore:Ir,useId:Wr,unstable_isNewReconciler:!1},eo={readContext:Cs,useCallback:_r,useContext:Cs,useEffect:zr,useImperativeHandle:Fr,useInsertionEffect:jr,useLayoutEffect:Pr,useMemo:Ur,useReducer:Mr,useRef:Tr,useState:function(){return Mr(br)},useDebugValue:Gr,useDeferredValue:function(e){var t=xr();return null===or?t.memoizedState=e:Yr(t,or.memoizedState,e)},useTransition:function(){return[Mr(br)[0],xr().memoizedState]},useMutableSource:Sr,useSyncExternalStore:Ir,useId:Wr,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var i in t=P({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}function io(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:P({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=ec(),a=tc(e),s=Bs(n,a);s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Fs(e,s,a))&&(ic(t,e,a,n),Gs(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=ec(),a=tc(e),s=Bs(n,a);s.tag=1,s.payload=t,void 0!==i&&null!==i&&(s.callback=i),null!==(t=Fs(e,s,a))&&(ic(t,e,a,n),Gs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ec(),n=tc(e),a=Bs(i,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fs(e,a,n))&&(ic(t,e,n,i),Gs(t,e,n))}};function ao(e,t,i,n,a,s,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,r):!t.prototype||!t.prototype.isPureReactComponent||(!ln(i,n)||!ln(a,s))}function so(e,t,i){var n=!1,a=Na,s=t.contextType;return"object"===typeof s&&null!==s?s=Cs(s):(a=Ea(t)?Ca:La.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Na),t=new t(i,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ro(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,i,n){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},js(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Cs(s):(s=Ea(t)?Ca:La.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(io(e,t,s,i),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&no.enqueueReplaceState(a,a.state,null),Us(e,i,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var i="",n=t;do{i+=_(n),n=n.return}while(n);var a=i}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(i){setTimeout((function(){throw i}))}}var uo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,i){(i=Bs(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Vl||(Vl=!0,Wl=n),ho(0,t)},i}function go(e,t,i){(i=Bs(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;i.payload=function(){return n(a)},i.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(i.callback=function(){ho(0,t),"function"!==typeof n&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function fo(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new uo;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(i)||(a.add(i),e=wc.bind(null,e,t,i),t.then(e,e))}function mo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,i,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Bs(-1,1)).tag=2,Fs(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xo=v.ReactCurrentOwner,bo=!1;function vo(e,t,i,n){t.child=null===e?Ms(t,null,i,n):vs(t,e.child,i,n)}function Mo(e,t,i,n,a){i=i.render;var s=t.ref;return As(t,a),n=fr(e,t,i,n,s,a),i=mr(),null===e||bo?(as&&i&&es(t),t.flags|=1,vo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function So(e,t,i,n,a){if(null===e){var s=i.type;return"function"!==typeof s||Ec(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Oc(i.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Io(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var r=s.memoizedProps;if((i=null!==(i=i.compare)?i:ln)(r,n)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Rc(s,n)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,i,n,a){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,i,n,a)}function Do(e,t,i){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ka(Rl,El),El|=i;else{if(0===(1073741824&i))return e=null!==s?s.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ka(Rl,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:i,ka(Rl,El),El|=n}else null!==s?(n=s.baseLanes|i,t.memoizedState=null):n=i,ka(Rl,El),El|=n;return vo(e,t,a,i),t.child}function wo(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,i,n,a){var s=Ea(i)?Ca:La.current;return s=Ta(t,s),As(t,a),i=fr(e,t,i,n,s,a),n=mr(),null===e||bo?(as&&n&&es(t),t.flags|=1,vo(e,t,i,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function No(e,t,i,n,a){if(Ea(i)){var s=!0;ja(t)}else s=!1;if(As(t,a),null===t.stateNode)Yo(e,t),so(t,i,n),oo(t,i,n,a),n=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=i.contextType;"object"===typeof c&&null!==c?c=Cs(c):c=Ta(t,c=Ea(i)?Ca:La.current);var h=i.getDerivedStateFromProps,u="function"===typeof h||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==n||l!==c)&&ro(t,r,n,c),zs=!1;var d=t.memoizedState;r.state=d,Us(t,n,r,a),l=t.memoizedState,o!==n||d!==l||Aa.current||zs?("function"===typeof h&&(io(t,i,h,n),l=t.memoizedState),(o=zs||ao(t,i,o,n,d,l,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),r.props=n,r.state=l,r.context=c,n=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Ps(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),r.props=c,u=t.pendingProps,d=r.context,"object"===typeof(l=i.contextType)&&null!==l?l=Cs(l):l=Ta(t,l=Ea(i)?Ca:La.current);var p=i.getDerivedStateFromProps;(h="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==u||d!==l)&&ro(t,r,n,l),zs=!1,d=t.memoizedState,r.state=d,Us(t,n,r,a);var g=t.memoizedState;o!==u||d!==g||Aa.current||zs?("function"===typeof p&&(io(t,i,p,n),g=t.memoizedState),(c=zs||ao(t,i,c,n,d,g,l)||!1)?(h||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(n,g,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),r.props=n,r.state=g,r.context=l,n=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Lo(e,t,i,n,s,a)}function Lo(e,t,i,n,a,s){wo(e,t);var r=0!==(128&t.flags);if(!n&&!r)return a&&Pa(t,i,!1),Vo(e,t,s);n=t.stateNode,xo.current=t;var o=r&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&r?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,o,s)):vo(e,t,o,s),t.memoizedState=n.state,a&&Pa(t,i,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),$s(e,t.containerInfo)}function Co(e,t,i,n,a){return ps(),gs(a),t.flags|=256,vo(e,t,i,n),t.child}var To,Eo,Ro,Oo,zo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Po(e,t,i){var n,a=t.pendingProps,r=Js.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&r)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),ka(Js,1&r),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=jc(l,a,0,null),e=zc(e,a,i,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(i),t.memoizedState=zo,e):Bo(t,l));if(null!==(r=e.memoizedState)&&null!==(n=r.dehydrated))return function(e,t,i,n,a,r,o){if(i)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,n=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=n.fallback,a=t.mode,n=jc({mode:"visible",children:n.children},a,0,null),(r=zc(r,a,o,null)).flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,0!==(1&t.mode)&&vs(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=zo,r);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Fo(e,t,o,n=co(r=Error(s(419)),n,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(n=Al)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|o))?0:a)&&a!==r.retryLane&&(r.retryLane=a,Os(e,a),ic(n,e,a,-1))}return fc(),Fo(e,t,o,n=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=r.treeContext,ns=ca(a.nextSibling),is=t,as=!0,ss=null,null!==e&&(Za[Ka++]=Xa,Za[Ka++]=Qa,Za[Ka++]=$a,Xa=e.id,Qa=e.overflow,$a=t),t=Bo(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,r,i);if(o){o=a.fallback,l=t.mode,n=(r=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==r?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==n?o=Rc(n,o):(o=zc(o,l,i,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?jo(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~i,t.memoizedState=zo,a}return e=(o=e.child).sibling,a=Rc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=i),a.return=t,a.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function Bo(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,i,n){return null!==n&&gs(n),vs(t,e.child,null,i),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ls(e.return,t,i)}function _o(e,t,i,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=a)}function Uo(e,t,i){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(vo(e,t,n.children,i),0!==(2&(n=Js.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,i,t);else if(19===e.tag)Go(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ka(Js,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(i=t.child,a=null;null!==i;)null!==(e=i.alternate)&&null===er(e)&&(a=i),i=i.sibling;null===(i=a)?(a=t.child,t.child=null):(a=i.sibling,i.sibling=null),_o(t,!1,a,i,s);break;case"backwards":for(i=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===er(e)){t.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}_o(t,!0,i,null,s);break;case"together":_o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(i=Rc(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Rc(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Wo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var a=e.child;null!==a;)i|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)i|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Zo(e,t,i){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Ea(t.type)&&Ra(),Ho(t),null;case 3:return n=t.stateNode,Xs(),wa(Aa),wa(La),ir(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(rc(ss),ss=null))),Eo(e,t),Ho(t),null;case 5:qs(t);var a=Ks(Zs.current);if(i=t.type,null!==e&&null!=t.stateNode)Ro(e,t,i,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Ho(t),null}if(e=Ks(Ws.current),us(t)){n=t.stateNode,i=t.type;var r=t.memoizedProps;switch(n[da]=t,n[pa]=r,e=0!==(1&t.mode),i){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(a=0;a<zn.length;a++)Fn(zn[a],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":X(n,r),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Fn("invalid",n);break;case"textarea":ae(n,r),Fn("invalid",n)}for(var l in xe(i,r),a=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==r.suppressHydrationWarning&&qn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&qn(n.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(i){case"input":H(n),J(n,r,!0);break;case"textarea":H(n),re(n);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(n.onclick=Jn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(i,{is:n.is}):(e=l.createElement(i),"select"===i&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,i),e[da]=t,e[pa]=n,To(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(i,n),i){case"dialog":Fn("cancel",e),Fn("close",e),a=n;break;case"iframe":case"object":case"embed":Fn("load",e),a=n;break;case"video":case"audio":for(a=0;a<zn.length;a++)Fn(zn[a],e);a=n;break;case"source":Fn("error",e),a=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),a=n;break;case"details":Fn("toggle",e),a=n;break;case"input":X(e,n),a=$(e,n),Fn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=P({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Fn("invalid",e)}for(r in xe(i,a),c=a)if(c.hasOwnProperty(r)){var h=c[r];"style"===r?me(e,h):"dangerouslySetInnerHTML"===r?null!=(h=h?h.__html:void 0)&&ue(e,h):"children"===r?"string"===typeof h?("textarea"!==i||""!==h)&&de(e,h):"number"===typeof h&&de(e,""+h):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=h&&"onScroll"===r&&Fn("scroll",e):null!=h&&b(e,r,h,l))}switch(i){case"input":H(e),J(e,n,!1);break;case"textarea":H(e),re(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?ie(e,!!n.multiple,r,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jn)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(i=Ks(Zs.current),Ks(Ws.current),us(t)){if(n=t.stateNode,i=t.memoizedProps,n[da]=t,(r=n.nodeValue!==i)&&null!==(e=is))switch(e.tag){case 3:qn(n.nodeValue,i,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qn(n.nodeValue,i,0!==(1&e.mode))}r&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[da]=t,t.stateNode=n}return Ho(t),null;case 13:if(wa(Js),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,r=!1;else if(r=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[da]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),r=!1}else null!==ss&&(rc(ss),ss=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Ol&&(Ol=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Xs(),Eo(e,t),null===e&&Un(t.stateNode.containerInfo),Ho(t),null;case 10:return Ns(t.type._context),Ho(t),null;case 19:if(wa(Js),null===(r=t.memoizedState))return Ho(t),null;if(n=0!==(128&t.flags),null===(l=r.rendering))if(n)Wo(r,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Wo(r,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(r=i).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ka(Js,1&Js.current|2),t.child}e=e.sibling}null!==r.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Wo(r,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=er(l))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Wo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!as)return Ho(t),null}else 2*Qe()-r.renderingStartTime>Ul&&1073741824!==i&&(t.flags|=128,n=!0,Wo(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(i=r.last)?i.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Qe(),t.sibling=null,i=Js.current,ka(Js,n?1&i|2:1&i),t):(Ho(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&El)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return Ea(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),wa(Aa),wa(La),ir(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return qs(t),null;case 13:if(wa(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wa(Js),null;case 4:return Xs(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}To=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Eo=function(){},Ro=function(e,t,i,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ks(Ws.current);var s,r=null;switch(i){case"input":a=$(e,a),n=$(e,n),r=[];break;case"select":a=P({},a,{value:void 0}),n=P({},n,{value:void 0}),r=[];break;case"textarea":a=ne(e,a),n=ne(e,n),r=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(h in xe(i,n),i=null,a)if(!n.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var l=a[h];for(s in l)l.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(o.hasOwnProperty(h)?r||(r=[]):(r=r||[]).push(h,null));for(h in n){var c=n[h];if(l=null!=a?a[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(i||(i={}),i[s]=c[s])}else i||(r||(r=[]),r.push(h,i)),i=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(o.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Fn("scroll",e),r||l===c||(r=[])):(r=r||[]).push(h,c))}i&&(r=r||[]).push("style",i);var h=r;(t.updateQueue=h)&&(t.flags|=4)}},Oo=function(e,t,i,n){i!==n&&(t.flags|=4)};var $o=!1,Xo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,qo=null;function Jo(e,t){var i=e.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(n){Dc(e,t,n)}else i.current=null}function el(e,t,i){try{i()}catch(n){Dc(e,t,n)}}var tl=!1;function il(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,i,s)}a=a.next}while(a!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function al(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[da],delete t[pa],delete t[fa],delete t[ma],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!==(i=i._reactRootContainer)&&void 0!==i||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,i),e=e.sibling;null!==e;)ll(e,t,i),e=e.sibling}function cl(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,i),e=e.sibling;null!==e;)cl(e,t,i),e=e.sibling}var hl=null,ul=!1;function dl(e,t,i){for(i=i.child;null!==i;)pl(e,t,i),i=i.sibling}function pl(e,t,i){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,i)}catch(o){}switch(i.tag){case 5:Xo||Jo(i,t);case 6:var n=hl,a=ul;hl=null,dl(e,t,i),ul=a,null!==(hl=n)&&(ul?(e=hl,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):hl.removeChild(i.stateNode));break;case 18:null!==hl&&(ul?(e=hl,i=i.stateNode,8===e.nodeType?la(e.parentNode,i):1===e.nodeType&&la(e,i),Ut(e)):la(hl,i.stateNode));break;case 4:n=hl,a=ul,hl=i.stateNode.containerInfo,ul=!0,dl(e,t,i),hl=n,ul=a;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,r=s.destroy;s=s.tag,void 0!==r&&(0!==(2&s)||0!==(4&s))&&el(i,t,r),a=a.next}while(a!==n)}dl(e,t,i);break;case 1:if(!Xo&&(Jo(i,t),"function"===typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(o){Dc(i,t,o)}dl(e,t,i);break;case 21:dl(e,t,i);break;case 22:1&i.mode?(Xo=(n=Xo)||null!==i.memoizedState,dl(e,t,i),Xo=n):dl(e,t,i);break;default:dl(e,t,i)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Qo),t.forEach((function(t){var n=Lc.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function fl(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var a=i[n];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,ul=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(r,o,a),hl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(h){Dc(a,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),yl(e),4&n){try{il(3,e,e.return),nl(3,e)}catch(m){Dc(e,e.return,m)}try{il(5,e,e.return)}catch(m){Dc(e,e.return,m)}}break;case 1:fl(t,e),yl(e),512&n&&null!==i&&Jo(i,i.return);break;case 5:if(fl(t,e),yl(e),512&n&&null!==i&&Jo(i,i.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(m){Dc(e,e.return,m)}}if(4&n&&null!=(a=e.stateNode)){var r=e.memoizedProps,o=null!==i?i.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&Q(a,r),be(l,o);var h=be(l,r);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];"style"===u?me(a,d):"dangerouslySetInnerHTML"===u?ue(a,d):"children"===u?de(a,d):b(a,u,d,h)}switch(l){case"input":q(a,r);break;case"textarea":se(a,r);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var g=r.value;null!=g?ie(a,!!r.multiple,g,!1):p!==!!r.multiple&&(null!=r.defaultValue?ie(a,!!r.multiple,r.defaultValue,!0):ie(a,!!r.multiple,r.multiple?[]:"",!1))}a[pa]=r}catch(m){Dc(e,e.return,m)}}break;case 6:if(fl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,r=e.memoizedProps;try{a.nodeValue=r}catch(m){Dc(e,e.return,m)}}break;case 3:if(fl(t,e),yl(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Dc(e,e.return,m)}break;case 4:default:fl(t,e),yl(e);break;case 13:fl(t,e),yl(e),8192&(a=e.child).flags&&(r=null!==a.memoizedState,a.stateNode.isHidden=r,!r||null!==a.alternate&&null!==a.alternate.memoizedState||(_l=Qe())),4&n&&gl(e);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&e.mode?(Xo=(h=Xo)||u,fl(t,e),Xo=h):fl(t,e),yl(e),8192&n){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!u&&0!==(1&e.mode))for(qo=e,u=e.child;null!==u;){for(d=qo=u;null!==qo;){switch(g=(p=qo).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:Jo(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,i=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Dc(n,i,m)}}break;case 5:Jo(p,p.return);break;case 22:if(null!==p.memoizedState){Ml(d);continue}}null!==g?(g.return=p,qo=g):Ml(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{a=d.stateNode,h?"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(m){Dc(e,e.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(m){Dc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(t,e),yl(e),4&n&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(rl(i)){var n=i;break e}i=i.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(de(a,""),n.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var r=n.stateNode.containerInfo;ll(e,ol(e),r);break;default:throw Error(s(161))}}catch(o){Dc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,i){qo=e,bl(e,t,i)}function bl(e,t,i){for(var n=0!==(1&e.mode);null!==qo;){var a=qo,s=a.child;if(22===a.tag&&n){var r=null!==a.memoizedState||$o;if(!r){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=$o;var c=Xo;if($o=r,(Xo=l)&&!c)for(qo=a;null!==qo;)l=(r=qo).child,22===r.tag&&null!==r.memoizedState?Sl(a):null!==l?(l.return=r,qo=l):Sl(a);for(;null!==s;)qo=s,bl(s,t,i),s=s.sibling;qo=a,$o=o,Xo=c}vl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,qo=s):vl(e)}}function vl(e){for(;null!==qo;){var t=qo;if(0!==(8772&t.flags)){var i=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xo)if(null===i)n.componentDidMount();else{var a=t.elementType===t.type?i.memoizedProps:to(t.type,i.memoizedProps);n.componentDidUpdate(a,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Ys(t,r,n);break;case 3:var o=t.updateQueue;if(null!==o){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Ys(t,o,i)}break;case 5:var l=t.stateNode;if(null===i&&4&t.flags){i=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&i.focus();break;case"img":c.src&&(i.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var u=h.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&al(t)}catch(p){Dc(t,t.return,p)}}if(t===e){qo=null;break}if(null!==(i=t.sibling)){i.return=t.return,qo=i;break}qo=t.return}}function Ml(e){for(;null!==qo;){var t=qo;if(t===e){qo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,qo=i;break}qo=t.return}}function Sl(e){for(;null!==qo;){var t=qo;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(l){Dc(t,i,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(l){Dc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Dc(t,s,l)}break;case 5:var r=t.return;try{al(t)}catch(l){Dc(t,r,l)}}}catch(l){Dc(t,t.return,l)}if(t===e){qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,qo=o;break}qo=t.return}}var Il,Dl=Math.ceil,wl=v.ReactCurrentDispatcher,kl=v.ReactCurrentOwner,Nl=v.ReactCurrentBatchConfig,Ll=0,Al=null,Cl=null,Tl=0,El=0,Rl=Da(0),Ol=0,zl=null,jl=0,Pl=0,Bl=0,Fl=null,Gl=null,_l=0,Ul=1/0,Yl=null,Vl=!1,Wl=null,Hl=null,Zl=!1,Kl=null,$l=0,Xl=0,Ql=null,ql=-1,Jl=0;function ec(){return 0!==(6&Ll)?Qe():-1!==ql?ql:ql=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ll)&&0!==Tl?Tl&-Tl:null!==fs.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ic(e,t,i,n){if(50<Xl)throw Xl=0,Ql=null,Error(s(185));yt(e,i,n),0!==(2&Ll)&&e===Al||(e===Al&&(0===(2&Ll)&&(Pl|=i),4===Ol&&oc(e,Tl)),nc(e,n),1===i&&0===Ll&&0===(1&t.mode)&&(Ul=Qe()+500,Fa&&Ua()))}function nc(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var r=31-rt(s),o=1<<r,l=a[r];-1===l?0!==(o&i)&&0===(o&n)||(a[r]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var n=dt(e,e===Al?Tl:0);if(0===n)null!==i&&Ke(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&Ke(i),1===t)0===e.tag?function(e){Fa=!0,_a(e)}(lc.bind(null,e)):_a(lc.bind(null,e)),ra((function(){0===(6&Ll)&&Ua()})),i=null;else{switch(vt(n)){case 1:i=Je;break;case 4:i=et;break;case 16:default:i=tt;break;case 536870912:i=nt}i=Ac(i,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ac(e,t){if(ql=-1,Jl=0,0!==(6&Ll))throw Error(s(327));var i=e.callbackNode;if(Sc()&&e.callbackNode!==i)return null;var n=dt(e,e===Al?Tl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var a=Ll;Ll|=2;var r=gc();for(Al===e&&Tl===t||(Yl=null,Ul=Qe()+500,dc(e,t));;)try{xc();break}catch(l){pc(e,l)}ks(),wl.current=r,Ll=a,null!==Cl?t=0:(Al=null,Tl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=gt(e))&&(n=a,t=sc(e,a))),1===t)throw i=zl,dc(e,0),oc(e,n),nc(e,Qe()),i;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var a=i[n],s=a.getSnapshot;a=a.value;try{if(!on(s(),a))return!1}catch(o){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,n))&&(0!==(r=gt(e))&&(n=r,t=sc(e,r))),1===t))throw i=zl,dc(e,0),oc(e,n),nc(e,Qe()),i;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Mc(e,Gl,Yl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=_l+500-Qe())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Mc.bind(null,e,Gl,Yl),t);break}Mc(e,Gl,Yl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-rt(n);r=1<<o,(o=t[o])>a&&(a=o),n&=~r}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Dl(n/1960))-n)){e.timeoutHandle=na(Mc.bind(null,e,Gl,Yl),n);break}Mc(e,Gl,Yl);break;default:throw Error(s(329))}}}return nc(e,Qe()),e.callbackNode===i?ac.bind(null,e):null}function sc(e,t){var i=Fl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Gl,Gl=i,null!==t&&rc(t)),e}function rc(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function oc(e,t){for(t&=~Bl,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-rt(t),n=1<<i;e[i]=-1,t&=~n}}function lc(e){if(0!==(6&Ll))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return nc(e,Qe()),null;var i=mc(e,t);if(0!==e.tag&&2===i){var n=gt(e);0!==n&&(t=n,i=sc(e,n))}if(1===i)throw i=zl,dc(e,0),oc(e,t),nc(e,Qe()),i;if(6===i)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mc(e,Gl,Yl),nc(e,Qe()),null}function cc(e,t){var i=Ll;Ll|=1;try{return e(t)}finally{0===(Ll=i)&&(Ul=Qe()+500,Fa&&Ua())}}function hc(e){null!==Kl&&0===Kl.tag&&0===(6&Ll)&&Sc();var t=Ll;Ll|=1;var i=Nl.transition,n=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=n,Nl.transition=i,0===(6&(Ll=t))&&Ua()}}function uc(){El=Rl.current,wa(Rl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,aa(i)),null!==Cl)for(i=Cl.return;null!==i;){var n=i;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ra();break;case 3:Xs(),wa(Aa),wa(La),ir();break;case 5:qs(n);break;case 4:Xs();break;case 13:case 19:wa(Js);break;case 10:Ns(n.type._context);break;case 22:case 23:uc()}i=i.return}if(Al=e,Cl=e=Rc(e.current,null),Tl=El=t,Ol=0,zl=null,Bl=Pl=jl=0,Gl=Fl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(n=(i=Ts[t]).interleaved)){i.interleaved=null;var a=n.next,s=i.pending;if(null!==s){var r=s.next;s.next=a,n.next=r}i.pending=n}Ts=null}return e}function pc(e,t){for(;;){var i=Cl;try{if(ks(),nr.current=Qr,cr){for(var n=rr.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}cr=!1}if(sr=0,lr=or=rr=null,hr=!1,ur=0,kl.current=null,null===i||null===i.return){Ol=1,zl=t,Cl=null;break}e:{var r=e,o=i.return,l=i,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=mo(o);if(null!==g){g.flags&=-257,yo(g,o,l,0,t),1&g.mode&&fo(r,h,t),c=h;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(c),t.updateQueue=m}else f.add(c);break e}if(0===(1&t)){fo(r,h,t),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var y=mo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),gs(lo(c,l));break e}}r=c=lo(c,l),4!==Ol&&(Ol=2),null===Fl?Fl=[r]:Fl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,_s(r,po(0,c,t));break e;case 1:l=c;var x=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,_s(r,go(r,l,t));break e}}r=r.return}while(null!==r)}vc(i)}catch(v){t=v,Cl===i&&null!==i&&(Cl=i=i.return);continue}break}}function gc(){var e=wl.current;return wl.current=Qr,null===e?Qr:e}function fc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&jl)&&0===(268435455&Pl)||oc(Al,Tl)}function mc(e,t){var i=Ll;Ll|=2;var n=gc();for(Al===e&&Tl===t||(Yl=null,dc(e,t));;)try{yc();break}catch(a){pc(e,a)}if(ks(),Ll=i,wl.current=n,null!==Cl)throw Error(s(261));return Al=null,Tl=0,Ol}function yc(){for(;null!==Cl;)bc(Cl)}function xc(){for(;null!==Cl&&!$e();)bc(Cl)}function bc(e){var t=Il(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?vc(e):Cl=t,kl.current=null}function vc(e){var t=e;do{var i=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(i=Zo(i,t,El)))return void(Cl=i)}else{if(null!==(i=Ko(i,t)))return i.flags&=32767,void(Cl=i);if(null===e)return Ol=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Mc(e,t,i){var n=bt,a=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,i,n){do{Sc()}while(null!==Kl);if(0!==(6&Ll))throw Error(s(327));i=e.finishedWork;var a=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var r=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-rt(i),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,i&=~s}}(e,r),e===Al&&(Cl=Al=null,Tl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Zl||(Zl=!0,Ac(tt,(function(){return Sc(),null}))),r=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||r){r=Nl.transition,Nl.transition=null;var o=bt;bt=1;var l=Ll;Ll|=4,kl.current=null,function(e,t){if(ea=Vt,pn(e=dn())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var a=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch(M){i=null;break e}var o=0,l=-1,c=-1,h=0,u=0,d=e,p=null;t:for(;;){for(var g;d!==i||0!==a&&3!==d.nodeType||(l=o+a),d!==r||0!==n&&3!==d.nodeType||(c=o+n),3===d.nodeType&&(o+=d.nodeValue.length),null!==(g=d.firstChild);)p=d,d=g;for(;;){if(d===e)break t;if(p===i&&++h===a&&(l=o),p===r&&++u===n&&(c=o),null!==(g=d.nextSibling))break;p=(d=p).parentNode}d=g}i=-1===l||-1===c?null:{start:l,end:c}}else i=null}i=i||{start:0,end:0}}else i=null;for(ta={focusedElem:e,selectionRange:i},Vt=!1,qo=t;null!==qo;)if(e=(t=qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,qo=e;else for(;null!==qo;){t=qo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,y=f.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:to(t.type,m),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(M){Dc(t,t.return,M)}if(null!==(e=t.sibling)){e.return=t.return,qo=e;break}qo=t.return}f=tl,tl=!1}(e,i),ml(i,e),gn(ta),Vt=!!ea,ta=ea=null,e.current=i,xl(i,e,a),Xe(),Ll=l,bt=o,Nl.transition=r}else e.current=i;if(Zl&&(Zl=!1,Kl=e,$l=a),r=e.pendingLanes,0===r&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(i.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)a=t[i],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&$l)&&0!==e.tag&&Sc(),r=e.pendingLanes,0!==(1&r)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Ua()}(e,t,i,n)}finally{Nl.transition=a,bt=n}return null}function Sc(){if(null!==Kl){var e=vt($l),t=Nl.transition,i=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,$l=0,0!==(6&Ll))throw Error(s(331));var a=Ll;for(Ll|=4,qo=e.current;null!==qo;){var r=qo,o=r.child;if(0!==(16&qo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var h=l[c];for(qo=h;null!==qo;){var u=qo;switch(u.tag){case 0:case 11:case 15:il(8,u,r)}var d=u.child;if(null!==d)d.return=u,qo=d;else for(;null!==qo;){var p=(u=qo).sibling,g=u.return;if(sl(u),u===h){qo=null;break}if(null!==p){p.return=g,qo=p;break}qo=g}}}var f=r.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}qo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,qo=o;else e:for(;null!==qo;){if(0!==(2048&(r=qo).flags))switch(r.tag){case 0:case 11:case 15:il(9,r,r.return)}var x=r.sibling;if(null!==x){x.return=r.return,qo=x;break e}qo=r.return}}var b=e.current;for(qo=b;null!==qo;){var v=(o=qo).child;if(0!==(2064&o.subtreeFlags)&&null!==v)v.return=o,qo=v;else e:for(o=b;null!==qo;){if(0!==(2048&(l=qo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){Dc(l,l.return,S)}if(l===o){qo=null;break e}var M=l.sibling;if(null!==M){M.return=l.return,qo=M;break e}qo=l.return}}if(Ll=a,Ua(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(S){}n=!0}return n}finally{bt=i,Nl.transition=t}}return!1}function Ic(e,t,i){e=Fs(e,t=po(0,t=lo(i,t),1),1),t=ec(),null!==e&&(yt(e,1,t),nc(e,t))}function Dc(e,t,i){if(3===e.tag)Ic(e,e,i);else for(;null!==t;){if(3===t.tag){Ic(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Hl||!Hl.has(n))){t=Fs(t,e=go(t,e=lo(i,e),1),1),e=ec(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function wc(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&i,Al===e&&(Tl&i)===i&&(4===Ol||3===Ol&&(130023424&Tl)===Tl&&500>Qe()-_l?dc(e,0):Bl|=i),nc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var i=ec();null!==(e=Os(e,t))&&(yt(e,t,i),nc(e,i))}function Nc(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),kc(e,i)}function Lc(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(i=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),kc(e,i)}function Ac(e,t){return Ze(e,t)}function Cc(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,i,n){return new Cc(e,t,i,n)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var i=e.alternate;return null===i?((i=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Oc(e,t,i,n,a,r){var o=2;if(n=e,"function"===typeof e)Ec(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case I:return zc(i.children,a,r,t);case D:o=8,a|=8;break;case w:return(e=Tc(12,i,t,2|a)).elementType=w,e.lanes=r,e;case A:return(e=Tc(13,i,t,a)).elementType=A,e.lanes=r,e;case C:return(e=Tc(19,i,t,a)).elementType=C,e.lanes=r,e;case R:return jc(i,a,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case N:o=9;break e;case L:o=11;break e;case T:o=14;break e;case E:o=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(o,i,t,a)).elementType=e,t.type=n,t.lanes=r,t}function zc(e,t,i,n){return(e=Tc(7,e,n,t)).lanes=i,e}function jc(e,t,i,n){return(e=Tc(22,e,n,t)).elementType=R,e.lanes=i,e.stateNode={isHidden:!1},e}function Pc(e,t,i){return(e=Tc(6,e,null,t)).lanes=i,e}function Bc(e,t,i){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,i,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Gc(e,t,i,n,a,s,r,o,l){return e=new Fc(e,t,i,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},js(s),e}function _c(e){if(!e)return Na;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ea(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var i=e.type;if(Ea(i))return za(e,i,t)}return t}function Uc(e,t,i,n,a,s,r,o,l){return(e=Gc(i,n,!0,e,0,s,0,o,l)).context=_c(null),i=e.current,(s=Bs(n=ec(),a=tc(i))).callback=void 0!==t&&null!==t?t:null,Fs(i,s,a),e.current.lanes=a,yt(e,a,n),nc(e,n),e}function Yc(e,t,i,n){var a=t.current,s=ec(),r=tc(a);return i=_c(i),null===t.context?t.context=i:t.pendingContext=i,(t=Bs(s,r)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fs(a,t,r))&&(ic(e,a,r,s),Gs(e,a,r)),r}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Il=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)bo=!0;else{if(0===(e.lanes&i)&&0===(128&t.flags))return bo=!1,function(e,t,i){switch(t.tag){case 3:Ao(t),ps();break;case 5:Qs(t);break;case 1:Ea(t.type)&&ja(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ka(Ss,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ka(Js,1&Js.current),t.flags|=128,null):0!==(i&t.child.childLanes)?Po(e,t,i):(ka(Js,1&Js.current),null!==(e=Vo(e,t,i))?e.sibling:null);ka(Js,1&Js.current);break;case 19:if(n=0!==(i&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,i);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ka(Js,Js.current),n)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,i)}return Vo(e,t,i)}(e,t,i);bo=0!==(131072&e.flags)}else bo=!1,as&&0!==(1048576&t.flags)&&Ja(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yo(e,t),e=t.pendingProps;var a=Ta(t,La.current);As(t,i),a=fr(null,t,n,e,a,i);var r=mr();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ea(n)?(r=!0,ja(t)):r=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,js(t),a.updater=no,t.stateNode=a,a._reactInternals=t,oo(t,n,e,i),t=Lo(null,t,n,!0,r,i)):(t.tag=0,as&&r&&es(t),vo(null,t,a,i),t=t.child),t;case 16:n=t.elementType;e:{switch(Yo(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Ec(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===T)return 14}return 2}(n),e=to(n,e),a){case 0:t=ko(null,t,n,e,i);break e;case 1:t=No(null,t,n,e,i);break e;case 11:t=Mo(null,t,n,e,i);break e;case 14:t=So(null,t,n,to(n.type,e),i);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,ko(e,t,n,a=t.elementType===n?a:to(n,a),i);case 1:return n=t.type,a=t.pendingProps,No(e,t,n,a=t.elementType===n?a:to(n,a),i);case 3:e:{if(Ao(t),null===e)throw Error(s(387));n=t.pendingProps,a=(r=t.memoizedState).element,Ps(e,t),Us(t,n,null,i);var o=t.memoizedState;if(n=o.element,r.isDehydrated){if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Co(e,t,n,i,a=lo(Error(s(423)),t));break e}if(n!==a){t=Co(e,t,n,i,a=lo(Error(s(424)),t));break e}for(ns=ca(t.stateNode.containerInfo.firstChild),is=t,as=!0,ss=null,i=Ms(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(ps(),n===a){t=Vo(e,t,i);break e}vo(e,t,n,i)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),n=t.type,a=t.pendingProps,r=null!==e?e.memoizedProps:null,o=a.children,ia(n,a)?o=null:null!==r&&ia(n,r)&&(t.flags|=32),wo(e,t),vo(e,t,o,i),t.child;case 6:return null===e&&cs(t),null;case 13:return Po(e,t,i);case 4:return $s(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=vs(t,null,n,i):vo(e,t,n,i),t.child;case 11:return n=t.type,a=t.pendingProps,Mo(e,t,n,a=t.elementType===n?a:to(n,a),i);case 7:return vo(e,t,t.pendingProps,i),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,r=t.memoizedProps,o=a.value,ka(Ss,n._currentValue),n._currentValue=o,null!==r)if(on(r.value,o)){if(r.children===a.children&&!Aa.current){t=Vo(e,t,i);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===r.tag){(c=Bs(-1,i&-i)).tag=2;var h=r.updateQueue;if(null!==h){var u=(h=h.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),h.pending=c}}r.lanes|=i,null!==(c=r.alternate)&&(c.lanes|=i),Ls(r.return,i,t),l.lanes|=i;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=i,null!==(l=o.alternate)&&(l.lanes|=i),Ls(o,i,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}vo(e,t,a.children,i),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,As(t,i),n=n(a=Cs(a)),t.flags|=1,vo(e,t,n,i),t.child;case 14:return a=to(n=t.type,t.pendingProps),So(e,t,n,a=to(n.type,a),i);case 15:return Io(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:to(n,a),Yo(e,t),t.tag=1,Ea(n)?(e=!0,ja(t)):e=!1,As(t,i),so(t,n,a),oo(t,n,a,i),Lo(null,t,n,!0,e,i);case 19:return Uo(e,t,i);case 22:return Do(e,t,i)}throw Error(s(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qc(){}function Jc(e,t,i,n,a){var s=i._reactRootContainer;if(s){var r=s;if("function"===typeof a){var o=a;a=function(){var e=Vc(r);o.call(e)}}Yc(t,r,e,a)}else r=function(e,t,i,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Vc(r);s.call(e)}}var r=Uc(t,n,e,0,null,!1,0,"",qc);return e._reactRootContainer=r,e[ga]=r.current,Un(8===e.nodeType?e.parentNode:e),hc(),r}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var o=n;n=function(){var e=Vc(l);o.call(e)}}var l=Gc(e,0,!1,null,0,!1,0,"",qc);return e._reactRootContainer=l,e[ga]=l.current,Un(8===e.nodeType?e.parentNode:e),hc((function(){Yc(t,l,i,n)})),l}(i,t,e,a,n);return Vc(r)}$c.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Yc(e,t,null,null)},$c.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Yc(null,e,null,null)})),t[ga]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dt();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Rt.length&&0!==t&&t<Rt[i].priority;i++);Rt.splice(i,0,e),0===i&&Pt(e)}},Mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=ut(t.pendingLanes);0!==i&&(xt(t,1|i),nc(t,Qe()),0===(6&Ll)&&(Ul=Qe()+500,Ua()))}break;case 13:hc((function(){var t=Os(e,1);if(null!==t){var i=ec();ic(t,e,1,i)}})),Hc(e,1)}},St=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)ic(t,e,134217728,ec());Hc(e,134217728)}},It=function(e){if(13===e.tag){var t=tc(e),i=Os(e,t);if(null!==i)ic(i,e,t,ec());Hc(e,t)}},Dt=function(){return bt},wt=function(e,t){var i=bt;try{return bt=e,t()}finally{bt=i}},Se=function(e,t,i){switch(t){case"input":if(q(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var a=Ma(n);if(!a)throw Error(s(90));Z(n),q(n,a)}}}break;case"textarea":se(e,i);break;case"select":null!=(t=i.value)&&ie(e,!!i.multiple,t,!1)}},Le=cc,Ae=hc;var eh={usingClientEntryPoint:!1,Events:[ba,va,Ma,ke,Ne,cc]},th={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ih={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{at=nh.inject(ih),st=nh}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,t.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var i=!1,n="",a=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Gc(e,1,!1,null,0,i,0,n,a),e[ga]=t.current,Un(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,i){if(!Qc(t))throw Error(s(200));return Jc(null,e,t,!0,i)},t.hydrateRoot=function(e,t,i){if(!Xc(e))throw Error(s(405));var n=null!=i&&i.hydratedSources||null,a=!1,r="",o=Zc;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(a=!0),void 0!==i.identifierPrefix&&(r=i.identifierPrefix),void 0!==i.onRecoverableError&&(o=i.onRecoverableError)),t=Uc(t,null,e,1,null!=i?i:null,a,0,r,o),e[ga]=t.current,Un(e),n)for(e=0;e<n.length;e++)a=(a=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,a]:t.mutableSourceEagerHydrationData.push(i,a);return new $c(t)},t.render=function(e,t,i){if(!Qc(t))throw Error(s(200));return Jc(null,e,t,!1,i)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ga]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!Qc(i))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,i,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,i)=>{var n=i(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},950:(e,t,i)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(730)},153:(e,t,i)=>{var n=i(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,i){var n,s={},c=null,h=null;for(n in void 0!==i&&(c=""+i),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)r.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:h,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function y(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||g}function x(){}function b(e,t,i){this.props=e,this.context=t,this.refs=m,this.updater=i||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var v=b.prototype=new x;v.constructor=b,f(v,y.prototype),v.isPureReactComponent=!0;var M=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var a,s={},r=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)S.call(t,a)&&!D.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:i,type:e,key:r,ref:o,props:s,_owner:I.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var N=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,s,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case n:l=!0}}if(l)return r=r(l=e),e=""===s?"."+L(l,0):s,M(r)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),A(r,t,a,"",(function(e){return e}))):null!=r&&(k(r)&&(r=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,a+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(N,"$&/")+"/")+e)),t.push(r)),1;if(l=0,s=""===s?".":s+":",M(e))for(var c=0;c<e.length;c++){var h=s+L(o=e[c],c);l+=A(o,t,a,h,r)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,a,h=s+L(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,i){if(null==e)return e;var n=[],a=0;return A(e,n,"","",(function(e){return t.call(i,e,a++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},R={transition:null},O={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:R,ReactCurrentOwner:I};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,i){C(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=r,t.PureComponent=b,t.StrictMode=s,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!D.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:i,type:e.type,key:s,ref:r,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,i){return E.current.useImperativeHandle(e,t,i)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,i){return E.current.useReducer(e,t,i)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,i){return E.current.useSyncExternalStore(e,t,i)},t.useTransition=function(){return E.current.useTransition()},t.version="18.3.1"},43:(e,t,i)=>{e.exports=i(202)},579:(e,t,i)=>{e.exports=i(153)},234:(e,t)=>{function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[i]=a,i=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,a=e.length,r=a>>>1;n<r;){var o=2*(n+1)-1,l=e[o],c=o+1,h=e[c];if(0>s(l,i))c<a&&0>s(h,l)?(e[n]=h,e[c]=i,n=c):(e[n]=l,e[o]=i,n=o);else{if(!(c<a&&0>s(h,i)))break e;e[n]=h,e[c]=i,n=c}}}return t}function s(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],u=1,d=null,p=3,g=!1,f=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(h);null!==t;){if(null===t.callback)a(h);else{if(!(t.startTime<=e))break;a(h),t.sortIndex=t.expirationTime,i(c,t)}t=n(h)}}function M(e){if(m=!1,v(e),!f)if(null!==n(c))f=!0,R(S);else{var t=n(h);null!==t&&O(M,t.startTime-e)}}function S(e,i){f=!1,m&&(m=!1,x(k),k=-1),g=!0;var s=p;try{for(v(i),d=n(c);null!==d&&(!(d.expirationTime>i)||e&&!A());){var r=d.callback;if("function"===typeof r){d.callback=null,p=d.priorityLevel;var o=r(d.expirationTime<=i);i=t.unstable_now(),"function"===typeof o?d.callback=o:d===n(c)&&a(c),v(i)}else a(c);d=n(c)}if(null!==d)var l=!0;else{var u=n(h);null!==u&&O(M,u.startTime-i),l=!1}return l}finally{d=null,p=s,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,D=!1,w=null,k=-1,N=5,L=-1;function A(){return!(t.unstable_now()-L<N)}function C(){if(null!==w){var e=t.unstable_now();L=e;var i=!0;try{i=w(!0,e)}finally{i?I():(D=!1,w=null)}}else D=!1}if("function"===typeof b)I=function(){b(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,E=T.port2;T.port1.onmessage=C,I=function(){E.postMessage(null)}}else I=function(){y(C,0)};function R(e){w=e,D||(D=!0,I())}function O(e,i){k=y((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,a,s){var r=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>r?(e.sortIndex=s,i(h,e),null===n(c)&&e===n(h)&&(m?(x(k),k=-1):m=!0,O(M,s-r))):(e.sortIndex=o,i(c,e),f||g||(f=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},853:(e,t,i)=>{e.exports=i(234)},241:(e,t,i)=>{e.exports=i.p+"static/media/cv.02512304f199ff1ab460.pdf"},548:(e,t,i)=>{e.exports=i.p+"static/media/Saint-Marie.0a95292d603ec275cdd2.jpg"},606:(e,t,i)=>{e.exports=i.p+"static/media/ecam.2e4e5f9fb5e3694f5bf6.png"},160:(e,t,i)=>{e.exports=i.p+"static/media/ephec.e2e7cd5149b5cfd04961.jpeg"},586:(e,t,i)=>{e.exports=i.p+"static/media/exp1.5c5d82d10ff2ee167c10.png"},129:(e,t,i)=>{e.exports=i.p+"static/media/exp2.0436a71e5388b0ee57d2.jpg"},972:(e,t,i)=>{e.exports=i.p+"static/media/exp3.60e3334b410cbdb4af89.jpg"},295:(e,t,i)=>{e.exports=i.p+"static/media/exp4.dc8a0aab6442e5da32bc.png"},278:(e,t,i)=>{e.exports=i.p+"static/media/exp5.8fa37a8ab1bf8851888c.png"},385:(e,t,i)=>{e.exports=i.p+"static/media/pix.ae41340272013907d200.png"},736:(e,t,i)=>{e.exports=i.p+"static/media/pp.fa0bfd735a122b1a1646.jpg"}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}i.m=e,i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"static/js/"+e+".51b2f1c6.chunk.js",i.miniCssF=e=>{},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="simon-degroote.github.io:";i.l=(n,a,s,r)=>{if(e[n])e[n].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var u=c[h];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",t+s),o.src=n),e[n]=[a];var d=(t,i)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(i))),t)return t(i)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),i.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/",(()=>{var e={792:0};i.f.j=(t,n)=>{var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(((i,n)=>a=e[t]=[i,n]));n.push(a[2]=s);var r=i.p+i.u(t),o=new Error;i.l(r,(n=>{if(i.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",o.name="ChunkLoadError",o.type=s,o.request=r,a[1](o)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,s,r=n[0],o=n[1],l=n[2],c=0;if(r.some((t=>0!==e[t]))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(l)l(i)}for(t&&t(n);c<r.length;c++)s=r[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunksimon_degroote_github_io=self.webpackChunksimon_degroote_github_io||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=i(43),a=i(391),s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=(e,t)=>{for(var i in t)s(e,i,{get:t[i],enumerable:!0})},l=(e,t,i,n)=>{for(var a,o=n>1?void 0:n?r(t,i):t,l=e.length-1;l>=0;l--)(a=e[l])&&(o=(n?a(t,i,o):a(o))||o);return n&&o&&s(t,i,o),o},c={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"};var h=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"],u=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(u||{});o({},{TimeInterval:()=>x,day:()=>B,friday:()=>H,hour:()=>j,millisecond:()=>v,minute:()=>R,monday:()=>U,month:()=>$,saturday:()=>Z,second:()=>C,sunday:()=>_,thursday:()=>W,tuesday:()=>Y,utcDay:()=>te,utcHour:()=>ee,utcMinute:()=>J,utcMonth:()=>ie,utcYear:()=>ne,wednesday:()=>V,year:()=>Q});var d=new Map;function p(e,t){d.has(t)||(d.set(t,!0),e())}function g(e){return e}function*f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)yield*n}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const{leading:n=!0,trailing:a=!0}=i??{};let s,r,o=!1;function l(){a&&r?(s=setTimeout(l,t),e(...r)):o=!1,r=null}return Object.assign((function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];o?r=a:(o=!0,s=setTimeout(l,t),n?e(...a):r=a)}),{cancel(){clearTimeout(s),o=!1,r=null}})}p.clear=()=>d.clear();var y={log(){console.log(...arguments)},warn(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.warn(`AG Charts - ${e}`,...i)},error(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];"object"===typeof e?console.error("AG Charts error",e,...i):console.error(`AG Charts - ${e}`,...i)},table(){console.table(...arguments)},warnOnce(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];p((()=>y.warn(e,...i)),`Logger.warn: ${e}`)},errorOnce(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];p((()=>y.error(e,...i)),`Logger.error: ${e}`)}},x=class{constructor(e,t,i){this._encode=e,this._decode=t,this._rangeCallback=i}floor(e){const t=new Date(e),i=this._encode(t);return this._decode(i)}ceil(e){const t=new Date(Number(e)-1),i=this._encode(t);return this._decode(i+1)}range(e,t,i){const n=this._rangeCallback?.(e,t),a=this._encode(i?this.floor(e):this.ceil(e)),s=this._encode(i?this.ceil(t):this.floor(t));if(s<a)return[];const r=[];for(let o=a;o<=s;o++){const e=this._decode(o);r.push(e)}return n?.(),r}},b=class extends x{getOffset(e,t){const i="number"===typeof e||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(i)%t}every(e,t){let i,n=0;const a=e;a!==(e=Math.max(1,Math.round(e)))&&y.warnOnce(`interval step of [${a}] rounded to [${e}].`);const{snapTo:s="start"}=t??{};if("string"===typeof s){const t=n;i=(i,a)=>{const r="start"===s?i:a;return n=this.getOffset(r,e),()=>n=t}}else"number"===typeof s?n=this.getOffset(new Date(s),e):s instanceof Date&&(n=this.getOffset(s,e));return new x((t=>{const i=this._encode(t);return Math.floor((i-n)/e)}),(t=>this._decode(t*e+n)),i)}};var v=new b((function(e){return e.getTime()}),(function(e){return new Date(e)})),M=v,S=(new Date(0).getFullYear(),1e3),I=60*S,D=60*I,w=24*D,k=7*w,N=30*w,L=365*w,A=(new Date).getTimezoneOffset()*I;var C=new b((function(e){return Math.floor((e.getTime()-A)/S)}),(function(e){return new Date(A+e*S)})),T=C,E=(new Date).getTimezoneOffset()*I;var R=new b((function(e){return Math.floor((e.getTime()-E)/I)}),(function(e){return new Date(E+e*I)})),O=R,z=(new Date).getTimezoneOffset()*I;var j=new b((function(e){return Math.floor((e.getTime()-z)/D)}),(function(e){return new Date(z+e*D)})),P=j;var B=new b((function(e){const t=e.getTimezoneOffset()*I;return Math.floor((e.getTime()-t)/w)}),(function(e){const t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t})),F=B;function G(e){const t=(7+e-4)%7;return new b((function(e){const i=e.getTimezoneOffset()*I;return Math.floor((e.getTime()-i)/k-t/7)}),(function(e){const i=new Date(1970,0,1);return i.setDate(i.getDate()+7*e+t),i}))}var _=G(0),U=G(1),Y=G(2),V=G(3),W=G(4),H=G(5),Z=G(6),K=_;var $=new b((function(e){return 12*e.getFullYear()+e.getMonth()}),(function(e){const t=Math.floor(e/12);return new Date(t,e-12*t,1)})),X=$;var Q=new b((function(e){return e.getFullYear()}),(function(e){const t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t})),q=Q;var J=new b((function(e){return Math.floor(e.getTime()/I)}),(function(e){return new Date(e*I)}));var ee=new b((function(e){return Math.floor(e.getTime()/D)}),(function(e){return new Date(e*D)}));var te=new b((function(e){return Math.floor(e.getTime()/w)}),(function(e){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}));var ie=new b((function(e){return 12*e.getUTCFullYear()+e.getUTCMonth()}),(function(e){const t=Math.floor(e/12),i=e-12*t;return new Date(Date.UTC(t,i,1))}));var ne=new b((function(e){return e.getUTCFullYear()}),(function(e){const t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t})),ae={};o(ae,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Qt,fromToMotion:()=>qt,staticFromToMotion:()=>Jt});var se=new Map;function re(){se.clear()}function oe(e){const t=e.constructor,i=Object.hasOwn(t,"className")?t.className:t.name;if(!i)throw new Error(`The ${t} is missing the 'className' property.`);const n=(se.get(i)??0)+1;return se.set(i,n),`${i}-${n}`}function le(){return URL.createObjectURL(new Blob).split("/").at(-1)}function ce(e){return"object"===typeof e&&null!=e&&Symbol.iterator in e?e:ue(e)}function*he(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)for(const e of n)yield e}function*ue(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)yield n}var de="$interpolate",pe=e=>null!=e[de];function ge(e,t,i){const n={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const a of i){const i=a.distanceSquared(e,t);if(0===i)return{nearest:a,distanceSquared:0};i<n.distanceSquared&&(n.nearest=a,n.distanceSquared=i)}return n}function fe(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:a,y:s}=i.transformPoint(e,t),r={nearest:void 0,distanceSquared:n};for(const o of i.children){const{nearest:e,distanceSquared:t}=o.nearestSquared(a,s,r.distanceSquared);if(0===t)return{nearest:e,distanceSquared:t};t<r.distanceSquared&&(r.nearest=e,r.distanceSquared=t)}return r}function me(e,t,i){return Math.min(i,Math.max(e,t))}function ye(e,t){const[i,n]=xe(t);return me(i,e,n)}function xe(e){if(0===e.length)return[];const t=[1/0,-1/0];for(const i of e)i<t[0]&&(t[0]=i),i>t[1]&&(t[1]=i);return t}function be(e){const[t,i]=xe(e);return i-t}function ve(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return Math.abs(e-t)<i}function Me(e){return-1===Math.sign(e)||Object.is(e,-0)}function Se(e){const t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(e*t)/t}function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const i=Math.floor(Math.log(Math.abs(e))/Math.LN10);return i>=0||!isFinite(i)?e.toFixed(t):e.toFixed(Math.abs(i)-1+t)}function De(e,t){return Math.floor(e%t+(e<0?t:0))}function we(e){return Math.floor(e)===e?0:String(e).split(".")[1]?.length??0}function ke(e,t){return t=t??navigator.language,new Intl.NumberFormat(t,{style:"percent"}).format(e)}function Ne(e,t){return ke(e/100,t)}var Le=class e{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}static fromDOMRect(t){let{x:i,y:n,width:a,height:s}=t;return new e(i,n,a,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON:()=>({})}}clone(){const{x:t,y:i,width:n,height:a}=this;return new e(t,i,n,a)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}intersection(t){if(!this.collidesBBox(t))return;const i=me(t.x,this.x,t.x+t.width),n=me(t.y,this.y,t.y+t.height),a=me(t.x,this.x+this.width,t.x+t.width),s=me(t.y,this.y+this.height,t.y+t.height);return new e(i,n,a-i,s-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const i=e-me(this.x,e,this.x+this.width),n=t-me(this.y,t,this.y+this.height);return i*i+n*n}static nearestBox(e,t,i){return ge(e,t,i)}clip(e){if(void 0===e)return this;const t=Math.max(this.x,e.x),i=Math.max(this.y,e.y),n=Math.min(this.x+this.width,e.x+e.width),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.y=i,this.width=Math.max(0,n-t),this.height=Math.max(0,a-i),this}shrink(e,t){const i=(e,t)=>{switch(e){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=2*t;break;case"horizontal":this.x+=t,this.width-=2*t;break;case void 0:this.x+=t,this.width-=2*t,this.y+=t,this.height-=2*t}};return"number"===typeof e?i(t,e):"object"===typeof e&&Object.entries(e).forEach((e=>{let[t,n]=e;return i(t,n)})),this}grow(e,t){if("number"===typeof e)this.shrink(-e,t);else{const t={...e};for(const e in t)t[e]*=-1;this.shrink(t)}return this}translate(e,t){return this.x+=e,this.y+=t,this}combine(e){const{x:t,y:i,width:n,height:a}=this;this.x=Math.min(t,e.x),this.y=Math.min(i,e.y),this.width=Math.max(t+n,e.x+e.width)-this.x,this.height=Math.max(i+a,e.y+e.height)-this.y}static merge(t){let i=1/0,n=1/0,a=-1/0,s=-1/0;for(const e of t)e.x<i&&(i=e.x),e.y<n&&(n=e.y),e.x+e.width>a&&(a=e.x+e.width),e.y+e.height>s&&(s=e.y+e.height);return new e(i,n,a-i,s-n)}[de](t,i){return new e(this.x*(1-i)+t.x*i,this.y*(1-i)+t.y*i,this.width*(1-i)+t.width*i,this.height*(1-i)+t.height*i)}};Le.zero=Object.freeze(new Le(0,0,0,0)),Le.NaN=Object.freeze(new Le(NaN,NaN,NaN,NaN));var Ae=Le,Ce=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(Ce||{});function Te(e){return function(t,i){const n=`__${i}`;t[i]||function(e,t,i,n){const{redraw:a=1,type:s="normal",changeCb:r,convertor:o,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:a,type:s,changeCb:r,checkDirtyOnAssignment:l,convertor:o};let h;switch(s){case"normal":h=function(e,t){const{redraw:i=1,changeCb:n}=t;return function(t){return t!==this[e]?(this[e]=t,this.markDirty(this,i),n?.(this),t):Ee}}(i,c);break;case"transform":h=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this.markDirtyTransform(i),t):Ee}}(i,c);break;case"path":h=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,i)),t):Ee}}(i,c);break;case"font":h=function(e,t){const{redraw:i=1}=t;return function(t){return t!==this[e]?(this[e]=t,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,i)),t):Ee}}(i,c)}h=function(e,t){const{checkDirtyOnAssignment:i}=t;if(i)return function(t){const i=e.call(this,t);return i!==Ee&&null!=t&&t._dirty>0&&this.markDirty(t,t._dirty),i};return e}(function(e,t){const{changeCb:i}=t;if(i)return function(t){const n=e.call(this,t);return n!==Ee&&i.call(this,this),n};return e}(function(e,t){const{convertor:i}=t;if(i)return function(t){e.call(this,i(t))};return e}(h,c),c),c);const u=function(){return this[i]};Object.defineProperty(e,t,{set:h,get:u,enumerable:!0,configurable:!0})}(t,i,n,e)}}var Ee=Symbol("no-change");var Re=class{constructor(){this._dirty=3}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},Oe=class e{get e(){return[...this.elements]}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,0,0,1,0,0];this.elements=e}setElements(e){const t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this}get identity(){const e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}AxB(e,t,i){const n=e[0]*t[0]+e[2]*t[1],a=e[1]*t[0]+e[3]*t[1],s=e[0]*t[2]+e[2]*t[3],r=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];(i=i??e)[0]=n,i[1]=a,i[2]=s,i[3]=r,i[4]=o,i[5]=l}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(t){const i=new Array(6);return this.AxB(this.elements,t.elements,i),new e(i)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let i=t[0],n=t[1],a=t[2],s=t[3];const r=t[4],o=t[5],l=1/(i*s-n*a);return i*=l,n*=l,a*=l,s*=l,new e([s,-n,-a,i,a*o-s*r,n*r-i*o])}inverseTo(e){const t=this.elements;let i=t[0],n=t[1],a=t[2],s=t[3];const r=t[4],o=t[5],l=1/(i*s-n*a);return i*=l,n*=l,a*=l,s*=l,e.setElements([s,-n,-a,i,a*o-s*r,n*r-i*o]),this}invertSelf(){const e=this.elements;let t=e[0],i=e[1],n=e[2],a=e[3];const s=e[4],r=e[5],o=1/(t*a-i*n);return t*=o,i*=o,n*=o,a*=o,e[0]=a,e[1]=-i,e[2]=-n,e[3]=t,e[4]=n*r-a*s,e[5]=i*s-t*r,this}transformPoint(e,t){const i=this.elements;return{x:e*i[0]+t*i[2]+i[4],y:e*i[1]+t*i[3]+i[5]}}transformBBox(e,t){const i=this.elements,n=i[0],a=i[1],s=i[2],r=i[3],o=.5*e.width,l=.5*e.height,c=e.x+o,h=e.y+l,u=Math.abs(o*n)+Math.abs(l*s),d=Math.abs(o*a)+Math.abs(l*r);return t??(t=new Ae(0,0,0,0)),t.x=c*n+h*s+i[4]-u,t.y=c*a+h*r+i[5]-d,t.width=u+u,t.height=d+d,t}toContext(e){if(this.identity)return;const t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}static flyweight(t){return e.instance.setElements(t.elements)}static updateTransformMatrix(e,t,i,n,a,s,r){const o=t,l=i;let c,h;1===o&&1===l?(c=0,h=0):(c=r?.scalingCenterX??0,h=r?.scalingCenterY??0);const u=n,d=Math.cos(u),p=Math.sin(u);let g,f;0===u?(g=0,f=0):(g=r?.rotationCenterX??0,f=r?.rotationCenterY??0);const m=a,y=s,x=c*(1-o)-g,b=h*(1-l)-f;return e.setElements([d*o,p*o,-p*l,d*l,d*x-p*b+g+m,p*x+d*b+f+y]),e}static fromContext(t){const i=t.getTransform();return new e([i.a,i.b,i.c,i.d,i.e,i.f])}};Oe.instance=new Oe;var ze=Oe,je=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(je||{}),Pe=class e extends Re{constructor(){let{isVirtual:t,tag:i,zIndex:n,name:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.serialNumber=e._nextSerialNumber++,this.id=oe(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new ze,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.name=a,this.isVirtual=t??!1,this.tag=i??NaN,this.zIndex=n??0}get datum(){return this._datum??this._parent?.datum}get previousDatum(){return this._previousDatum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum),this._datum=e}_setLayerManager(e){this._layerManager=e,this._debug=e?.debug;for(const t of this._children)t._setLayerManager(e);for(const t of this._virtualChildren)t._setLayerManager(e)}get layerManager(){return this._layerManager}*ancestors(){let e=this;for(;e=e.parent;)yield e}*traverseUp(){yield this,yield*this.ancestors()}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap((e=>e.children))):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(e,t){if(t)for(const i of t)this[i]=e[i];else Object.assign(this,e);return this}append(e){e=ce(e);for(const t of e){if(t.parent)throw new Error(`${t} already belongs to another parent: ${t.parent}.`);if(t.layerManager)throw new Error(`${t} already belongs to a scene: ${t.layerManager}.`);if(this.childSet[t.id])throw new Error(`Duplicate ${t.constructor.name} node: ${t}`);t.isVirtual?this._virtualChildren.push(t):this._children.push(t),this.childSet[t.id]=!0,t._parent=this,t._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(e){return this.append(e),e}removeChild(e){const t=()=>{throw new Error("The node to be removed is not a child of this node.")};if(e.parent!==this&&t(),e.isVirtual){const i=this._virtualChildren.indexOf(e);i<0&&t(),this._virtualChildren.splice(i,1)}else{const i=this._children.indexOf(e);i<0&&t(),this._children.splice(i,1)}return delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,3),e}clear(){for(const e of he(this._virtualChildren,this._children))e._parent=void 0,e._setLayerManager();this._virtualChildren.length=0,this._children.length=0,this.childSet={}}calculateCumulativeMatrix(){this.computeTransformMatrix();const e=ze.flyweight(this.matrix);for(const t of this.ancestors())t.computeTransformMatrix(),e.preMultiplySelf(t.matrix);return e}transformPoint(e,t){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,t)}inverseTransformPoint(e,t){return this.calculateCumulativeMatrix().transformPoint(e,t)}transformBBox(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)}inverseTransformBBox(e){return this.calculateCumulativeMatrix().transformBBox(e)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){this.parent?.removeChild(this)}containsPoint(e,t){return!1}pickNode(e,t){if(!this.visible||1===this.pointerEvents||!this.containsPoint(e,t))return;const{children:i}=this;if(i.length>1e3)for(let n=i.length-1;n>=0;n--){const a=i[n],s=a.computeTransformedBBox()?.containsPoint(e,t),r=s?a.pickNode(e,t):void 0;if(r)return r}else if(i.length)for(let n=i.length-1;n>=0;n--){const a=i[n].pickNode(e,t);if(a)return a}else if(!this.isContainerNode)return this}getBBox(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null==this.cachedBBox||e)&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}computeTransformedBBox(){const e=this.getBBox()?.clone();if(!e)return;this.computeTransformMatrix();const t=ze.flyweight(this.matrix);for(const i of this.ancestors())i.computeTransformMatrix(),t.preMultiplySelf(i.matrix);return t.transformBBox(e,e),e}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:e,scalingX:t,scalingY:i,rotation:n,translationX:a,translationY:s,scalingCenterX:r,scalingCenterY:o,rotationCenterX:l,rotationCenterY:c}=this;ze.updateTransformMatrix(e,t,i,n,a,s,{scalingCenterX:r,scalingCenterY:o,rotationCenterX:l,rotationCenterY:c}),this.dirtyTransform=!1}transformRenderContext(e,t){return this.computeTransformMatrix(),this.matrix.toContext(t??e.ctx),this.matrix}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(const e of this.children){const t=e.preRender();this._childNodeCounts.groups+=t.groups,this._childNodeCounts.nonGroups+=t.nonGroups}return this._childNodeCounts}render(e){const{stats:t}=e;this._dirty=0,this.cachedBBox=this.computeBBox(),t&&t.nodesRendered++}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.cachedBBox=void 0,this._dirty>t||this._dirty===t&&t===i||(this._dirty=t,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(e){const{force:t=!1,recursive:i=!0}=e??{};if(0!==this._dirty||t){if(this._dirty=0,!1!==i)for(const e of this._virtualChildren)e.markClean({force:t});if(!0===i)for(const e of this._children)e.markClean({force:t})}}onVisibleChange(){}get nodeCount(){let e=1,t=this._dirty>=0||this.dirtyTransform?1:0,i=this.visible?1:0;const n=n=>{const{count:a,visibleCount:s,dirtyCount:r}=n.nodeCount;e+=a,i+=s,t+=r};for(const a of this._children)n(a);for(const a of this._virtualChildren)n(a);return{count:e,visibleCount:i,dirtyCount:t}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};Pe._nextSerialNumber=0,l([Te({type:"transform"})],Pe.prototype,"scalingX",2),l([Te({type:"transform"})],Pe.prototype,"scalingY",2),l([Te({type:"transform"})],Pe.prototype,"scalingCenterX",2),l([Te({type:"transform"})],Pe.prototype,"scalingCenterY",2),l([Te({type:"transform"})],Pe.prototype,"rotationCenterX",2),l([Te({type:"transform"})],Pe.prototype,"rotationCenterY",2),l([Te({type:"transform"})],Pe.prototype,"rotation",2),l([Te({type:"transform"})],Pe.prototype,"translationX",2),l([Te({type:"transform"})],Pe.prototype,"translationY",2),l([Te({redraw:3,changeCb:e=>e.onVisibleChange()})],Pe.prototype,"visible",2),l([Te({redraw:1,changeCb:e=>e.onZIndexChange()})],Pe.prototype,"zIndex",2),l([Te({redraw:1,changeCb:e=>e.onZIndexChange()})],Pe.prototype,"zIndexSubOrder",2);var Be=Pe,Fe=(e,t,i)=>e*(1-i)+t*i,Ge=e=>{const t=e<0?-1:1,i=Math.abs(e);return i<=.04045?e/12.92:t*((i+.055)/1.055)**2.4},_e=e=>{const t=e<0?-1:1,i=Math.abs(e);return i>.0031308?t*(1.055*i**(1/2.4)-.055):12.92*e},Ue=class e{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=me(0,e||0,1),this.g=me(0,t||0,1),this.b=me(0,i||0,1),this.a=me(0,n||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!e.parseHex(t):t.indexOf("rgb")>=0?!!e.stringToRgba(t):!!e.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return e.fromHexString(t);const i=e.nameToHex[t.toLowerCase()];if(i)return e.fromHexString(i);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(e){let t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(`${e[i]}${e[i+1]}`,16));break;case 3:case 4:t=e.split("").map((e=>parseInt(e,16))).map((e=>e+16*e))}if(t?.length>=3&&t.every((e=>e>=0)))return 3===t.length&&t.push(255),t}static fromHexString(t){const i=e.parseHex(t);if(i){const[t,n,a,s]=i;return new e(t/255,n/255,a/255,s/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(e){let t=-1,i=-1;for(let s=0;s<e.length;s++){const n=e[s];if(-1===t&&"("===n)t=s;else if(")"===n){i=s;break}}if(-1===t||-1===i)return;const n=e.substring(t+1,i).split(","),a=[];for(let s=0;s<n.length;s++){const e=n[s];let t=parseFloat(e);if(!Number.isFinite(t))return;e.indexOf("%")>=0?(t=me(0,t,100),t/=100):3===s?t=me(0,t,1):(t=me(0,t,255),t/=255),a.push(t)}return a}static fromRgbaString(t){const i=e.stringToRgba(t);if(i){if(3===i.length)return new e(i[0],i[1],i[2]);if(4===i.length)return new e(i[0],i[1],i[2],i[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.HSBtoRGB(t,i,n);return new e(s[0],s[1],s[2],a)}static fromHSL(t,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.HSLtoRGB(t,i,n);return new e(s[0],s[1],s[2],a)}static fromOKLCH(t,i,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.OKLCHtoRGB(t,i,n);return new e(s[0],s[1],s[2],a)}static padHex(e){return 1===e.length?"0"+e:e}toHexString(){let t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*i)/i),`rgba(${t.join(", ")})`):`rgb(${t.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return e.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,t,i){const n=Ge(e),a=Ge(t),s=Ge(i),r=Math.cbrt(.4122214708*n+.5363325363*a+.0514459929*s),o=Math.cbrt(.2119034982*n+.6806995451*a+.1073969566*s),l=Math.cbrt(.0883024619*n+.2817188376*a+.6299787005*s),c=.2104542553*r+.793617785*o-.0040720468*l,h=1.9779984951*r-2.428592205*o+.4505937099*l,u=.0259040371*r+.7827717662*o-.808675766*l,d=180*Math.atan2(u,h)/Math.PI;return[c,Math.hypot(h,u),d>=0?d:d+360]}static OKLCHtoRGB(e,t,i){const n=e,a=t*Math.cos(i*Math.PI/180),s=t*Math.sin(i*Math.PI/180),r=(n+.3963377774*a+.2158037573*s)**3,o=(n-.1055613458*a-.0638541728*s)**3,l=(n-.0894841775*a-1.291485548*s)**3,c=-1.2684380046*r+2.6097574011*o-.3413193965*l,h=-.0041960863*r-.7034186147*o+1.707614701*l;return[_e(4.0767416621*r-3.3077115913*o+.2309699292*l),_e(c),_e(h)]}static RGBtoHSL(e,t,i){const n=Math.min(e,t,i),a=Math.max(e,t,i),s=(a+n)/2;let r,o;if(a===n)r=0,o=0;else{const l=a-n;o=s>.5?l/(2-a-n):l/(a+n),r=a===e?(t-i)/l+(t<i?6:0):a===t?(i-e)/l+2:(e-t)/l+4,r*=60}return[r,o,s]}static HSLtoRGB(e,t,i){if(0===t)return[i,i,i];const n=i<.5?i*(1+t):i+t-i*t,a=2*i-n;function s(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+6*(n-a)*e:e<.5?n:e<2/3?a+(n-a)*(2/3-e)*6:a}return[s((e=(e%360+360)%360)/360+1/3),s(e/360),s(e/360-1/3)]}static RGBtoHSB(e,t,i){const n=Math.min(e,t,i),a=Math.max(e,t,i);let s=0;if(n!==a){const r=a-n,o=(a-e)/r,l=(a-t)/r,c=(a-i)/r;s=e===a?c-l:t===a?2+o-c:4+l-o,s/=6,s<0&&(s+=1)}return[360*s,0===a?0:(a-n)/a,a]}static HSBtoRGB(e,t,i){e=(e%360+360)%360/360;let n=0,a=0,s=0;if(0===t)n=a=s=i;else{const r=6*(e-Math.floor(e)),o=r-Math.floor(r),l=i*(1-t),c=i*(1-t*o),h=i*(1-t*(1-o));switch(r|0){case 0:n=i,a=h,s=l;break;case 1:n=c,a=i,s=l;break;case 2:n=l,a=i,s=h;break;case 3:n=l,a=c,s=i;break;case 4:n=h,a=l,s=i;break;case 5:n=i,a=l,s=c}}return[n,a,s]}static mix(t,i,n){return new e(Fe(t.r,i.r,n),Fe(t.g,i.g,n),Fe(t.b,i.b,n),Fe(t.a,i.a,n))}};Ue.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Ye=Ue;function Ve(e,t){return i=>Number(e)*(1-i)+Number(t)*i}function We(e,t){if("string"===typeof e)try{e=Ye.fromString(e)}catch(i){e=Ye.fromArray([0,0,0])}if("string"===typeof t)try{t=Ye.fromString(t)}catch(i){t=Ye.fromArray([0,0,0])}return i=>Ye.mix(e,t,i).toRgbaString()}var He=Symbol("BREAK"),Ze="__decorator_config";function Ke(e,t){null==Object.getOwnPropertyDescriptor(e,Ze)&&Object.defineProperty(e,Ze,{value:{}});const i=e[Ze],n=t.toString();if("undefined"!==typeof i[n])return i[n];const a=new WeakMap;i[n]={setters:[],getters:[],observers:[],valuesMap:a};const s=Object.getOwnPropertyDescriptor(e,t),r=s?.set,o=s?.get;return Object.defineProperty(e,t,{set:function(e){const{setters:s,observers:l}=i[n];let c;s.some((e=>e.length>2))&&(c=o?o.call(this):a.get(this));for(const i of s)if((e=i(this,t,e,c))===He)return;r?r.call(this,e):a.set(this,e);for(const t of l)t(this,e,c)},get:function(){let e=o?o.call(this):a.get(this);for(const a of i[n].getters)if(e=a(this,t,e),e===He)return;return e},enumerable:!0,configurable:!1}),i[n]}function $e(e,t,i){return(n,a)=>{const s=Ke(n,a);s.setters.push(e),t&&s.getters.unshift(t),i&&Object.assign(s,i)}}function Xe(e){return"undefined"!==typeof e&&Ze in e}function Qe(e){const t=new Set;for(;Xe(e);)t.add(e?.[Ze]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap((e=>Object.keys(e)))}function qe(e){return Qe(e).reduce(((t,i)=>(t[i]=e[i]??null,t)),{})}function Je(e){return null!=e}function et(e){return Array.isArray(e)}function tt(e){return"boolean"===typeof e}function it(e){return e instanceof Date}function nt(e){return it(e)&&!isNaN(Number(e))}function at(e){return e instanceof RegExp}function st(e){return"function"===typeof e}function rt(e){return"object"===typeof e&&null!==e&&!et(e)}function ot(e){return et(e)||lt(e)}function lt(e){return"object"===typeof e&&null!==e&&e.constructor===Object}function ct(e){return"string"===typeof e}function ht(e){return"number"===typeof e}function ut(e){return Number.isFinite(e)}function dt(e){return"undefined"!==typeof window&&e instanceof HTMLElement}function pt(e,t){return ct(t)&&Object.keys(e).includes(t)}function gt(e,t){return Object.values(e).includes(t)}function ft(e){return"symbol"===typeof e}function mt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return yt(...t.reverse())}function yt(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const a of i){if(!rt(a))continue;const t=Xe(a)?Qe(a):Object.keys(a);for(const i of t)lt(e[i])&&lt(a[i])?e[i]=yt(e[i],a[i]):e[i]??(e[i]=a[i])}return e}function xt(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i&&et(e)?e.map((e=>yt(e,...i))):e}function bt(e,t){return Object.entries(e).reduce(((i,n)=>{let[a,s]=n;return i[a]=t(s,a,e),i}),{})}function vt(e,t){const i={...e};for(const n of t)delete i[n];return i}function Mt(e,t){return(et(t)?t:t.split(".")).reduce(((e,t)=>e[t]),e)}var St=new Set(["__proto__","constructor","prototype"]);function It(e,t,i){const n=et(t)?t.slice():t.split("."),a=n.pop();if(n.some((e=>St.has(e))))return;const s=n.reduce(((e,t)=>e[t]),e);return s[a]=i,s[a]}function Dt(e,t,i){if(void 0===i)return t;for(const n of e){const e=i[n];void 0!==e&&(t[n]=e)}return t}var wt=class{set(e){const{className:t=this.constructor.name}=this.constructor;if("object"!==typeof e)return y.warn(`unable to set ${t} - expecting a properties object`),this;const i=new Set(Object.keys(e));for(const n of Qe(this))if(i.has(n)){const t=e[n],a=this;Nt(a[n])?a[n]=a[n]instanceof kt?a[n].reset(t):a[n].set(t):a[n]=t,i.delete(n)}for(const n of i)y.warn(`unable to set [${n}] in ${t} - property is unknown`);return this}isValid(e){return Qe(this).every((t=>{const{optional:i}=function(e,t){const i=t.toString();for(;Xe(e);){const t=e[Ze];if(Object.hasOwn(t,i))return t[i];e=Object.getPrototypeOf(e)}}(this,t),n=!0===i||"undefined"!==typeof this[t];return n||y.warnOnce(`${e??""}[${t}] is required.`),n}))}toJson(){return Qe(this).reduce(((e,t)=>{const i=this[t];return e[t]=Nt(i)?i.toJson():i,e}),{})}},kt=class e extends Array{constructor(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];super(i.length);const a=(s=e,Boolean(s?.prototype?.constructor?.name)?t=>(new e).set(t):e);var s;Object.defineProperty(this,"itemFactory",{value:a,enumerable:!1,configurable:!1}),this.set(i)}set(e){if(et(e)){this.length=e.length;for(let t=0;t<e.length;t++)this[t]=this.itemFactory(e[t])}return this}reset(t){return new e(this.itemFactory,...t)}toJson(){return this.map((e=>e?.toJson?.()??e))}};function Nt(e){return e instanceof wt||e instanceof kt}var Lt="class-instance";function At(e,t,i){if(et(t)){if(!et(e)||e.length!==t.length||t.some(((t,i)=>null!=At(e[i],t))))return t}else{if(lt(t)){if(!lt(e))return t;const n={},a=new Set([...Object.keys(e),...Object.keys(t)]);for(const s of a)if(e[s]!==t[s]&&!i?.includes(s))if(typeof e[s]===typeof t[s]){const i=At(e[s],t[s]);null!==i&&(n[s]=i)}else n[s]=t[s];return Object.keys(n).length?n:null}if(e!==t)return t}return null}function Ct(e,t){return et(e)?e.map((e=>Ct(e,t))):lt(e)?bt(e,((e,i)=>t?.shallow?.includes(i)?Tt(e):Ct(e,t))):Tt(e)}function Tt(e){return et(e)?[...e]:lt(e)?{...e}:it(e)?new Date(e):at(e)?new RegExp(e.source,e.flags):e}function Et(e,t,i){for(var n=arguments.length,a=new Array(n>3?n-3:0),s=3;s<n;s++)a[s-3]=arguments[s];if(et(e))t(e,...a),e.forEach(((e,n)=>{Et(e,t,i,...Ot(a,n))}));else if(lt(e)){t(e,...a);for(const n of Object.keys(e)){if(i?.skip?.includes(n))continue;const s=e[n];(et(s)||lt(s))&&Et(s,t,i,...Ot(a,n))}}}function Rt(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n,matcherPath:a=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:s=[]}=i;if(null==e)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(null==t)return e;if(Nt(e))return e.set(t);const r=e,o=zt(e);for(const c in t){if(St.has(c))continue;const h=`${a?a+".":""}${c}`;if(s.includes(h))continue;const u=t[c],d=`${n?n+".":""}${c}`,p=r.constructor,g=r[c];try{const t=zt(g),n=zt(u);if(o===Lt&&!(c in e)){y.warn(`unable to set [${d}] in ${p?.name} - property is unknown`);continue}if(null!=t&&null!=n&&n!==t&&(t!==Lt||"object"!==n)){y.warn(`unable to set [${d}] in ${p?.name} - can't apply type of [${n}], allowed types are: [${t}]`);continue}Nt(g)?r[c].set(u):"object"===n?(null==g&&(r[c]={}),Rt(g??r[c],u,{...i,path:d,matcherPath:h})):r[c]=u}catch(l){y.warn(`unable to set [${d}] in [${p?.name}]; nested error is: ${l.message}`)}}return e}function Ot(e,t){return e.map((e=>e?.[t]))}function zt(e){return null==e?null:dt(e)||it(e)?"primitive":et(e)?"array":rt(e)?lt(e)?"object":Lt:st(e)?"function":"primitive"}var jt={};o(jt,{easeIn:()=>Bt,easeInOut:()=>Gt,easeInOutQuad:()=>Yt,easeInQuad:()=>_t,easeOut:()=>Ft,easeOutQuad:()=>Ut,inverseEaseOut:()=>Vt,linear:()=>Pt});var Pt=e=>e,Bt=e=>1-Math.cos(e*Math.PI/2),Ft=e=>Math.sin(e*Math.PI/2),Gt=e=>-(Math.cos(e*Math.PI)-1)/2,_t=e=>e*e,Ut=e=>1-(1-e)**2,Yt=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,Vt=e=>2*Math.asin(e)/Math.PI,Wt=.2,Ht=["initial","remove","update","add","trailing","end","none"],Zt={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Wt,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},Kt=(e=>(e.Loop="loop",e.Reverse="reverse",e))(Kt||{});function $t(e){return e.every((e=>e instanceof Be))?{nodes:e,selections:[]}:{nodes:[],selections:e}}var Xt=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??Pt,this.phase=e.phase;const t=e.duration??Zt[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,!0===e.skip&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),!1!==e.collapsable&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){if(e.from===e.to)return 0;return("object"===typeof e.from?At(e.from,e.to):null)?t:0}play(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(i,!1,this);const n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(n-t)):0}get delta(){return this.ease(me(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if("object"!==typeof t||pe(t))return this.interpolateValue(e,t);const i=[];for(const n in t){const a=this.interpolateValue(e[n],t[n]);null!=a&&i.push([n,a])}return e=>{const t={};for(const[n,a]of i)t[n]=a(e);return t}}interpolateValue(e,t){if(void 0!==e&&void 0!==t){if(pe(e))return i=>e[de](t,i);try{switch(typeof e){case"number":return Ve(e,t);case"string":return We(e,t);case"boolean":if(e===t)return()=>e}}catch(i){}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},Qt={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function qt(e,t,i,n,a,s,r){const{fromFn:o,toFn:l,intermediateFn:c}=a,{nodes:h,selections:u}=$t(n),d=(n,a)=>{let h,u=0,d=0;for(const p of a){const g=n[u]===p,f={last:d>=a.length-1,lastLive:u>=n.length-1,prev:a[d-1],prevFromProps:h,prevLive:n[u-1],next:a[d+1],nextLive:n[u+(g?1:0)]},m=`${e}_${t}_${p.id}`;i.stopByAnimationId(m);let y="unknown";g?s&&r&&(y=ei(p,p.datum,s,r)):y="removed";const{phase:x,start:b,finish:v,delay:M,duration:S,...I}=o(p,p.datum,y,f),{phase:D,start:w,finish:k,delay:N,duration:L,...A}=l(p,p.datum,y,f),C=null==v&&null==k;i.animate({id:m,groupId:e,phase:x??D??"update",duration:S??L,delay:M??N,from:I,to:A,ease:Ft,collapsable:C,onPlay:()=>{p.setProperties({...b,...w})},onUpdate(e){p.setProperties(e),c&&p.setProperties(c(p,p.datum,y,f))},onStop:()=>{p.setProperties({...b,...w,...I,...A,...v,...k})}}),g&&u++,d++,h=I}};let p=0;for(const g of u){const n=g.nodes();d(n.filter((e=>!g.isGarbage(e))),n),i.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:Ft,onStop(){g.cleanup()}}),p++}d(h,h)}function Jt(e,t,i,n,a,s,r){const{nodes:o,selections:l}=$t(n),{start:c,finish:h,phase:u}=r,d=null==h;i.animate({id:`${e}_${t}`,groupId:e,phase:u??"update",from:a,to:s,ease:Ft,collapsable:d,onPlay:()=>{if(c){for(const e of o)e.setProperties(c);for(const e of l)for(const t of e.nodes())t.setProperties(c)}},onUpdate(e){for(const t of o)t.setProperties(e);for(const t of l)for(const i of t.nodes())i.setProperties(e)},onStop:()=>{for(const e of o)e.setProperties({...s,...h});for(const e of l){for(const t of e.nodes())t.setProperties({...s,...h});e.cleanup()}}})}function ei(e,t,i,n){const a=i(e,t);return n.added.has(a)?"added":n.removed.has(a)?"removed":"updated"}var ti={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(e.getFullYear(),0,1);const i=e.getTimezoneOffset()-t.getTimezoneOffset(),n=e.getTime()-t.getTime()+6e4*i;return Math.floor(n/864e5)}function ni(e,t){const i=(t-new Date(e.getFullYear(),0,1).getDay()+7)%7,n=new Date(e.getFullYear(),0,i+1);return n<=e?Math.floor(ii(e,n)/7)+1:0}function ai(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getFullYear();const i=new Date(t,0,1).getDay(),n=new Date(t,0,(4-i+7)%7-3+1);return n<=e?Math.floor(ii(e,n)/7)+1:ai(e,t-1)}var si={a:e=>ti.shortDays[e.getDay()],A:e=>ti.days[e.getDay()],b:e=>ti.shortMonths[e.getMonth()],B:e=>ti.months[e.getMonth()],c:"%x, %X",d:(e,t)=>oi(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>oi(1e3*e.getMilliseconds(),6,t??"0"),H:(e,t)=>oi(e.getHours(),2,t??"0"),I:(e,t)=>{const i=e.getHours()%12;return 0===i?"12":oi(i,2,t??"0")},j:(e,t)=>oi(ii(e)+1,3,t??"0"),m:(e,t)=>oi(e.getMonth()+1,2,t??"0"),M:(e,t)=>oi(e.getMinutes(),2,t??"0"),L:(e,t)=>oi(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>oi(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>oi(ni(e,0),2,t??"0"),V:(e,t)=>oi(ai(e),2,t??"0"),w:(e,t)=>oi(e.getDay(),2,t??"0"),W:(e,t)=>oi(ni(e,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>oi(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>oi(e.getFullYear(),4,t??"0"),Z:e=>function(e){const t=e.getTimezoneOffset(),i=Math.abs(t);return`${t>0?"-":"+"}${oi(Math.floor(i/60),2,"0")}${oi(Math.floor(i%60),2,"0")}`}(e),"%":()=>"%"},ri={_:" ",0:"0","-":""};function oi(e,t,i){const n=String(Math.floor(e));return n.length>=t?n:`${i.repeat(t-n.length)}${n}`}function li(e){const t=[];for(;e.length>0;){let i=e.indexOf("%");if(0!==i){const n=i>0?e.substring(0,i):e;t.push(n)}if(i<0)break;const n=e[i+1],a=ri[n];null!=a&&i++;const s=e[i+1],r=si[s];if("function"===typeof r)t.push([r,a]);else if("string"===typeof r){const e=li(r);t.push([e,a])}else t.push(`${a??""}${s}`);e=e.substring(i+2)}return e=>{const i="number"===typeof e?new Date(e):e;return t.map((e=>"string"===typeof e?e:e[0](i,e[1]))).join("")}}function ci(e){return e instanceof Date?e.getTime():e}function hi(e,t,i){const n=li(ui(e,t,i));return e=>n(e)}function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1/0;for(let o=1;o<e.length;o++)n=Math.min(n,Math.abs(e[o]-e[o-1]));const a=new Date(t[0]).getFullYear(),s=new Date(t.at(-1)).getFullYear()-a>0,r=isFinite(n)?function(e,t){if(e<S)return 0;if(e<I)return 1;if(e<D)return 2;if(e<w)return 3;if(e<k)return 4;if(e<28*w||e<31*w&&function(e){let t=new Date(e[0]).getMonth();for(let i=1;i<e.length;i++){const n=new Date(e[i]).getMonth();if(t===n)return!0;t=n}return!1}(t))return 5;if(e<L)return 6;return 7}(n,e):function(e){if(T.floor(e)<e)return 0;if(O.floor(e)<e)return 1;if(P.floor(e)<e)return 2;if(F.floor(e)<e)return 3;if(X.floor(e)<e)return K.floor(e)<e?4:5;if(q.floor(e)<e)return 6;return 7}(e[0]);return function(e,t,i){const n=ci(i[0]),a=ci(i.at(-1)),s=Math.abs(a-n),r=t||7===e,o=[["hour",6*D,14*w,3,"%I %p"],["hour",I,6*D,3,"%I:%M"],["second",1e3,6*D,1,":%S"],["ms",0,6*D,0,".%L"],["am/pm",I,6*D,3,"%p"]," ",["day",w,k,4,"%a"],["month",0===s?0:k,52*k,5,"%b %d"],["month",5*k,10*L,6,"%B"]," ",["year",r?0:L,1/0,7,"%Y"]].filter((t=>{if("string"===typeof t)return!0;const[i,n,a,r]=t;return r>=e&&n<=s&&s<a})).reduce(((e,t)=>("string"===typeof t?e.result.push(t):e.used.has(t[0])||(e.result.push(t),e.used.add(t[0])),e)),{result:[],used:new Set}).result,l=o.findIndex((e=>"string"!==typeof e)),c=o.length-[...o].reverse().findIndex((e=>"string"!==typeof e));return o.slice(l,c).map((e=>"string"===typeof e?e:e[4])).join("").replaceAll(/\s+/g," ").trim()}(Math.max(r-i,0),s,e)}var di=(e,t)=>{const i=Symbol(String(t));e[i]=void 0,Object.defineProperty(e,t,{get(){return this[i]},set(e){this[i]!==e&&(this[i]=e,this.invalid=!0)},enumerable:!0,configurable:!1})},pi=class e{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof e}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&y.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.index=new Map,this.invalid=!0,this._domain=[];for(const t of e){const e=ci(t);void 0===this.getIndex(e)&&this.index.set(e,this._domain.push(t)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(e){this.refresh();const t=this.getIndex(e);return null==t?NaN:this.ordinalRange[t]??NaN}invert(e){this.refresh();const t=this.ordinalRange.findIndex((t=>t===e));return this.domain[t]}invertNearest(e){this.refresh();let t=-1,i=1/0;const n=this.ordinalRange.findIndex(((n,a)=>{if(n===e)return!0;const s=Math.abs(e-n);return s<i&&(i=s,t=a),!1}));return this.domain[n]??this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=me(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=me(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=me(0,e,1)}get paddingOuter(){return this._paddingOuter}update(){const e=this._domain.length;if(0===e)return;const[t,i]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:a,round:s}=this,r=i-t;let o,l,c;1===e?(n=0,o=r*(1-2*a),l=s?Math.round(o):o,c=r*a):(o=r/Math.max(1,e-n+2*a),l=s?Math.floor(o):o,c=t+(r-l*(e-n))/2);let h=l*(1-n);s&&(c=Math.round(c),h=Math.round(h)),this._step=l,this._inset=c,this._bandwidth=h,this._rawBandwidth=o*(1-n),this.ordinalRange=this._domain.map(((e,t)=>c+l*t))}getIndex(e){return this.index.get(e instanceof Date?e.getTime():e)}};l([di],pi.prototype,"range",2),l([di],pi.prototype,"round",2),l([di],pi.prototype,"interval",2);var gi=pi;function fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{optional:i=!1,property:n}=t;return $e(((a,s,r)=>{const o={...t,target:a,property:s};if(i&&"undefined"===typeof r||e(r,o))return Nt(a[s])&&!Nt(r)?(a[s].set(r),a[s]):r;const l=n??String(s).replace(/^_*/,""),c=a.constructor.className??a.constructor.name.replace(/Properties$/,"");let h=dn(r);if(null!=h&&h.length>50){const e=h.length-50;h=h.slice(0,50)+`... (+${e} characters)`}return y.warn(`Property [${l}] of [${c}] cannot be set to [${h}]${e.message?`; expecting ${hn(e,o)}`:""}, ignoring.`),He}),void 0,{optional:i})}var mi,yi=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[];return cn(((e,i)=>(n.length=0,t.every((t=>{const a=t(e,i);return a||n.push(hn(t,i)),a})))),(()=>n.filter(Boolean).join(" AND ")))},xi=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return cn(((e,i)=>t.some((t=>t(e,i)))),(e=>t.map(function(e){return t=>hn(t,e)}(e)).filter(Boolean).join(" OR ")))},bi=un(cn(((e,t)=>Nt(e)||rt(e)&&Nt(t.target[t.property])),"a properties object")),vi=un(cn((e=>rt(e)),"an object")),Mi=cn(tt,"a boolean"),Si=cn(st,"a function"),Ii=cn(ct,"a string"),Di=(mi=cn(ut,"a number"),Object.assign(mi,{restrict(){let{min:e,max:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=["a number"],n=ht(e),a=ht(t);return n&&a?i.push(`between ${e} and ${t} inclusive`):n?i.push(`greater than or equal to ${e}`):a&&i.push(`less than or equal to ${t}`),cn((i=>ut(i)&&(!n||i>=e)&&(!a||i<=t)),i.join(" "))}})),wi=cn((e=>ht(e)&&isNaN(e)),"NaN"),ki=Di.restrict({min:0}),Ni=Di.restrict({min:0,max:1}),Li=Di.restrict({min:-360,max:360}),Ai=xi(Di,wi),Ci=function(e){return Object.assign(e,{restrict(){let{length:e,minLength:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i="an array";return ht(t)&&t>0?i="a non-empty array":ht(e)&&(i=`an array of length ${e}`),cn((i=>et(i)&&(!ht(e)||i.length===e)&&(!ht(t)||i.length>=t)),i)}})}(cn(et,"an array")),Ti=(e,t)=>cn(((t,i)=>et(t)&&t.every((t=>e(t,i)))),(e=>{const i=hn(Ci,e)??"";return t?`${i} of ${t}`:i})),Ei=e=>ut(e)||nt(e),Ri=e=>cn(((t,i)=>!Ei(t)||!Ei(i.target[e])||t<i.target[e]),`to be less than ${e}`),Oi=e=>cn(((t,i)=>!Ei(t)||!Ei(i.target[e])||t>i.target[e]),`to be greater than ${e}`),zi=cn(nt,"Date object"),ji=xi(zi,ki),Pi="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Bi=cn((e=>ct(e)&&Ye.validColorString(e)),`color String. ${Pi}`),Fi=cn(Ti(Bi),`color strings. ${Pi}`),Gi=Ti(Mi,"boolean values"),_i=Ti(Di,"numbers"),Ui=Ti(Ii,"strings"),Yi=cn(Ti(zi),"Date objects"),Vi=cn(Ti(bi),"objects"),Wi=rn(["butt","round","square"],"a line cap"),Hi=rn(["round","bevel","miter"],"a line join"),Zi=cn(Ti(ki),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Ki=rn(["top","right","bottom","left"],"a position"),$i=rn(["normal","italic","oblique"],"a font style"),Xi=xi(rn(["normal","bold","bolder","lighter"],"a font weight"),Di.restrict({min:1,max:1e3})),Qi=rn(["never","always","hyphenate","on-space"],"a text wrap strategy"),qi=rn(["left","center","right"],"a text align"),Ji=rn(["top","middle","bottom"],"a vertical align"),en=rn(["ellipsis","hide"],"an overflow strategy"),tn=rn(["horizontal","vertical"],"a direction"),nn=rn(["inside","outside"],"a placement"),an=xi(rn(["exact","nearest"],"interaction range"),Di),sn=rn(["top","bottom","left","right"]);function rn(e){return cn((t=>e.includes(t)),`${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a"} keyword such as ${function(e){const t=e.map((e=>`'${e}'`));if(1===t.length)return t[0];const i=t.pop();return`${t.join(", ")} or ${i}`}(e)}`)}var on=xi(yi(Di.restrict({min:1}),Ri("maxSpacing")),wi),ln=xi(yi(Di.restrict({min:1}),Oi("minSpacing")),wi);function cn(e,t){return e.message=t,e}function hn(e,t){return st(e.message)?e.message(t):e.message}function un(e){return Object.assign(e,{restrict:t=>cn((e=>e instanceof t),(i=>hn(e,i)??`an instance of ${t.name}`))})}function dn(e){if("number"===typeof e){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var pn=(e=>(e.X="x",e.Y="y",e))(pn||{}),gn=class{constructor(){this.moduleMap=new Map}*modules(){const e=["toolbar","navigator"];for(const t of this.moduleMap.values())e.includes(t.module.optionsKey)||(yield t.moduleInstance);for(const t of e){const e=this.moduleMap.get(t);e&&(yield e.moduleInstance)}}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){const t=ct(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(ct(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(ct(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),((t,i)=>e(t.moduleInstance,i)))}destroy(){for(const e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},fn={};function mn(e,t){const{nodes:i,selections:n}=$t(e);for(const a of n){for(const e of a.nodes()){const i=t(e,e.datum);e.setProperties(i)}a.cleanup()}for(const a of i){const e=t(a,a.datum);a.setProperties(e)}}o(fn,{resetMotion:()=>mn});var yn=class e{constructor(t,i){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=e.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=i}static is(t){return t instanceof e}transform(e){return e}transformInvert(e){return e}calcBandwidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.getDomain(),i=this.getPixelRange(),n=Math.abs(t[1]-t[0])/e+1,a=Math.floor(i),s=Math.min(n,a);return i/Math.max(1,s)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(e,t){const i=t?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const n=this.getDomain().map((e=>this.transform(e))),[a,s]=n,{range:r}=this,[o,l]=r;if(e=this.transform(e),"clamped"===i){const[t,i]=xe(n.map(Number));if(Number(e)<t)return o;if(Number(e)>i)return l}return a===s?(o+l)/2:e===a?o:e===s?l:o+(Number(e)-Number(a))/(Number(s)-Number(a))*(l-o)}invert(e){this.refresh();const t=this.getDomain().map((e=>this.transform(e))),[i,n]=t,{range:a}=this,[s,r]=a,o=s>r;let l;return e<(o?r:s)?o?n:i:e>(o?s:r)?o?i:n:(l=s===r?this.toDomain((Number(i)+Number(n))/2):this.toDomain(Number(i)+(e-s)/(r-s)*(Number(n)-Number(i))),this.transformInvert(l))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&y.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const[e,t]=this.range;return Math.abs(t-e)}};yn.defaultTickCount=5,yn.defaultMaxTickCount=6,l([di],yn.prototype,"domain",2),l([di],yn.prototype,"range",2),l([di],yn.prototype,"nice",2),l([di],yn.prototype,"interval",2),l([di],yn.prototype,"tickCount",2),l([di],yn.prototype,"minTickCount",2),l([di],yn.prototype,"maxTickCount",2);var xn=yn;function bn(e){let t,i;const n=Sn.exec(e);n&&([,t,e,i]=n);const a=Mn.exec(e);if(!a)throw new Error(`The number formatter is invalid: ${e}`);const[,s,r,o,l,c,h,u,d,p,g]=a;return{fill:s,align:r,sign:o,symbol:l,zero:c,width:parseInt(h),comma:u,precision:parseInt(d),trim:Boolean(p),type:g,prefix:t,suffix:i}}function vn(e){const t="string"===typeof e?bn(e):e,{fill:i,align:n,sign:a="-",symbol:s,zero:r,width:o,comma:l,type:c,prefix:h="",suffix:u="",precision:d}=t;let{trim:p}=t;const g=null==d||isNaN(d);let f,m;if(c)if(c in Dn&&c in In)f=g?In[c]:Dn[c];else if(c in Dn)f=Dn[c];else{if(!(c in In))throw new Error(`The number formatter type is invalid: ${c}`);f=In[c]}else f=Dn.g,p=!0;return m=null==d||g?c?6:12:d,e=>{let t=f(e,m);return p&&(t=t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")),l&&(t=function(e,t){let i=e.indexOf(".");i<0&&(i=e.length);const n=e.substring(0,i).split(""),a=e.substring(i);for(let s=n.length-3;s>0;s-=3)n.splice(s,0,t);return`${n.join("")}${a}`}(t,l)),t=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===i)return e>=0?t:`(${t})`;const n="+"===i?"+":"";return`${e>=0?n:Ln}${t}`}(e,t,a),s&&"#"!==s&&(t=`${s}${t}`),"#"===s&&"x"===c&&(t=`0x${t}`),"s"===c&&(t=`${t}${function(e){return Nn[Cn(e)]}(e)}`),"%"!==c&&"p"!==c||(t=`${t}%`),null==o||isNaN(o)||(t=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",a=e;if(">"!==n&&n){if("<"===n)a=a.padEnd(t,i);else if("^"===n){const e=Math.max(0,t-a.length),n=Math.ceil(e/2),s=Math.floor(e/2);a=a.padStart(n+a.length,i),a=a.padEnd(s+a.length,i)}}else a=a.padStart(t,i);return a}(t,o,i??r,n)),t=`${h}${t}${u}`,t}}var Mn=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,Sn=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,In={b:e=>An(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>An(e).toString(8),x:e=>An(e).toString(16),X:e=>In.x(e).toUpperCase(),n:e=>In.d(e),"%":e=>`${An(100*e).toFixed(0)}`},Dn={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Dn.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Dn.f(e,t).toUpperCase(),g:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i));return n>=-4&&n<t?i.toFixed(t-1-n):i.toExponential(t-1)},G:(e,t)=>Dn.g(e,t).toUpperCase(),n:(e,t)=>Dn.g(e,t),p:(e,t)=>Dn.r(100*e,t),r:(e,t)=>{if(0===e)return"0";const i=Math.abs(e),n=Math.floor(Math.log10(i))-(t-1);if(n<=0)return i.toFixed(-n);const a=10**n;return(Math.round(i/a)*a).toFixed()},s:(e,t)=>{const i=Cn(e);return Dn.r(e/10**i,t)},"%":(e,t)=>Dn.f(100*e,t)},wn=-24,kn=24,Nn={[wn]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[kn]:"Y"},Ln="\u2212";function An(e){return Math.floor(Math.abs(e))}function Cn(e){return me(wn,e?3*Math.floor(Math.log10(Math.abs(e))/3):0,kn)}function Tn(e,t){const i=[];for(let n=0;n<e;n++)i.push(t(n));return i}function En(e){if(0===e.length)return;let t=1/0,i=-1/0;for(let a of e)a instanceof Date&&(a=a.getTime()),"number"===typeof a&&(a<t&&(t=a),a>i&&(i=a));const n=[t,i];return n.every(isFinite)?n:void 0}function Rn(e,t,i){return On(e,t,i).extent}function On(e,t,i){let n=!1;return e.length>2&&(e=En(e)??[NaN,NaN]),isNaN(t)||(n||(n=t>e[0]),e=[t,e[1]]),isNaN(i)||(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{extent:e,clipped:n}}function zn(e,t){if(null==e||null==t||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(Array.isArray(e[i])&&Array.isArray(t[i])){if(!zn(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0}function jn(e){return"undefined"===typeof e?[]:Array.isArray(e)?e:[e]}function Pn(e){return Array.from(new Set(e))}function Bn(e,t){return e.reduce(((e,i)=>{const n=t(i);return e[n]??(e[n]=[]),e[n].push(i),e}),{})}function Fn(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return[];const n=[];for(let a=0;a<t;a++)n.push(e.at((a+i)%e.length));return n}function Gn(e,t){return t.reduce(((t,i)=>{let[n,a]=t;return e(i)?[[...n,i],a]:[n,[...a,i]]}),[[],[]])}function*_n(e,t){for(const i of e)yield t(i)}function Un(e,t){return!t.some((t=>!function(e,t){return function(e,t){return e.includes(t)}(e,t)}(e,t)))}var Yn=(e,t,i)=>({duration:t*i,timeInterval:e,step:i}),Vn=[Yn(T,S,1),Yn(T,S,5),Yn(T,S,15),Yn(T,S,30),Yn(O,I,1),Yn(O,I,5),Yn(O,I,15),Yn(O,I,30),Yn(P,D,1),Yn(P,D,3),Yn(P,D,6),Yn(P,D,12),Yn(F,w,1),Yn(F,w,2),Yn(K,k,1),Yn(K,k,2),Yn(K,k,3),Yn(X,N,1),Yn(X,N,2),Yn(X,N,3),Yn(X,N,4),Yn(X,N,6),Yn(q,L,1)],Wn=[1,2,5,10];function Hn(e,t,i,n,a){if(i<2)return Qn(e,t,t-e);const s=Kn(e,t,i,n,a);return isNaN(s)?[]:Qn(e=Math.ceil(e/s)*s,t=Math.floor(t/s)*s,s)}function Zn(e,t,i,n,a,s){const r=s??Math.abs(t-e)/Math.max(i,1);let o=0;for(const d of Vn){if(r<=d.duration)break;o++}if(0===o){const s=Math.max(Kn(e,t,i,n,a),1);return M.every(s)}if(o===Vn.length){const r=null==s?Kn(e/L,t/L,i,n,a):1;return q.every(r)}const l=Vn[o-1],c=Vn[o],{timeInterval:h,step:u}=r-l.duration<c.duration-r?l:c;return h.every(u)}function Kn(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(e===t)return 1;if(i<1)return NaN;const s=Math.abs(t-e),r=10**Math.floor(Math.log10(s/i));let o=NaN,l=1/0,c=!1;for(const h of Wn){const e=Math.ceil(s/(h*r)),t=e>=n&&e<=a;if(c&&!t)continue;const u=Math.abs(e-i);(l>u||c!==t)&&(c||(c=t),l=u,o=h)}return o*r}function $n(e){for(let t=e.length-1;t>=0;t-=1)if("0"!==e[t])return t+1;return 0}function Xn(e,t){const i=bn(t??",f");(null==i.precision||isNaN(i.precision))&&(!i.type||"eEFgGnprs".includes(i.type)?i.precision=Math.max(...e.map((e=>{if(!Number.isFinite(e))return 0;const[t,n]=e.toExponential((i.type?6:12)-1).split(/\.|e/g);return("1"!==t&&"-1"!==t?1:0)+$n(n)+1}))):"f%".includes(i.type)&&(i.precision=Math.max(...e.map((e=>{if(!Number.isFinite(e)||0===e)return 0;const t=Math.floor(Math.log10(Math.abs(e))),n=i.type?6:12,[a,s]=e.toExponential(n-1).split(/\.|e/g),r=$n(s);return Math.max(0,r-t)})))));const n=vn(i);return e=>n(Number(e))}function Qn(e,t,i){const n=Math.ceil(Math.abs(t-e)/i),a=10**we(i),s=Math.min(e,t);return Tn(n+1,(e=>Math.round((s+i*e)*a)/a))}function qn(e,t){return e>=t&&(y.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}var Jn=class e extends xn{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=g,this.basePow=g,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,y.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=e.getBaseLogMethod(this.base),this.basePow=e.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[e,t]=this.domain,i=e>t?Math.ceil:Math.floor,n=e>t?Math.floor:Math.ceil,a=this.pow(i(this.log(e))),s=this.pow(n(this.log(t)));this.niceDomain=[a,s]}ticks(){const e=this.tickCount??10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const t=this.base,[i,n]=this.getDomain(),a=Math.min(i,n),s=Math.max(i,n);let r=this.log(a),o=this.log(s);if(this.interval){const e=e=>e>=a&&e<=s,t=Qn(r,o,Math.min(Math.abs(this.interval),Math.abs(o-r))).map(this.pow).filter(e);if(!qn(t.length,this.getPixelRange()))return t}if(!(t%1===0)||o-r>=e)return Hn(r,o,Math.min(o-r,e)).map(this.pow);const l=[],c=a>0;r=Math.floor(r)-1,o=Math.round(o)+1;const h=be(this.range)/e;let u=1/0;for(let d=r;d<=o;d++){const e=this.convert(this.pow(d+1));for(let i=1;i<t;i++){const n=c?i:t-i+1,r=this.pow(d)*n,o=this.convert(r),p=Math.abs(u-o),g=Math.abs(o-e);r>=a&&r<=s&&(1===i||p>=h&&g>=h||0===l.length)&&(l.push(r),u=o)}}return l}tickFormat(e){let{count:t,ticks:i,specifier:n}=e;return t!==1/0&&null==i&&this.ticks(),n??(n=10===this.base?".0e":","),ct(n)?vn(n):n}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const t=Math.log(e);return e=>Math.log(e)/t}}static getBasePowerMethod(e){switch(e){case 10:return e=>e>=0?10**e:1/10**-e;case Math.E:return Math.exp;default:return t=>e**t}}};l([di],Jn.prototype,"base",2);var ea=Jn,ta=class e extends xn{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return super.convert(new Date(e),t)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const{interval:t,nice:i,tickCount:n,minTickCount:a,maxTickCount:s}=this,[r,o]=xe(this.getDomain().map(ci));return null!=t?e.getTicksForInterval({start:r,stop:o,interval:t,availableRange:this.getPixelRange()})??e.getDefaultTicks({start:r,stop:o,tickCount:n,minTickCount:a,maxTickCount:s}):i&&2===n?this.niceDomain:i&&1===n?this.niceDomain.slice(0,1):e.getDefaultTicks({start:r,stop:o,tickCount:n,minTickCount:a,maxTickCount:s})}static getDefaultTicks(e){let{start:t,stop:i,tickCount:n,minTickCount:a,maxTickCount:s}=e;const r=Zn(t,i,n,a,s);return r?r.range(new Date(t),new Date(i)):[]}static getTicksForInterval(e){let{start:t,stop:i,interval:n,availableRange:a}=e;if(!n)return[];if(n instanceof x){const e=n.range(new Date(t),new Date(i));if(qn(e.length,a))return;return e}const s=Math.abs(n);if(qn((i-t)/s,a))return;const r=[...Vn].reverse().find((e=>s%e.duration===0));if(r){return r.timeInterval.every(s/(r.duration/r.step)).range(new Date(t),new Date(i))}let o=new Date(t);const l=new Date(i),c=[];for(;o<=l;)c.push(o),o=new Date(o),o.setMilliseconds(o.getMilliseconds()+s);return c}tickFormat(e){let{ticks:t,domain:i,specifier:n,formatOffset:a}=e;return null==n?hi(t,i,a):li(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[e,t]=this.domain;for(let i=0;i<4;i++){this.updateNiceDomainIteration(e,t);const[i,n]=this.niceDomain;if(ci(e)===ci(i)&&ci(t)===ci(n))break;e=i,t=n}}updateNiceDomainIteration(e,t){const i=Math.min(ci(e),ci(t)),n=Math.max(ci(e),ci(t)),a=e>t,{interval:s}=this;let r;if(s instanceof x)r=s;else{r=Zn(i,n,"number"===typeof s?(n-i)/Math.max(s,1):this.tickCount,this.minTickCount,this.maxTickCount)}if(r){const e=r.range(new Date(i),new Date(n),!0),t=a?[...e].reverse():e,s=t[0],o=t.at(-1);this.niceDomain=[s,o]}}};function ia(e,t){return e-t}var na=class e extends gi{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=xn.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof e}setVisibleRange(e){this.visibleRange=e}set domain(e){this.invalid=!0,0!==e.length?(this._domain=e,this.timestamps=Pn(e.map(ci)),this.sortedTimestamps=this.timestamps.slice().sort(ia)):this._domain=[]}get domain(){return this._domain}ticks(){this.refresh();const[e,t]=[this.timestamps[0],this.timestamps.at(-1)],i=Math.min(e,t),n=Math.max(e,t),a=e>t;let s;if(null==this.interval)s=this.getDefaultTicks(this.maxTickCount,a);else{const[e,t]=this.range,a=Math.abs(t-e);s=ta.getTicksForInterval({start:i,stop:n,interval:this.interval,availableRange:a})??[]}const r=new Set;return s.filter((e=>{const t=this.convert(e);return!isNaN(t)&&!r.has(t)&&(r.add(t),!0)}))}getDefaultTicks(e,t){const i=[],n=this.timestamps.length,a=Math.ceil(n*(this.visibleRange[1]-this.visibleRange[0])/e),s=Math.floor(a/2);for(const[r,o]of this.timestamps.entries())a>0&&(r+s)%a||(t?i.push(new Date(this.timestamps[n-r-1])):i.push(new Date(o)));return i}convert(e){this.refresh();const t=Number(e);if(t<this.sortedTimestamps[0])return NaN;let i=this.findInterval(t);return this.timestamps[0]!==this.sortedTimestamps[0]&&(i=this.timestamps.length-i-1),this.ordinalRange[i]??NaN}findInterval(e){const{sortedTimestamps:t}=this;let i=0,n=t.length-1;for(;i<=n;){const a=Math.floor((i+n)/2);if(t[a]===e)return a;t[a]<e?i=a+1:n=a-1}return i}tickFormat(e){let{ticks:t,domain:i,specifier:n}=e;return null==n?hi(t,i):li(n)}invert(e){this.refresh();const t=this.ordinalRange.findIndex((t=>e<=t));return this.domain[t]}invertNearest(e){return new Date(super.invertNearest(e))}};l([di],na.prototype,"tickCount",2),l([di],na.prototype,"minTickCount",2),l([di],na.prototype,"maxTickCount",2),l([di],na.prototype,"interval",2);var aa=na;function sa(e,t){return"number"===typeof e&&"number"===typeof t?e-t:"string"===typeof e&&"string"===typeof t?e.localeCompare(t):null==e&&null==t?0:null==e?-1:null==t?1:String(e).localeCompare(String(t))}function ra(e){return"function"===typeof e?e():e}function oa(e,t,i){for(const n in e){const a=i(ra(e[n]),ra(t[n]));if(0!==a)return a}return 0}var la=class e extends Be{constructor(e){super({isVirtual:e?.isVirtual,name:e?.name}),this.opts=e,this.opacity=1,this.lastBBox=void 0;const{zIndex:t,zIndexSubOrder:i}=e??{};this.isContainerNode=!0,void 0!==t&&(this.zIndex=t),void 0!==i&&(this.zIndexSubOrder=i)}static is(t){return t instanceof e}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}isLayer(){return null!=this.layer}_setLayerManager(e){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(e)}initialiseLayer(){this.layer||this._layerManager&&!0===this.opts?.layer&&(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let t=1;for(const i of this.traverseUp())i instanceof e&&(t*=i.opacity);return t}getVisibility(){for(const e of this.traverseUp())if(!e.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.isVirtual)return void super.markDirty(e,t);let i=t;(t<2||null!=this.layer)&&(i=1),super.markDirty(e,t,i)}containsPoint(e,t){return!0}computeBBox(){return this.computeTransformMatrix(),e.computeBBox(this.children)}computeTransformedBBox(){return this.getBBox()}computeTransformedRegionBBox(){return this.clipRect?(this.computeTransformMatrix(),this.matrix.transformBBox(this.clipRect)):this.computeTransformedBBox()}preRender(){const e=super.preRender();return e.groups+=1,e.nonGroups-=1,!0!==this.opts?.layer||null!=this.layer||(e.nonGroups>0&&this.initialiseLayer(),this.opts?.nonEmptyChildDerivedZIndex&&e.nonGroups>0&&this.deriveZIndexFromChildren()),e}deriveZIndexFromChildren(){const e=this.children.filter((e=>e._childNodeCounts.nonGroups>0));this.sortChildren(e);const t=e.at(-1);this.zIndex=t?.zIndex??-1/0,this.zIndexSubOrder=t?.zIndexSubOrder}render(e){const{opts:{name:t}={},_debug:i}=this,{dirty:n,dirtyZIndex:a,layer:s,children:r,clipRect:o,dirtyTransform:l}=this;let{ctx:c,forceRender:h,clipBBox:u}=e;const{resized:d,stats:p}=e,g=c.getTransform(),f=n>=2||a||d;let m=f,y=!1;for(const I of r)if(m||(m=null==I.layerManager&&I.dirty>=1),y||(y=null!=I.layerManager&&I.dirty>=1),m)break;if(t&&i?.({name:t,group:this,isDirty:f,isChildDirty:m,dirtyTransform:l,renderCtx:e,forceRender:h}),l)h="dirtyTransform";else if(s){const e=this.getBBox();void 0!==this.lastBBox&&this.lastBBox.equals(e)||(h="dirtyTransform",this.lastBBox=e)}if(!f&&!m&&!y&&!h)return t&&p&&i?.({name:t,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this}),s&&p&&(p.layersSkipped++,p.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1});const x=this.visible;if(s){if(c=s.context,c.save(),c.setTransform(s.pixelRatio,0,0,s.pixelRatio,0,0),"dirtyTransform"!==h&&(h=m||a),h&&s.clear(),u){const{width:n,height:a,x:s,y:r}=u;i?.((()=>({name:t,clipBBox:u,ctxTransform:c.getTransform(),renderCtx:e,group:this}))),c.beginPath(),c.rect(s,r,n,a),c.clip()}c.setTransform(g)}else c.globalAlpha*=this.opacity;const b=this.transformRenderContext(e,c);if(o){const{x:n,y:a,width:s,height:r}=o;c.save(),i?.((()=>({name:t,clipRect:o,ctxTransform:c.getTransform(),renderCtx:e,group:this}))),c.beginPath(),c.rect(n,a,s,r),c.clip(),u=b.transformBBox(o)}const v=this.hasVirtualChildren();a?(this.sortChildren(r),"dirtyTransform"!==h&&(h=!0)):v&&this.sortChildren(r);const M=h!==e.forceRender||u!==e.clipBBox||c!==e.ctx?{...e,ctx:c,forceRender:h,clipBBox:u}:e;let S=0;for(const I of r)I.visible&&x?h||0!==I.dirty?(c.save(),I.render(M),c.restore()):p&&(S+=I.nodeCount.count):(I.markClean(),p&&(S+=I.nodeCount.count));if(p&&(p.nodesSkipped+=S),super.render(e),o&&c.restore(),v)for(const I of this.virtualChildren)I.markClean({recursive:"virtual"});s&&(p&&p.layersRendered++,c.restore(),h&&s.snapshot(),s.context.verifyDepthZero?.()),t&&p&&i?.({name:t,result:"rendered",skipped:S,renderCtx:e,counts:this.nodeCount,group:this})}sortChildren(e){this.dirtyZIndex=!1,e.sort(((e,t)=>oa([e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.serialNumber],[t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.serialNumber],sa)))}static computeBBox(e,t){let i=1/0,n=-1/0,a=1/0,s=-1/0;const r=t?.skipInvisible??!0;for(const o of e){if(r&&!o.visible)continue;const e=o.computeTransformedBBox();if(!e)continue;const{x:t,y:l,width:c,height:h}=e;t<i&&(i=t),l<a&&(a=l),t+c>n&&(n=t+c),l+h>s&&(s=l+h)}return new Ae(i,a,n-i,s-a)}setClipRectInGroupCoordinateSpace(e){this.clipRect=e?this.transformBBox(e):void 0}};la.className="Group",l([Te({redraw:3,convertor:e=>me(0,e,1)})],la.prototype,"opacity",2);var ca=la,ha={};function ua(e){return e?ha.document?.[e]:ha.document}function da(e){return e?ha.window?.[e]:ha.window}function pa(e,t,i){const n=ua().createElement(e);return"object"===typeof t&&(i=t,t=void 0),t&&n.classList.add(t),i&&Object.assign(n.style,i),n}function ga(e,t){return ua().createElementNS(e,t)}function fa(e,t){const{body:i}=ua(),n=pa("a",{display:"none"});n.href=e,n.download=t,i.appendChild(n),n.click(),setTimeout((()=>i.removeChild(n)))}function ma(e){ha.document=e}function ya(e){ha.window=e}function xa(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}"undefined"!==typeof window?ha.window=window:"undefined"!==typeof global&&(ha.window=global.window),"undefined"!==typeof document?ha.document=document:"undefined"!==typeof global&&(ha.document=global.document);var ba=Date.now(),va={create(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Object.assign((function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];va.check(...t)&&("function"===typeof i[0]&&(i=jn(i[0]())),(()=>{const e=Date.now()-ba;if(e>2e3){const t=(Math.floor(e/100)/10).toFixed(1);y.log(`**** ${t}s since last log message ****`)}ba=Date.now()})(),y.log(...i))}),{check:()=>va.check(...t)})},check(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];0===t.length&&t.push(!0);return jn(da("agChartsDebug")).some((e=>t.includes(e)))}},Ma=class e{constructor(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=e,this.autoCleanup=i,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=va.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Be,t)?()=>new t:t}static select(t,i){return new e(t,i,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(e,t){const i=[],n=e=>{t(e)&&i.push(e),e.children.forEach(n)};return n(e),i}static selectByClass(t,i){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return e.selectAll(t,(e=>e instanceof i||a.some((t=>e instanceof t))))}static selectByTag(t,i){return e.selectAll(t,(e=>e.tag===i))}createNode(e,t,i){const n=this.nodeFactory(e);return n.datum=e,t?.(n),null==i?this._nodes.push(n):this._nodes.splice(i,0,n),this.parentNode.appendChild(n),n}update(e,t,i){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${e}`),i){const n=new Map(e.map(((e,t)=>[i(e),[e,t]])));for(const[e,t]of this._nodesMap.entries())if(n.has(t)){const[i]=n.get(t);e.datum=i,this.garbageBin.delete(e),n.delete(t)}else this.garbageBin.add(e);for(const[e,[i,a]]of n.entries())this._nodesMap.set(this.createNode(i,t,a),e)}else{const i=Math.max(e.length,this.data.length);for(let n=0;n<i;n++)n>=e.length?this.garbageBin.add(this._nodes[n]):n>=this._nodes.length?this.createNode(e[n],t):(this._nodes[n].datum=e[n],this.garbageBin.delete(this._nodes[n]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter((e=>!this.garbageBin.has(e)||(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1)))),this}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(const t of this._nodes.entries())e(t[1],t[1].datum,t[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const t=this._nodes[e],i=this._nodes[e].datum;yield{node:t,datum:i,index:e}}}select(t){return e.selectAll(this.parentNode,t)}selectByClass(t){return e.selectByClass(this.parentNode,t)}selectByTag(t){return e.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}},Sa=2*Math.PI;function Ia(e){return e%=Sa,e+=Sa,e%=Sa}function Da(e){return e%=Sa,(e+=Sa)!==Sa&&(e%=Sa),e}function wa(e){return(e%=Sa)<-Math.PI?e+=Sa:e>=Math.PI&&(e-=Sa),e}function ka(e,t,i){const n=Ia(e),a=Ia(t),s=Ia(i);return a<s?a<=n&&n<=s:!(a>s)||(a<=n||n<=s)}function Na(e){return e/180*Math.PI}function La(e){return e/Math.PI*180}function Aa(e,t,i){i&&([e,t]=[t,e]);const n=Ia(e);return(Ia(t)+Sa-n)%Sa}function Ca(e,t){return e=Ia(e),(t=Ia(t))-e+(e>t?2*Math.PI:0)}function Ta(e,t,i,n){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}function Ea(e,t,i,n){const a=e-i,s=t-n;return a*a+s*s}function Ra(e,t,i,n,a,s,r){if(i===a&&n===s)return Math.min(r,Ea(e,t,i,n));const o=a-i,l=s-n,c=Math.max(0,Math.min(1,((e-i)*o+(t-n)*l)/(o*o+l*l))),h=i+c*o,u=n+c*l;return Math.min(r,Ea(e,t,h,u))}function Oa(e,t,i,n,a,s,r,o,l){o&&([r,s]=[s,r]);if(!ka(Math.atan2(t-n,e-i),s,r)){const r=i+Math.cos(s)*a,o=n+Math.sin(s)*a,c=i+Math.cos(s)*a,h=n+Math.sin(s)*a;return Math.min(l,Ea(e,t,r,o),Ea(e,t,c,h))}const c=a-Math.sqrt(Ea(e,t,i,n));return Math.min(l,c*c)}var za=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.stops=e}},ja=class extends za{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e),this.angle=t}createGradient(e,t){const{stops:i,angle:n}=this,a=Ia(Na(n+90)),s=Math.cos(a),r=Math.sin(a),o=t.width,l=t.height,c=t.x+.5*o,h=t.y+.5*l;if(o>0&&l>0){const t=Math.sqrt(l*l+o*o)/2,n=Math.atan2(l,o);let u;u=a<Math.PI/2?a:a<Math.PI?Math.PI-a:a<1.5*Math.PI?a-Math.PI:2*Math.PI-a;const d=t*Math.abs(Math.cos(u-n)),p=e.createLinearGradient(c+s*d,h+r*d,c-s*d,h-r*d);for(const e of i)p.addColorStop(e.offset,e.color);return p}return"black"}},Pa=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,Ba=class e extends Be{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=e.defaultStyles.fill,this.stroke=e.defaultStyles.stroke,this.strokeWidth=e.defaultStyles.strokeWidth,this.lineDash=e.defaultStyles.lineDash,this.lineDashOffset=e.defaultStyles.lineDashOffset,this.lineCap=e.defaultStyles.lineCap,this.lineJoin=e.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=e.defaultStyles.opacity,this.fillShadow=e.defaultStyles.fillShadow}restoreOwnStyles(){const{defaultStyles:e}=this.constructor;Object.assign(this,e)}onFillChange(){const{fill:e}=this;let t;if(e?.startsWith("linear-gradient")&&(t=Pa.exec(e))){const e=parseFloat(t[1]),i=[],n=t[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(n);)i.push(s[0]);this.gradient=new ja(i.map(((e,t)=>({color:e,offset:t/(i.length-1)}))),e)}else this.gradient=void 0}align(e,t){const i=this.layerManager?.canvas?.pixelRatio??1,n=Math.round(e*i)/i;return null==t?n:0===t?0:t<1?Math.ceil(t*i)/i:Math.round((t+e)*i)/i-n}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){if(this.fill){const{globalAlpha:i}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=i}e.shadowColor="rgba(0, 0, 0, 0)"}executeFill(e,t){t?e.fill(t):e.fill()}applyFill(e){e.fillStyle=this.gradient?.createGradient(e,this.getBBox())??this.fill}applyFillAlpha(e){e.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(e){const t=this.layerManager?.canvas.pixelRatio??1,i=this.fillShadow;i?.enabled&&(e.shadowColor=i.color,e.shadowOffsetX=i.xOffset*t,e.shadowOffsetY=i.yOffset*t,e.shadowBlur=i.blur*t)}renderStroke(e,t){if(this.stroke&&this.strokeWidth){const{globalAlpha:i}=e;e.strokeStyle=this.stroke,e.globalAlpha*=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),null!=this.miterLimit&&(e.miterLimit=this.miterLimit),this.executeStroke(e,t),e.globalAlpha=i}}executeStroke(e,t){t?e.stroke(t):e.stroke()}containsPoint(e,t){return this.isPointInPath(e,t)}};Ba.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},l([Te({redraw:2})],Ba.prototype,"fillOpacity",2),l([Te({redraw:2})],Ba.prototype,"strokeOpacity",2),l([Te({redraw:2,changeCb:e=>e.onFillChange()})],Ba.prototype,"fill",2),l([Te({redraw:2})],Ba.prototype,"stroke",2),l([Te({redraw:2})],Ba.prototype,"strokeWidth",2),l([Te({redraw:2})],Ba.prototype,"lineDash",2),l([Te({redraw:2})],Ba.prototype,"lineDashOffset",2),l([Te({redraw:2})],Ba.prototype,"lineCap",2),l([Te({redraw:2})],Ba.prototype,"lineJoin",2),l([Te({redraw:2})],Ba.prototype,"miterLimit",2),l([Te({redraw:2,convertor:e=>me(0,e,1)})],Ba.prototype,"opacity",2),l([Te({redraw:2,checkDirtyOnAssignment:!0})],Ba.prototype,"fillShadow",2);var Fa=Ba,Ga=class extends Fa{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new Ae(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){const{x:i,y:n}=this.transformPoint(e,t);return this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(i,n)}return!1}distanceSquared(e,t){const{x1:i,y1:n,x2:a,y2:s}=this;return Ra(e,t,i,n,a,s,1/0)}render(e){const{ctx:t,forceRender:i,stats:n,devicePixelRatio:a}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.transformRenderContext(e);let{x1:s,y1:r,x2:o,y2:l}=this;if(s===o){const{strokeWidth:e}=this,t=Math.round(s*a)/a+Math.trunc(e*a)%2/(2*a);s=t,o=t}else if(r===l){const{strokeWidth:e}=this,t=Math.round(r*a)/a+Math.trunc(e*a)%2/(2*a);r=t,l=t}t.beginPath(),t.moveTo(s,r),t.lineTo(o,l),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}};Ga.className="Line",Ga.defaultStyles=Object.assign({},Fa.defaultStyles,{fill:void 0,strokeWidth:1}),l([Te({redraw:3})],Ga.prototype,"x1",2),l([Te({redraw:3})],Ga.prototype,"y1",2),l([Te({redraw:3})],Ga.prototype,"x2",2),l([Te({redraw:3})],Ga.prototype,"y2",2);var _a=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const e=this.store.keys();let t=this.store.size-this.maxCacheSize;for(;t>0;){const i=e.next();i.done||this.store.delete(i.value),t--}}return t}clear(){this.store.clear()}},Ua=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t="string"===typeof e.font?e.font:Va.toFontString(e.font),i=`${t}-${e.textAlign??"start"}-${e.textBaseline??"alphabetic"}`;return this.instanceMap.get(i)??this.createFontMeasurer(t,e,i)}static createFontMeasurer(e,t,i){const n=function(){return new OffscreenCanvas(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0).getContext("2d")}();n.font=e,n.textAlign=t.textAlign??"start",n.textBaseline=t.textBaseline??"alphabetic";const a=new Ya(n,t);return this.instanceMap.set(i,a),a}};Ua.instanceMap=new _a(10);var Ya=class{constructor(e,t){this.ctx=e,this.measureMap=new _a(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font="string"===typeof t.font?t.font:Va.toFontString(t.font),this.textMeasurer=new Wa((e=>this.cachedCtxMeasureText(e)),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},Va=class{static toFontString(e){let{fontSize:t=10,fontStyle:i,fontWeight:n,fontFamily:a,lineHeight:s}=e,r="";return i&&(r+=`${i} `),n&&(r+=`${n} `),r+=`${t}px`,s&&(r+=`/${s}px`),r+=` ${a}`,r.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}};Va.EllipsisChar="\u2026",Va.defaultLineHeight=1.15,Va.lineSplitter=/\r?\n/g;var Wa=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alphabetic";this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent,offsetTop:t.actualBoundingBoxAscent,offsetLeft:t.actualBoundingBoxLeft}}getMultilineMetrics(e){let t=0,i=0,n=0,a=0,s=0;const r=Va.getVerticalModifier(this.textBaseline),o=[];let l=0;const c=e.length;for(const h of e){const e=this.measureTextFn(h);e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),t<e.width&&(t=e.width),a<e.actualBoundingBoxLeft&&(a=e.actualBoundingBoxLeft),0===l?(i+=e.actualBoundingBoxAscent,n+=e.actualBoundingBoxAscent):s+=e.fontBoundingBoxAscent,l===c-1?i+=e.actualBoundingBoxDescent:s+=e.fontBoundingBoxDescent,o.push({text:h,width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}),l++}return i+=s,n+=s*r,{width:t,height:i,offsetTop:n,offsetLeft:a,lineMetrics:o}}textWidth(e,t){if(t){let t=0;for(let i=0;i<e.length;i++)t+=this.textWidth(e.charAt(i));return t}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t="string"===typeof e?e.split(Va.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}};function Ha(e){const{redraw:t=3,changeCb:i}=e??{};return Te({redraw:t,type:"font",changeCb:i})}var Za=class e extends Fa{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=e.defaultStyles.textAlign,this.textBaseline=e.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split("\n").map((e=>e.trim()))??[]}static computeBBox(e,t,i,n){const{offsetTop:a,offsetLeft:s,width:r,height:o}=Ua.measureLines(e,n);return new Ae(t-s,i-a,r,o)}computeBBox(){const{x:t,y:i,lines:n,textBaseline:a,textAlign:s}=this;return e.computeBBox(n,t,i,{font:this,textBaseline:a,textAlign:s})}isPointInPath(e,t){const i=this.transformPoint(e,t),n=this.getBBox();return!!n&&n.containsPoint(i.x,i.y)}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));if(!this.lines.length||!this.layerManager)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.transformRenderContext(e);const{fill:a,stroke:s,strokeWidth:r}=this,{pixelRatio:o}=this.layerManager.canvas;if(t.font=Va.toFontString(this),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,a){t.fillStyle=a,t.globalAlpha*=this.opacity*this.fillOpacity;const{fillShadow:e}=this;e?.enabled&&(t.shadowColor=e.color,t.shadowOffsetX=e.xOffset*o,t.shadowOffsetY=e.yOffset*o,t.shadowBlur=e.blur*o),this.renderLines(((e,i,n)=>t.fillText(e,i,n)))}if(s&&r){t.strokeStyle=s,t.lineWidth=r,t.globalAlpha*=this.opacity*this.strokeOpacity;const{lineDash:e,lineDashOffset:i,lineCap:n,lineJoin:a}=this;e&&t.setLineDash(e),i&&(t.lineDashOffset=i),n&&(t.lineCap=n),a&&(t.lineJoin=a),this.renderLines(((e,i,n)=>t.strokeText(e,i,n)))}super.render(e)}renderLines(e){const{lines:t,x:i,y:n}=this,a=this.lineHeight??Va.getLineHeight(this.fontSize);let s=(a-a*t.length)*Va.getVerticalModifier(this.textBaseline);for(const r of t)e(r,i,n+s),s+=a}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}};Za.className="Text",Za.defaultLineHeightRatio=1.15,Za.defaultStyles=Object.assign({},Fa.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),l([Te({redraw:3})],Za.prototype,"x",2),l([Te({redraw:3})],Za.prototype,"y",2),l([Te({redraw:3,changeCb:e=>e.onTextChange()})],Za.prototype,"text",2),l([Ha()],Za.prototype,"fontStyle",2),l([Ha()],Za.prototype,"fontWeight",2),l([Ha()],Za.prototype,"fontSize",2),l([Ha()],Za.prototype,"fontFamily",2),l([Te({redraw:3})],Za.prototype,"textAlign",2),l([Te({redraw:3})],Za.prototype,"textBaseline",2),l([Te({redraw:3})],Za.prototype,"lineHeight",2);var Ka=Za;function $a(e,t,i,n,a,s){if(0===e.size)return!1;let r=e.x,o=e.y;null!=t&&(r-=(t.x-.5)*e.size,o-=(t.y-.5)*e.size);let l=r;r<i?l=i:r>i+a&&(l=i+a);let c=o;o<n?c=n:o>n+s&&(c=n+s);const h=r-l,u=o-c;return Math.sqrt(h*h+u*u)<=.5*e.size}function Xa(e,t,i,n,a){const s=e.x+e.width>t&&e.x<t+n,r=e.y+e.height>i&&e.y<i+a;return s&&r}var Qa={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function qa(e,t){return e.length===t.length&&e.every(((e,i)=>Number(e)===Number(t[i])))}function Ja(e,t){const i=et(e)?e:e.split(".");if(1===i.length){const[e]=i;return $e(((t,i,n)=>t[e]=n),(t=>t[e]),t)}return $e(((e,t,n)=>It(e,i,n)),(e=>Mt(e,i)),t)}function es(e){return $e(((t,i,n)=>t[e]=n))}function ts(e,t){return $e(((i,n,a)=>i[e][t??n]=a))}function is(e){const{newValue:t,oldValue:i,changeValue:n}=e;return $e(((e,a,s,r)=>(s!==r&&(void 0!==r&&i?.call(e,r),void 0!==s&&t?.call(e,s),n?.call(e,s,r)),s)))}function ns(e){return t=e,(e,i)=>{Ke(e,i).observers.push(t)};var t}var as="color: green",ss="color: grey",rs=class e{constructor(e,t,i){this.defaultState=e,this.states=t,this.enterEach=i,this.debug=va.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,as)}transition(t,i){if(!this.transitionChild(t,i)||this.state===e.child||this.state===e.parent)return;const n=this.state,a=this.states[this.state];let s=a[t];const r=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(s))s=s.find((e=>{if(!e.guard)return!0;const t=e.guard(i);return t||this.debug(`${r} ${e.target} (guarded)`,ss),t}));else if("object"===typeof s&&!(s instanceof e)&&s.guard&&!s.guard(i))return void this.debug(`${r} ${s.target} (guarded)`,ss);if(!s)return void this.debug(`${r} ${this.state}`,ss);const o=this.getDestinationState(s),l=o===this.state?void 0:a.onExit;this.debug(`${r} ${o}`,as),this.state=o,"function"===typeof s?s(i):"object"!==typeof s||s instanceof e||s.action?.(i),l?.(),this.enterEach?.(n,o),o!==n&&o!==e.child&&o!==e.parent&&this.states[o].onEnter?.(n,i)}is(t){return this.state===e.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,i){return this.state!==e.child||!this.childState||(this.childState.transition(t,i),!this.childState.is(e.parent)||(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,as),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1))}getDestinationState(t){let i=this.state;return"string"===typeof t?i=t:t instanceof e?(this.childState=t,i=e.child):"object"===typeof t&&(t.target instanceof e?(this.childState=t.target,i=e.child):i=t.target),i}};rs.child="__child",rs.parent="__parent";var os=rs,ls=class{static wrapText(e,t){return this.wrapLines(e,t).join("\n")}static wrapLines(e,t){const i=this.textWrap(e,t);return"hide"===t.overflow&&i.some((e=>e.endsWith(Va.EllipsisChar)))?[]:i}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+Va.EllipsisChar}static truncateLine(e,t,i,n){const a=t.textWidth(Va.EllipsisChar);let s=0,r=0;for(;r<e.length;r++){const n=t.textWidth(e.charAt(r));if(s+n>i)break;s+=n}if(e.length===r&&(!n||s+a<=i))return n?e+Va.EllipsisChar:e;for(e=e.slice(0,r).trimEnd();e.length&&t.textWidth(e)+a>i;)e=e.slice(0,-1).trimEnd();return e+Va.EllipsisChar}static textWrap(e,t){const i=e.split(Va.lineSplitter),n=Ua.getMeasurer(t);if("never"===t.textWrap)return i.map((e=>this.truncateLine(e.trimEnd(),n,t.maxWidth)));const a=[],s="hyphenate"===t.textWrap,r=null==t.textWrap||"on-space"===t.textWrap;for(let o of i)if(o=o.trimEnd(),""!==o){for(let e=0,i=0,l=0;e<o.length;e++){const c=o.charAt(e);if(i+=n.textWidth(c)," "===c&&(l=e),i>t.maxWidth){if(0===e)break;const c=n.textWidth(o.slice(0,e+1));if(c<=t.maxWidth){i=c;continue}if(l){const s=this.getWordAt(o,l+1),c=n.textWidth(s);if(c<=t.maxWidth){a.push(o.slice(0,l).trimEnd()),o=o.slice(l).trimStart(),e=-1,i=0,l=0;continue}r&&c>t.maxWidth&&a.push(o.slice(0,l).trimEnd(),this.truncateLine(o.slice(l).trimStart(),n,t.maxWidth,!0))}else r&&a.push(this.truncateLine(o,n,t.maxWidth,!0));if(r){o="";break}const h=s?"-":"";let u=o.slice(0,e).trim();for(;u.length&&n.textWidth(u+h)>t.maxWidth;)u=u.slice(0,-1).trimEnd();if(a.push(u+h),!u.length){o="";break}o=o.slice(u.length).trimStart(),e=-1,i=0,l=0}}o&&a.push(o)}else a.push(o);return this.avoidOrphans(a,n,t),this.clipLines(a,n,t)}static getWordAt(e,t){const i=e.indexOf(" ",t);return-1===i?e.slice(t):e.slice(t,i)}static clipLines(e,t,i){if(!i.maxHeight)return e;const{height:n,lineMetrics:a}=t.measureLines(e);if(n<=i.maxHeight)return e;for(let s=0,r=0;s<a.length;s++){const{lineHeight:n}=a[s];if(r+=n,r>i.maxHeight){if("hide"===i.overflow)return[];const n=e.slice(0,s||1),a=n.pop();return n.concat(this.truncateLine(a,t,i.maxWidth,!0))}}return e}static avoidOrphans(e,t,i){if(!1===i.avoidOrphans||e.length<2)return;const{length:n}=e,a=e[n-1],s=e[n-2];if(s.length<a.length)return;const r=s.lastIndexOf(" ");if(-1===r||r===s.indexOf(" ")||a.includes(" "))return;const o=s.slice(r+1);t.textWidth(a+o)<=i.maxWidth&&(e[n-2]=s.slice(0,r),e[n-1]=o+" "+a)}};function cs(e,t,i){void 0===i||""===i?e?.removeAttribute(t):e?.setAttribute(t,i.toString())}function hs(e,t,i){e.ariaHidden=`${i}`,e.classList.toggle(t,i)}function us(e,t,i,n){let{top:a,right:s,bottom:r,left:o,width:l,height:c}=n;return null!=o?null!=l?s=i.width-o+l:null!=s&&(l=i.width-o-s):null!=s&&null!=l&&(o=i.width-s-l),null!=a?null!=c?r=i.height-a-c:null!=r&&(c=i.height-r-a):null!=r&&null!=c&&(a=i.height-r-c),null==l?null==c?(l=e,c=t):l=Math.ceil(e*c/t):null==c&&(c=Math.ceil(t*l/e)),null==o&&(o=null==s?Math.floor((i.width-l)/2):i.width-s-l),null==a&&(a=null==r?Math.floor((i.height-c)/2):i.height-c-r),{x:o,y:a,width:l,height:c}}var ds="ag-chart-tooltip",ps="ag-chart-dark-tooltip",gs={html:"",ariaLabel:""};function fs(e){const t=(e,t,i)=>0===t||"."!==i[t-1]?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function ms(e,t){if("string"===typeof e)return{html:e,ariaLabel:e};const{content:i=t?.content??"",title:n=t?.title,color:a=t?.color??"white",backgroundColor:s=t?.backgroundColor??"#888"}=e;return{html:`${n?`<div class="${ds}-title"\n        style="color: ${a}; background-color: ${s}">${n}</div>`:""}${i?`<div class="${ds}-content">${i}</div>`:""}`,ariaLabel:fs(`${n?`${n}: `:""}${i}`)}}var ys=class extends wt{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};l([fi(rn(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],ys.prototype,"type",2),l([fi(Di)],ys.prototype,"xOffset",2),l([fi(Di)],ys.prototype,"yOffset",2);var xs=class extends wt{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new ys,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",ds),this.element.classList.add(ds),cs(this.element,"aria-hidden",!0)}destroy(e){e.removeChild("canvas-overlay",ds)}isVisible(){return!this.element?.classList.contains(ds+"-hidden")}show(e,t,i,n){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{element:s}=this;if(null!=n&&null!=s)s.innerHTML=n.html;else if(!s?.innerHTML)return void this.toggle(!1);const r=i.position?.type??this.position.type,o=i.position?.xOffset??0,l=i.position?.yOffset??0,c=this.getTooltipBounds({positionType:r,meta:i,yOffset:l,xOffset:o,canvasRect:t}),h={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height},u=us(s.clientWidth,s.clientHeight,h,c),d=h.x,p=h.y,g=h.width-s.clientWidth-1+d,f=h.height-s.clientHeight+p,m=me(d,u.x,g),y=me(p,u.y,f),x=m!==u.x||y!==u.y,b=("node"===r||"pointer"===r)&&!x&&!o&&!l,v=i.showArrow??this.showArrow??b;this.updateShowArrow(v),s.style.transform=`translate(${Math.round(m)}px, ${Math.round(y)}px)`,s.style.pointerEvents=i.enableInteraction?"auto":"none",s.setAttribute("data-pointer-capture","retain"),this.enableInteraction=i.enableInteraction??!1,this.delay>0&&!a?(this.toggle(!1),this.showTimeout=setTimeout((()=>{this.toggle(!0)}),this.delay)):this.toggle(!0)}toggle(e){if(!this.element)return;const{classList:t}=this.element,i=(e,i)=>t.toggle(`${ds}-${e}`,i),n=this.isVisible();let a=1/0;if(e||clearTimeout(this.showTimeout),n!==e){const e=Date.now();a=e-this.lastVisibilityChange,this.lastVisibilityChange=e}a>5&&i("no-animation",!n&&e&&a>100),i("no-interaction",!this.enableInteraction),i("hidden",!e),i("arrow",this._showArrow),t.toggle(ps,this.darkTheme);for(const s of this.wrapTypes)t.toggle(`${ds}-wrap-${s}`,s===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};const{positionType:t,meta:i,yOffset:n,xOffset:a,canvasRect:s}=e,{clientWidth:r,clientHeight:o}=this.element,l={width:r,height:o};switch(t){case"node":case"pointer":return l.top=i.offsetY+n-o-8,l.left=i.offsetX+a-r/2,l;case"top":return l.top=n,l.left=s.width/2-r/2+a,l;case"right":return l.top=s.height/2-o/2+n,l.left=s.width-r/2+a,l;case"left":return l.top=s.height/2-o/2+n,l.left=a,l;case"bottom":return l.top=s.height-o+n,l.left=s.width/2-r/2+a,l;case"top-left":return l.top=n,l.left=a,l;case"top-right":return l.top=n,l.left=s.width-r+a,l;case"bottom-right":return l.top=s.height-o+n,l.left=s.width-r+a,l;case"bottom-left":return l.top=s.height-o+n,l.left=a,l}}};l([fi(Mi)],xs.prototype,"enabled",2),l([fi(Mi,{optional:!0})],xs.prototype,"showArrow",2),l([ns(((e,t,i)=>{t&&e.element?.classList.add(t),i&&e.element?.classList.remove(i)})),fi(Ii,{optional:!0})],xs.prototype,"class",2),l([fi(ki)],xs.prototype,"delay",2),l([fi(an,{optional:!0})],xs.prototype,"range",2),l([fi(Qi)],xs.prototype,"wrapping",2),l([fi(bi)],xs.prototype,"position",2),l([fi(Mi)],xs.prototype,"darkTheme",2),l([fi(rn(["extended","canvas"]))],xs.prototype,"bounds",2);var bs=class extends wt{constructor(){super(...arguments),this.id=oe(this),this.node=new Ka({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(e){const{regionManager:t,proxyInteractionService:i,layoutService:n}=e,a=t.getRegion("root");return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return()=>{for(const e of t)e()}}(...[n.addListener("layout-complete",(()=>this.updateA11yText(i))),a.addListener("hover",(t=>this.handleMouseMove(e,t))),a.addListener("leave",(t=>this.handleMouseLeave(e,t)))])}computeTextWrap(e,t){const{text:i,wrapping:n}=this,a=Math.min(this.maxWidth??1/0,e),s=this.maxHeight??t;if(!isFinite(a)&&!isFinite(s))return void(this.node.text=i);const r=ls.wrapText(i??"",{maxWidth:a,maxHeight:s,font:this,textWrap:n});this.node.text=r,this.truncated=r.includes(Va.EllipsisChar)}updateA11yText(e){if(this.enabled&&this.text){const t=this.node.computeTransformedBBox();if(t){const{id:i}=this;this.proxyText??(this.proxyText=e.createProxyElement({type:"text",id:i,parent:"canvas-proxy"})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(t)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(e,t){if(void 0!==t&&this.enabled&&this.node.visible&&this.truncated){const{offsetX:i,offsetY:n}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:t,showArrow:!1},ms({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};bs.SMALL_PADDING=10,bs.LARGE_PADDING=20,l([fi(Mi)],bs.prototype,"enabled",2),l([fi(Ii,{optional:!0}),ts("node")],bs.prototype,"text",2),l([fi(qi,{optional:!0}),ts("node")],bs.prototype,"textAlign",2),l([fi($i,{optional:!0}),ts("node")],bs.prototype,"fontStyle",2),l([fi(Xi,{optional:!0}),ts("node")],bs.prototype,"fontWeight",2),l([fi(ki),ts("node")],bs.prototype,"fontSize",2),l([fi(Ii),ts("node")],bs.prototype,"fontFamily",2),l([fi(Bi,{optional:!0}),ts("node","fill")],bs.prototype,"color",2),l([fi(ki,{optional:!0})],bs.prototype,"spacing",2),l([fi(ki,{optional:!0})],bs.prototype,"lineHeight",2),l([fi(ki,{optional:!0})],bs.prototype,"maxWidth",2),l([fi(ki,{optional:!0})],bs.prototype,"maxHeight",2),l([fi(Qi)],bs.prototype,"wrapping",2),l([fi(Ii)],bs.prototype,"layoutStyle",2);var vs=class extends Fa{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Ae(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&(n.nodesSkipped+=this.nodeCount.count));this.transformRenderContext(e);let{x1:a,y1:s,x2:r,y2:o}=this;a=this.align(a),s=this.align(s),r=this.align(r),o=this.align(o);const{fill:l,opacity:c,isRange:h}=this;if(!(!h||!l)){const{fillOpacity:e}=this;t.fillStyle=l,t.globalAlpha=c*e,t.beginPath(),t.moveTo(a,s),t.lineTo(r,s),t.lineTo(r,o),t.lineTo(a,o),t.closePath(),t.fill()}const{stroke:u,strokeWidth:d,startLine:p,endLine:g}=this;if(!(!p&&!g||!u||!d)){const{strokeOpacity:e,lineDash:i,lineDashOffset:n,lineCap:l,lineJoin:h}=this;t.strokeStyle=u,t.globalAlpha=c*e,t.lineWidth=d,i&&t.setLineDash(i),n&&(t.lineDashOffset=n),l&&(t.lineCap=l),h&&(t.lineJoin=h),t.beginPath(),p&&(t.moveTo(a,s),t.lineTo(r,s)),g&&(t.moveTo(r,o),t.lineTo(a,o)),t.stroke()}this.fillShadow?.markClean(),super.render(e)}};vs.className="Range",vs.defaultStyles={...Fa.defaultStyles,strokeWidth:1},l([Te({redraw:2})],vs.prototype,"x1",2),l([Te({redraw:2})],vs.prototype,"y1",2),l([Te({redraw:2})],vs.prototype,"x2",2),l([Te({redraw:2})],vs.prototype,"y2",2),l([Te({redraw:2})],vs.prototype,"startLine",2),l([Te({redraw:2})],vs.prototype,"endLine",2),l([Te({redraw:2})],vs.prototype,"isRange",2);var Ms=class extends wt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Va.toFontString(this)}};function Ss(e){const{parallelFlipRotation:t=0,regularFlipRotation:i=0}=e,n=e.rotation?Ia(Na(e.rotation)):0,a=!n&&t>=0&&t<=Math.PI?-1:1,s=!n&&i>=0&&i<=Math.PI?-1:1;let r=0;return e.parallel?r=a*Math.PI/2:-1===s&&(r=Math.PI),{configuredRotation:n,defaultRotation:r,parallelFlipFlag:a,regularFlipFlag:s}}function Is(e,t,i,n,a){const s=t>0&&t<=Math.PI,r=i>0&&i<=Math.PI;if(e){if(!t&&!i)return"center";if(n*(s||r?-1:1)===-1)return"end"}else if(n*a===-1)return"end";return"start"}function Ds(e,t,i){const{x:n,y:a,width:s,height:r}=t,o=new Ae(n,a,0,0);i.transformBBox(o,t);const{x:l,y:c}=t;return{point:{x:l,y:c},label:{text:e,width:s,height:r}}}l([fi(Mi)],Ms.prototype,"enabled",2),l([fi(Bi,{optional:!0})],Ms.prototype,"color",2),l([fi($i,{optional:!0})],Ms.prototype,"fontStyle",2),l([fi(Xi,{optional:!0})],Ms.prototype,"fontWeight",2),l([fi(ki)],Ms.prototype,"fontSize",2),l([fi(Ii)],Ms.prototype,"fontFamily",2),l([fi(Si,{optional:!0})],Ms.prototype,"formatter",2);var ws=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",e[e.CHART_ANNOTATION_ZINDEX=11]="CHART_ANNOTATION_ZINDEX",e[e.CHART_ANNOTATION_FOCUSED_ZINDEX=12]="CHART_ANNOTATION_FOCUSED_ZINDEX",e[e.LEGEND_ZINDEX=13]="LEGEND_ZINDEX",e[e.NAVIGATOR_ZINDEX=14]="NAVIGATOR_ZINDEX",e[e.FOREGROUND_ZINDEX=15]="FOREGROUND_ZINDEX",e))(ws||{});function ks(e){return null!=e&&Object.hasOwn(e,"toString")&&ct(e.toString())}function Ns(e){return null!=e&&Object.hasOwn(e,"valueOf")&&ut(e.valueOf())}function Ls(e){return ut(e)||nt(e)||Ns(e)}function As(e,t){return null!=e&&(!t||Ls(e))}function Cs(e){return ks(e)&&Object.hasOwn(e,"id")?e.id:e}var Ts=e=>"value"===e?cn(((e,t)=>"line"===t.target.type),(e=>"range"===e.target.type?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'")):cn(((e,t)=>"range"===t.target.type),(e=>"line"===e.target.type?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'")),Es=(e,t,i,n)=>{const a="line"===e&&void 0!==t,s="range"===e&&void 0!==i;if(!a&&!s)return!0;const[r,o]=i??[t,void 0],l=xn.is(n)||aa.is(n),c=As(r,l)&&!isNaN(n.convert(r)),h=As(o,l)&&!isNaN(n.convert(o));if(a&&c||s&&c&&h)return!0;const u=["Expecting crossLine"];return s?(c||u.push(`range start ${dn(r)}`),h||u.push(`${c?"":"and "}range end ${dn(o)}`)):u.push(`value ${dn(r)}`),u.push("to match the axis scale domain."),y.warnOnce(u.join(" ")),!1},Rs={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Os={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function zs(e){let{yDirection:t,padding:i=0,position:n="top",bbox:a}=e;const s=t?Rs:Os,{xTranslationDirection:r,yTranslationDirection:o}=s[n];return{xTranslation:r*(i+(t?a.width:a.height)/2),yTranslation:o*(i+(t?a.height:a.width)/2)}}function js(e){let{yDirection:t,bbox:i,padding:n=0,position:a="top"}=e;const s={};return a.startsWith("inside")||("top"!==a||t?"bottom"!==a||t?"left"===a&&t?s.left=n+i.width:"right"===a&&t&&(s.right=n+i.width):s.bottom=n+i.height:s.top=n+i.height),s}var Ps=e=>{let{yDirection:t,xEnd:i,yStart:n,yEnd:a}=e;return t?{x:i/2,y:n}:{x:i,y:isNaN(a)?n:(n+a)/2}},Bs=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:a,yEnd:s}=e;return t?{x:i,y:isNaN(s)?a:(a+s)/2}:{x:n/2,y:a}},Fs=e=>{let{yDirection:t,xEnd:i,yStart:n,yEnd:a}=e;return t?{x:i,y:isNaN(a)?n:(n+a)/2}:{x:i/2,y:isNaN(a)?n:a}},Gs=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:a,yEnd:s}=e;return t?{x:n/2,y:isNaN(s)?a:s}:{x:i,y:isNaN(s)?a:(a+s)/2}},_s=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:a}=e;return t?{x:i/2,y:a}:{x:n,y:a}},Us=e=>{let{yDirection:t,xStart:i,yStart:n,yEnd:a}=e;return t?{x:i,y:isNaN(a)?n:a}:{x:i,y:n}},Ys=e=>{let{yDirection:t,xEnd:i,yStart:n,yEnd:a}=e;return t?{x:i,y:n}:{x:i,y:isNaN(a)?n:a}},Vs=e=>{let{yDirection:t,xStart:i,xEnd:n,yStart:a,yEnd:s}=e;return t?{x:n,y:isNaN(s)?a:s}:{x:i,y:isNaN(s)?a:s}},Ws={top:{c:Ps},bottom:{c:Gs},left:{c:Bs},right:{c:Fs},topLeft:{c:_s},topRight:{c:Ys},bottomLeft:{c:Us},bottomRight:{c:Vs},inside:{c:e=>{let{xEnd:t,yStart:i,yEnd:n}=e;return{x:t/2,y:isNaN(n)?i:(i+n)/2}}},insideLeft:{c:Bs},insideRight:{c:Fs},insideTop:{c:Ps},insideBottom:{c:Gs},insideTopLeft:{c:_s},insideBottomLeft:{c:Us},insideTopRight:{c:Ys},insideBottomRight:{c:Vs}},Hs=rn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Zs=class extends wt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};l([fi(Mi,{optional:!0})],Zs.prototype,"enabled",2),l([fi(Ii,{optional:!0})],Zs.prototype,"text",2),l([fi($i,{optional:!0})],Zs.prototype,"fontStyle",2),l([fi(Xi,{optional:!0})],Zs.prototype,"fontWeight",2),l([fi(ki)],Zs.prototype,"fontSize",2),l([fi(Ii)],Zs.prototype,"fontFamily",2),l([fi(Di)],Zs.prototype,"padding",2),l([fi(Bi,{optional:!0})],Zs.prototype,"color",2),l([fi(Hs,{optional:!0})],Zs.prototype,"position",2),l([fi(Li,{optional:!0})],Zs.prototype,"rotation",2),l([fi(Mi,{optional:!0})],Zs.prototype,"parallel",2);var Ks=class e extends wt{constructor(){super(),this.id=oe(this),this.label=new Zs,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new ca({name:`${this.id}`,layer:!0,zIndex:e.LINE_LAYER_ZINDEX}),this.labelGroup=new ca({name:`${this.id}`,layer:!0,zIndex:e.LABEL_LAYER_ZINDEX}),this.crossLineRange=new vs,this.crossLineLabel=new Ka,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(e){const{enabled:t,data:i,type:n,value:a,range:s,scale:r}=this;if(!n||!r||!t||!e||!Es(n,a,s,r)||0===i.length)return this.group.visible=!1,void(this.labelGroup.visible=!1);this.group.visible=e,this.labelGroup.visible=e,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(e,t){if(!e)return;const{scale:i,gridLength:n,sideFlag:a,direction:s,label:{position:r="top"},clippedRange:o,strokeWidth:l=0}=this;if(this.data=[],!i)return;const c=i.bandwidth??0,h=i.step??0,u=(t?-1:1)*(i instanceof gi?(h-c)/2:0),[d,p]=[0,a*n];let[g,f]=this.getRange();const m=void 0===f&&aa.is(i)?c/2+u:0;let[y,x]=[Number(i.convert(g,{clampMode:"clamped"}))-u+m,i.convert(f,{clampMode:"clamped"})+c+u];y=ye(y,o),x=ye(x,o),[g,f]=[Number(i.convert(g))+m,i.convert(f)+c];const b=(g===y||f===x||y!==x)&&Math.abs(x-y)>0;if(b&&y>x&&([y,x]=[x,y],[g,f]=[f,g]),g-u>=y&&(g-=u),f+u<=x&&(f+=u),this.isRange=b,this.startLine=l>0&&g>=y&&g<=y+u,this.endLine=l>0&&f>=x-c-u&&f<=x,(b||this.startLine||this.endLine)&&(this.data=[y,x],this.label.enabled)){const e="y"===s,{c:t=Ps}=Ws[r]??{},{x:i,y:n}=t({yDirection:e,xStart:d,xEnd:p,yStart:y,yEnd:x});this.labelPoint={x:i,y:n}}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){const{crossLineRange:e,sideFlag:t,gridLength:i,data:n,startLine:a,endLine:s,isRange:r,fill:o,fillOpacity:l,stroke:c,strokeWidth:h,lineDash:u}=this;e.x1=0,e.x2=t*i,e.y1=n[0],e.y2=n[1],e.startLine=a,e.endLine=s,e.isRange=r,e.fill=o,e.fillOpacity=l??1,e.stroke=c,e.strokeWidth=h??1,e.strokeOpacity=this.strokeOpacity??1,e.lineDash=u}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}positionLabel(){const{crossLineLabel:e,labelPoint:{x:t,y:i}={},label:{parallel:n,rotation:a,position:s="top",padding:r=0},direction:o,parallelFlipRotation:l,regularFlipRotation:c}=this;if(void 0===t||void 0===i)return;const{defaultRotation:h,configuredRotation:u}=Ss({rotation:a,parallel:n,regularFlipRotation:c,parallelFlipRotation:l});e.rotation=h+u,e.textBaseline="middle",e.textAlign="center";const d=e.computeTransformedBBox();if(!d)return;const p="y"===o,{xTranslation:g,yTranslation:f}=zs({yDirection:p,padding:r,position:s,bbox:d});e.translationX=t+g,e.translationY=i+f}getZIndex(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?e.RANGE_LAYER_ZINDEX:e.LINE_LAYER_ZINDEX}getRange(){const{value:e,range:t,scale:i}=this,n=xn.is(i)||aa.is(i),a=t?.[0]??e;let s=t?.[1];return n||void 0!==s||(s=a),n&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:e}=this;if(!e.enabled)return;const t=new Ka;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text;const{labelPoint:{x:i,y:n}={},label:{parallel:a,rotation:s,position:r="top",padding:o=0},direction:l,parallelFlipRotation:c,regularFlipRotation:h}=this;if(void 0===i||void 0===n)return;const{configuredRotation:u}=Ss({rotation:s,parallel:a,regularFlipRotation:h,parallelFlipRotation:c});t.rotation=u,t.textBaseline="middle",t.textAlign="center";const d=t.computeTransformedBBox();if(!d)return;const p="y"===l,{xTranslation:g,yTranslation:f}=zs({yDirection:p,padding:o,position:r,bbox:d});return t.translationX=i+g,t.translationY=n+f,t.computeTransformedBBox()}calculatePadding(e){const{isRange:t,startLine:i,endLine:n,direction:a,label:{padding:s=0,position:r="top"}}=this;if(!t&&!i&&!n)return;const o=this.computeLabelBBox();if(null==o?.x||null==o?.y)return;const l=js({yDirection:"y"===a,padding:s,position:r,bbox:o});e.left=Math.max(e.left??0,l.left??0),e.right=Math.max(e.right??0,l.right??0),e.top=Math.max(e.top??0,l.top??0),e.bottom=Math.max(e.bottom??0,l.bottom??0)}};Ks.LINE_LAYER_ZINDEX=9,Ks.RANGE_LAYER_ZINDEX=3,Ks.LABEL_LAYER_ZINDEX=8,Ks.className="CrossLine",l([fi(Mi,{optional:!0})],Ks.prototype,"enabled",2),l([fi(rn(["range","line"],"a crossLine type"),{optional:!0})],Ks.prototype,"type",2),l([fi(yi(Ts("range"),Ci.restrict({length:2})),{optional:!0})],Ks.prototype,"range",2),l([fi(Ts("value"),{optional:!0})],Ks.prototype,"value",2),l([fi(Bi,{optional:!0})],Ks.prototype,"fill",2),l([fi(Ni,{optional:!0})],Ks.prototype,"fillOpacity",2),l([fi(Bi,{optional:!0})],Ks.prototype,"stroke",2),l([fi(Di,{optional:!0})],Ks.prototype,"strokeWidth",2),l([fi(Ni,{optional:!0})],Ks.prototype,"strokeOpacity",2),l([fi(Zi,{optional:!0})],Ks.prototype,"lineDash",2),l([fi(bi)],Ks.prototype,"label",2);var $s=Ks,Xs=(e=>(e.TITLE="title",e.SUBTITLE="subtitle",e.FOOTNOTE="footnote",e.LEGEND="legend",e.NAVIGATOR="navigator",e.PAGINATION="pagination",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e.TOOLBAR="toolbar",e))(Xs||{}),Qs=["stroke","lineDash"],qs=Ti((e=>rt(e)&&Object.keys(e).every((e=>Qs.includes(e)))),"objects with gridline style properties such as 'stroke' or 'lineDash'"),Js=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};function er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[void 0];return $e(((i,n,a)=>t.includes(a)?st(e)?e(a):e:a))}l([fi(Mi)],Js.prototype,"enabled",2),l([fi(ki)],Js.prototype,"width",2),l([fi(qs)],Js.prototype,"style",2);var tr=cn((e=>ut(e)&&e>0||e instanceof x),"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),ir=class extends wt{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};l([fi(tr,{optional:!0})],ir.prototype,"step",2),l([fi(Ci,{optional:!0})],ir.prototype,"values",2),l([fi(on),er(NaN)],ir.prototype,"minSpacing",2),l([fi(ln),er(NaN)],ir.prototype,"maxSpacing",2);var nr=class extends wt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};l([fi(Mi)],nr.prototype,"enabled",2),l([fi($i,{optional:!0})],nr.prototype,"fontStyle",2),l([fi(Xi,{optional:!0})],nr.prototype,"fontWeight",2),l([fi(Di.restrict({min:1}))],nr.prototype,"fontSize",2),l([fi(Ii)],nr.prototype,"fontFamily",2),l([fi(ki)],nr.prototype,"padding",2),l([fi(Ai),er(NaN)],nr.prototype,"minSpacing",2),l([fi(Bi,{optional:!0})],nr.prototype,"color",2),l([fi(Li,{optional:!0})],nr.prototype,"rotation",2),l([fi(Mi)],nr.prototype,"avoidCollisions",2),l([fi(Mi)],nr.prototype,"mirrored",2),l([fi(Mi)],nr.prototype,"parallel",2),l([fi(Si,{optional:!0})],nr.prototype,"formatter",2),l([fi(Ii,{optional:!0})],nr.prototype,"format",2);var ar=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};l([fi(Mi)],ar.prototype,"enabled",2),l([fi(ki)],ar.prototype,"width",2),l([fi(Bi,{optional:!0})],ar.prototype,"stroke",2);var sr=class extends wt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};l([fi(Mi)],sr.prototype,"enabled",2),l([fi(ki)],sr.prototype,"width",2),l([fi(ki)],sr.prototype,"size",2),l([fi(Bi,{optional:!0})],sr.prototype,"stroke",2);var rr=class extends wt{constructor(){super(...arguments),this.enabled=!1,this.spacing=bs.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};function or(e){const[t,i]=xe(e.range),n=Math.floor(t),a=Math.ceil(i);return{min:n,max:a,visible:n!==a}}l([fi(Mi)],rr.prototype,"enabled",2),l([fi(Ii,{optional:!0})],rr.prototype,"text",2),l([fi(ki,{optional:!0})],rr.prototype,"spacing",2),l([fi($i,{optional:!0})],rr.prototype,"fontStyle",2),l([fi(Xi,{optional:!0})],rr.prototype,"fontWeight",2),l([fi(ki)],rr.prototype,"fontSize",2),l([fi(Ii)],rr.prototype,"fontFamily",2),l([fi(Bi,{optional:!0})],rr.prototype,"color",2),l([fi(Qi)],rr.prototype,"wrapping",2),l([fi(Si,{optional:!0})],rr.prototype,"formatter",2);var lr=2*Math.PI,cr=lr/2;function hr(e){const t=(t,i)=>{const[n=e.min,a=e.max]=xe(i??[]);return t<n||t>a};return{tick:{fromFn(e,i,n){let a=e.y1+e.translationY,s=e.opacity;return("added"===n||t(e.datum.translationY,e.datum.range))&&(a=i.translationY,s=0),{y:0,translationY:a,opacity:s,phase:Qt[n]}},toFn(e,t,i){const n=t.translationY;let a=1;return"removed"===i&&(a=0),{y:0,translationY:n,opacity:a,finish:{y:n,translationY:0}}},intermediateFn:(e,i,n)=>({visible:!t(e.y)})},line:{fromFn:(e,t)=>({...e.previousDatum??t,phase:Qt.updated}),toFn:(e,t)=>({...t})},label:{fromFn(e,i,n){const a=e.previousDatum??i,s=a.x,r=a.y,o=a.rotationCenterX;let l=Math.round(e.translationY),c=a.rotation,h=e.opacity;return"removed"===n||t(a.y,a.range)?c=i.rotation:("added"===n||t(e.datum.y,e.datum.range))&&(l=Math.round(a.translationY),h=0,c=i.rotation),{x:s,y:r,rotationCenterX:o,translationY:l,rotation:c,opacity:h,phase:Qt[n]}},toFn(e,t,i){const n=t.x,a=t.y,s=t.rotationCenterX,r=Math.round(t.translationY);let o=0,l=1;var c,h;return"added"===i?(l=1,o=t.rotation):"removed"===i?(l=0,o=t.rotation):(c=e.previousDatum?.rotation??t.rotation,h=t.rotation,o=Math.abs(h-c)<cr?h:c>h?h+lr:h-lr),{x:n,y:a,rotationCenterX:s,translationY:r,rotation:o,opacity:l,finish:{rotation:t.rotation}}}},group:{fromFn(e,t){const{rotation:i,translationX:n,translationY:a}=e;return{rotation:i,translationX:n,translationY:a,phase:Qt.updated}},toFn(e,t){const{rotation:i,translationX:n,translationY:a}=t;return{rotation:i,translationX:n,translationY:a}}}}}function ur(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function dr(e){const{visible:t,min:i,max:n}=e;return(e,a)=>{const s=a.translationY;return{y:s,translationY:0,opacity:1,visible:t&&s>=i&&s<=n}}}function pr(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function gr(){return(e,t)=>({...t})}var fr=class e{constructor(t,i){let n;this.moduleCtx=t,this.scale=i,this.id=oe(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new ir,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new ca({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new Ga({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new ca({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new ca({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new ca({name:`${this.id}-CrossLines`}),this.labelGroup=new ca({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new ca({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new ca({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Ma.select(this.tickLineGroup,Ga,!1),this.tickLabelGroupSelection=Ma.select(this.tickLabelGroup,Ka,!1),this.gridLineGroupSelection=Ma.select(this.gridLineGroup,Ga,!1),this._crossLines=[],this.line=new ar,this.tick=new sr,this.gridLine=new Js,this.label=this.createLabel(),this.defaultTickMinSpacing=e.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new rr,this._titleCaption=new bs,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new gn,this.range=this.scale.range.slice(),this.crossLines.forEach((e=>this.initCrossLine(e))),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.animationManager=t.animationManager,this.animationState=new os("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:e=>this.animateReadyUpdate(e),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.destroyFns.push(t.layoutService.addListener("layout-complete",(e=>{null!=n&&null!=At(e.chart,n)&&this.animationState.transition("resize"),n={...e.chart}})))}get type(){return this.constructor.type??""}set crossLines(e){const{CrossLineConstructor:t}=this.constructor;this._crossLines.forEach((e=>this.detachCrossLine(e))),this._crossLines=e.map((e=>{const i=new t;return i.set(e),i})),this._crossLines.forEach((e=>{this.attachCrossLine(e),this.initCrossLine(e)}))}get crossLines(){return this._crossLines}resetAnimation(e){"initial"===e&&this.animationState.transition("reset")}attachCrossLine(e){this.crossLineGroup.appendChild(e.group),this.crossLineGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineGroup.removeChild(e.group),this.crossLineGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach((e=>e()))}updateRange(){const{range:e,visibleRange:t,scale:i}=this,n=(e[1]-e[0])/(t[1]-t[0]),a=n*t[0],s=e[0]-a;i.setVisibleRange?.(t),i.range=[s,s+n],this.crossLines.forEach((t=>{t.clippedRange=[e[0],e[1]]}))}setCrossLinesVisible(e){this.crossLineGroup.visible=e}attachAxis(e,t){t.appendChild(this.gridGroup),e.appendChild(this.axisGroup),e.appendChild(this.crossLineGroup),e.appendChild(this.labelGroup)}attachLabel(e){this.labelGroup.append(e)}detachAxis(e,t){t.removeChild(this.gridGroup),e.removeChild(this.axisGroup),e.removeChild(this.crossLineGroup),e.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[i,n]=xe(this.range);return e>=i-t&&e<=n+t}onFormatChange(e,t,i,n){const{scale:a}=this,s=a instanceof ea,r=e=>s?String:i=>"number"===typeof i?i.toFixed(t+e):String(i);if(n&&a&&a.tickFormat)try{const t=a.tickFormat({ticks:e,specifier:n});this.labelFormatter=t,this.datumFormatter=t}catch(o){this.labelFormatter=r(0),this.datumFormatter=r(1),y.warnOnce(`the axis label format string ${n} is invalid. No formatting will be applied`)}else this.labelFormatter=r(0),this.datumFormatter=r(1)}setTickInterval(e){this.scale.interval=this.interval?.step??e}onGridLengthChange(e,t){(t&&!e||!t&&e)&&this.onGridVisibilityChange(),this.crossLines.forEach((e=>this.initCrossLine(e)))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new nr}update(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.tickGenerationResult)return;const{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:r,combinedRotation:o,textBaseline:l,textAlign:c,primaryTickCount:h}=this.tickGenerationResult,u=this.tickLabelGroupSelection.nodes().map((e=>e.datum.tickId));if(this.updateSelections(s,r.ticks,{combinedRotation:o,textAlign:c,textBaseline:l,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const e=this.calculateUpdateDiff(u,r);this.animationState.transition("update",e)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:r.ticks.length>0}),this.updateCrossLines({rotation:t,parallelFlipRotation:i,regularFlipRotation:n}),this.updateLayoutState(r.fractionDigits),h}getAxisLineCoordinates(){const[e,t]=xe(this.range);return{x:0,y1:e,y2:t}}getTickLineCoordinates(e){const t=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,t);return{x1:i,x2:i+Math.abs(t),y:e.translationY}}getTickLabelProps(e,t){const{label:i}=this,{combinedRotation:n,textBaseline:a,textAlign:s,range:r}=t,o=e.tickLabel,l=i.getSideFlag()*(this.getTickSize()+i.padding+this.seriesAreaPadding),c=""!==o&&null!=o;return{tickId:e.tickId,translationY:e.translationY,fill:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,rotation:n,rotationCenterX:l,text:o,textAlign:s,textBaseline:a,visible:c,x:l,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(e,t){const{title:i}=this;if(!i.enabled)return e.enabled=!1,void(e.node.visible=!1);e.color=i.color,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.enabled=i.enabled,e.wrapping=i.wrapping;const n=e.node,a=(i.spacing??0)+t.spacing,s=this.label.getSideFlag(),r=Ia(this.rotation),o=-1===s&&r>Math.PI&&r<2*Math.PI?-1:1,l=o*s*Math.PI/2,c=1===o?"bottom":"top",{range:h}=this,u=Math.floor(o*s*(h[0]+h[1])/2),d=-1===s?Math.floor(o*-a):Math.floor(-a),{callbackCache:p}=this.moduleCtx,{formatter:g=e=>e.defaultValue}=i,f=p.call(g,this.getTitleFormatterParams());n.setProperties({rotation:l,text:f,textBaseline:c,visible:!0,x:u,y:d})}calculateLayout(e){const{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}=this.calculateRotations(),a=this.label.getSideFlag(),s=a*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:i,regularFlipRotation:n,labelX:s,sideFlag:a});const{tickData:r,combinedRotation:o,textBaseline:l,textAlign:c,...h}=this.tickGenerationResult;this.updateLayoutState(r.fractionDigits);const u=[],{x:d,y1:p,y2:g}=this.getAxisLineCoordinates(),f=new Ae(d+Math.min(a*this.seriesAreaPadding,0),p,this.seriesAreaPadding,g-p);if(u.push(f),this.tick.enabled&&r.ticks.forEach((e=>{const{x1:t,x2:i,y:n}=this.getTickLineCoordinates(e),a=new Ae(t,n,i-t,0);u.push(a)})),this.label.enabled){const e=new Ka;r.ticks.forEach((t=>{const i=this.getTickLabelProps(t,{combinedRotation:o,textAlign:c,textBaseline:l,range:this.scale.range});if(!i.visible)return;e.setProperties({...i,translationY:Math.round(t.translationY)});const n=e.computeTransformedBBox();n&&u.push(n)}))}if(this.title?.enabled){const e=new bs,t=Ae.merge(u).width;this.setTitleProps(e,{spacing:t});const i=e.node.computeTransformedBBox();i&&u.push(i)}const m=Ae.merge(u),y=this.getTransformBox(m),x=this.isAnySeriesActive();return this.crossLines.forEach((e=>{var s;e.sideFlag=-a,e.direction=t===-Math.PI/2?"x":"y",e instanceof $s&&((s=e.label).parallel??(s.parallel=this.label.parallel)),e.parallelFlipRotation=i,e.regularFlipRotation=n,e.calculateLayout?.(x,this.reverse)})),{primaryTickCount:h.primaryTickCount,bbox:y}}updateLayoutState(e){this.layout.label={fractionDigits:e,padding:this.label.padding,format:this.label.format}}getTransformBox(e){const t=new ze,{rotation:i,translationX:n,translationY:a,rotationCenterX:s,rotationCenterY:r}=this.getAxisTransform();return ze.updateTransformMatrix(t,1,1,i,n,a,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:s,rotationCenterY:r}),t.transformBBox(e)}setDomain(e){this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);const{scale:e,nice:t}=this;xn.is(e)&&(e.nice=t,e.update())}calculateRotations(){const e=Na(this.rotation);return{rotation:e,parallelFlipRotation:Ia(e),regularFlipRotation:Ia(e-Math.PI/2)}}generateTicks(e){let{primaryTickCount:t,parallelFlipRotation:i,regularFlipRotation:n,labelX:a,sideFlag:s}=e;const{scale:r,interval:{minSpacing:o,maxSpacing:l},label:{parallel:c,rotation:h,fontFamily:u,fontSize:d,fontStyle:p,fontWeight:g}}=this,f=void 0!==t,{defaultRotation:m,configuredRotation:y,parallelFlipFlag:x,regularFlipFlag:b}=Ss({rotation:h,parallel:c,regularFlipRotation:n,parallelFlipRotation:i}),v=y+m,M=new ze,{maxTickCount:S}=this.estimateTickCount({minSpacing:o,maxSpacing:l}),I=!(xn.is(r)||aa.is(r))||isNaN(S)?10:S;let D=Is(c,y,0,s,b);const w=function(e,t,i,n){return e&&!t?i*n===-1?"hanging":"bottom":"middle"}(c,y,s,x),k=Va.toFontString({fontFamily:u,fontSize:d,fontStyle:p,fontWeight:g}),N=Ua.getMeasurer({font:k}),L={fontFamily:u,fontSize:d,fontStyle:p,fontWeight:g,textBaseline:w,textAlign:D};let A={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},C=0,T=0,E=!0,R=!1;for(;E&&C<=I&&!R;){T=0,D=Is(c,y,0,s,b);const e=this.getTickStrategies({secondaryAxis:f,index:C});for(const i of e){({tickData:A,index:C,autoRotation:T,terminate:R}=i({index:C,tickData:A,textProps:L,labelOverlap:E,terminate:R,primaryTickCount:t}));const e=0!==y||0!==T,n=v+T;D=Is(c,y,T,s,b),E=!!this.label.avoidCollisions&&this.checkLabelOverlap(n,e,M,A.ticks,a,N)}}const O=m+y+T;return!f&&A.rawTicks.length>0&&(t=A.rawTicks.length),{tickData:A,primaryTickCount:t,combinedRotation:O,textBaseline:w,textAlign:D}}getTickStrategies(e){let{index:t,secondaryAxis:i}=e;const{scale:n,label:a}=this,{minSpacing:s}=this.interval,r=xn.is(n)||aa.is(n),o=a.enabled&&a.avoidCollisions,l=!r&&0!==t&&o,c=!0===a.autoRotate&&void 0===a.rotation,h=[];let u;u=this.interval.values?3:i?1:l?2:0;if(h.push((e=>{let{index:t,tickData:i,primaryTickCount:n,terminate:a}=e;return this.createTickData(u,t,i,a,n)})),!r&&!isNaN(s)){const e=e=>{let{index:t,tickData:i,primaryTickCount:n,terminate:a}=e;return this.createTickData(2,t,i,a,n)};h.push(e)}if(!o)return h;if(c){const e=e=>{let{index:t,tickData:i,labelOverlap:n,terminate:a}=e;return{index:t,tickData:i,autoRotation:this.getAutoRotation(n),terminate:a}};h.push(e)}return h}createTickData(e,t,i,n,a){const{scale:s}=this,{step:r,values:o,minSpacing:l,maxSpacing:c}=this.interval,{maxTickCount:h,minTickCount:u,defaultTickCount:d}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),p=xn.is(s)||aa.is(s),g=!p||isNaN(h)?10:h;let f=p?Math.max(d-t,u):h;const m=void 0===r&&void 0===o&&f>u&&(p||2===e);let y=!0;for(;y&&t<=g;){const n=i.rawTicks;f=p?Math.max(d-t,u):h;const{rawTicks:s,fractionDigits:r,ticks:o,labelCount:l}=this.getTicks({tickGenerationType:e,previousTicks:n,tickCount:f,minTickCount:u,maxTickCount:h,primaryTickCount:a});i.rawTicks=s,i.fractionDigits=r,i.ticks=o,i.labelCount=l,y=!!m&&qa(s,n),t++}return n||(n=void 0!==r||void 0!==o),{tickData:i,index:t,autoRotation:0,terminate:n}}checkLabelOverlap(e,t,i,n,a,s){ze.updateTransformMatrix(i,1,1,e,0,0);const r=this.createLabelData(n,a,i,s),o=function(e,t){return isNaN(e)?t?0:10:e}(this.label.minSpacing,t);return function(e,t){const i=[];for(let n=0;n<e.length;n++){const a=e[n],{point:{x:s,y:r},label:{text:o}}=a;let{width:l,height:c}=a.label;if(l+=t??0,c+=t??0,i.some((e=>Xa(e,s,r,l,c))))return!0;i.push({index:n,text:o,x:s,y:r,width:l,height:c,datum:a})}return!1}(r,o)}createLabelData(e,t,i,n){const a=[];for(const{tickLabel:s,translationY:r}of e){if(!s)continue;const{width:e,height:o}=n.measureLines(s),l=Ds(s,new Ae(t,r,e,o),i);a.push(l)}return a}getAutoRotation(e){return e?Ia(Na(this.label.autoRotateAngle??0)):0}getTicks(e){let{tickGenerationType:t,previousTicks:i,tickCount:n,minTickCount:a,maxTickCount:s,primaryTickCount:r}=e;const{range:o,scale:l,visibleRange:c}=this;let h;switch(t){case 3:if(h=this.interval.values,xn.is(l)){const[e,t]=xe(l.getDomain().map(Number));h=h.filter((i=>i>=e&&i<=t)).sort(((e,t)=>e-t))}break;case 1:h=xn.is(l)?this.updateSecondaryAxisTicks(r):this.createTicks(n,a,s);break;case 2:h=this.filterTicks(i,n);break;default:h=this.createTicks(n,a,s)}const u=h.reduce(((e,t)=>Math.max(e,we(t))),0),d=(l.bandwidth??0)/2,p=[];let g=0;const f=new Map,m=Math.max(0,Math.floor(c[0]*h.length)),y=Math.min(h.length,Math.ceil(c[1]*h.length)),x=h.slice(m,y);this.onFormatChange(x,u,h,this.label.format);for(let b=0;b<x.length;b++){const e=x[b],t=l.convert(e)+d;if(o.length>0&&!this.inRange(t,.001))continue;const i=this.formatTick(e,u,m+b);let n=i;if(f.has(n)){const e=f.get(n);f.set(n,e+1),n=`${n}_${e}`}else f.set(n,1);p.push({tick:e,tickId:n,tickLabel:i,translationY:Math.floor(t)}),""!==i&&null!=i&&g++}return{rawTicks:h,fractionDigits:u,ticks:p,labelCount:g}}filterTicks(e,t){const{minSpacing:i,maxSpacing:n}=this.interval,a=!isNaN(i)||!isNaN(n)?Math.ceil(e.length/t):2;return e.filter(((e,t)=>t%a===0))}createTicks(e,t,i){const{scale:n}=this;return e&&(xn.is(n)||aa.is(n))&&("number"===typeof e?(n.tickCount=e,n.minTickCount=t??0,n.maxTickCount=i??1/0):n instanceof ta&&this.setTickInterval(e)),n.ticks?.()??[]}estimateTickCount(e){let{minSpacing:t,maxSpacing:i}=e;if(!this.label.avoidCollisions)return{minTickCount:xn.defaultMaxTickCount,maxTickCount:xn.defaultMaxTickCount,defaultTickCount:xn.defaultMaxTickCount};const n=this.calculateRangeWithBleed(),a=Math.max(this.defaultTickMinSpacing,n/xn.defaultMaxTickCount);let s=!isNaN(i);isNaN(t)&&(t=a),isNaN(i)&&(i=n),t>i&&(t===a?t=i:i=t);s&&(s=2<a);const r=me(1,Math.floor(n/t),s?Math.min(Math.floor(n/2),100):100),o=Math.min(r,Math.ceil(n/i));return{minTickCount:o,maxTickCount:r,defaultTickCount:me(o,xn.defaultTickCount,r)}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines(e){let{rotation:t,parallelFlipRotation:i,regularFlipRotation:n}=e;const a=this.label.getSideFlag(),s=this.isAnySeriesActive();this.crossLines.forEach((e=>{e.sideFlag=-a,e.direction=t===-Math.PI/2?"x":"y",e instanceof $s&&(e.label.parallel=e.label.parallel??this.label.parallel),e.parallelFlipRotation=i,e.regularFlipRotation=n,e.update(s)}))}updateTickLines(){const{tick:e,label:t}=this,i=t.getSideFlag();this.tickLineGroupSelection.each((t=>{t.strokeWidth=e.width,t.stroke=e.stroke,t.x1=i*this.getTickSize(),t.x2=0}))}calculateAvailableRange(){return be(this.range)}calculateRangeWithBleed(){const e=1/be(this.visibleRange);return Se(this.calculateAvailableRange()*e,2)}calculateDomain(){const e=this.boundSeries.filter((e=>this.includeInvisibleDomains||e.isEnabled())).flatMap((e=>e.getDomain(this.direction)));this.setDomain(e)}getAxisTransform(){return{rotation:Na(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:e,axisGroup:t,gridGroup:i,translation:n,gridLineGroupSelection:a,gridPadding:s,gridLength:r}=this,{rotation:o}=this.calculateRotations(),l=this.label.getSideFlag(),c=Math.floor(n.x),h=Math.floor(n.y);e.setProperties({rotation:o,translationX:c,translationY:h}),i.setProperties({rotation:o,translationX:c,translationY:h}),t.datum=this.getAxisTransform(),a.each((e=>{e.x1=s,e.x2=-l*r+s}))}updateSecondaryAxisTicks(e){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(e,t,i){this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?t:[],(e=>e.append(new Ga)),(e=>e.tickId)),this.tickLineGroupSelection.update(t,(e=>e.appendChild(new Ga)),(e=>e.tickId)),this.tickLabelGroupSelection.update(t.map((e=>this.getTickLabelProps(e,i))),(e=>e.appendChild(new Ka)),(e=>e.tickId))}updateAxisLine(){const{line:e}=this,t=e.enabled?e.width:0;this.lineNode.setProperties({stroke:e.stroke,strokeWidth:t})}updateGridLines(e){const{gridLine:{style:t,width:i},gridPadding:n,gridLength:a}=this;0!==a&&0!==t.length&&this.gridLineGroupSelection.each(((s,r,o)=>{const{stroke:l,lineDash:c}=t[o%t.length];s.setProperties({x1:n,x2:-e*a+n,fill:void 0,stroke:l,strokeWidth:i,lineDash:c})}))}updateLabels(){const{label:e}=this;e.enabled&&this.tickLabelGroupSelection.each(((e,t)=>{e.setProperties(t,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])}))}updateTitle(e){const{rotation:t,title:i,_titleCaption:n,lineNode:a,tickLineGroup:s,tickLabelGroup:r}=this;let o=0;if(i.enabled&&e.anyTickVisible){const e=ca.computeBBox([s,r,a]);o+=(0===t?e.width:e.height)+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(n,{spacing:o})}formatTick(e,t,i){return String(this.getFormatter(i,!0)(e,t))}formatDatum(e){return String(this.getFormatter()(e))}getFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const{label:i,labelFormatter:n,datumFormatter:a,moduleCtx:{callbackCache:s}}=this;return i.formatter?(t,n)=>s.call(i.formatter,{value:t,index:e,fractionDigits:n})??t:!t&&a?e=>s.call(a,e)??String(e):n?e=>s.call(n,e)??String(e):e=>String(e)}getBBox(){return this.axisGroup.getBBox()}getRegionBBoxProvider(){const{axisGroup:e}=this;return{id:this.id,computeTransformedBBox:()=>e.computeTransformedBBox(),computeTransformedRegionBBox:()=>e.computeTransformedRegionBBox(),get visible(){return e.visible}}}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some((e=>this.includeInvisibleDomains||e.isEnabled()))}clipTickLines(e,t,i,n){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Ae(e,t,i,n))}clipGrid(e,t,i,n){this.gridGroup.setClipRectInGroupCoordinateSpace(new Ae(e,t,i,n))}calculatePadding(e,t){const i=.01*Math.abs(this.reverse?t:e);return[i,i]}getTitleFormatterParams(){const e=this.boundSeries.reduce(((e,t)=>{const i=t.getKeys(this.direction),n=t.getNames(this.direction);for(let a=0;a<i.length;a++)e.push({key:i[a],name:n[a]});return e}),[]);return{direction:this.direction,boundSeries:e,defaultValue:this.title?.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,direction:this.direction,continuous:xn.is(e)||aa.is(e),keys:()=>this.boundSeries.flatMap((e=>e.getKeys(this.direction))),seriesKeyProperties:()=>this.boundSeries.reduce(((e,t)=>(t.getKeyProperties(this.direction).forEach((t=>{e.indexOf(t)<0&&e.push(t)})),e)),[]),scaleValueFormatter:e=>this.getScaleValueFormatter(e),scaleBandwidth:()=>e.bandwidth??0,scaleDomain:()=>e.getDomain?.(),scaleConvert:t=>e.convert(t),scaleInvert:aa.is(e)?t=>e.invertNearest?.(t):t=>e.invert?.(t),scaleInvertNearest:t=>e.invertNearest?.(t),attachLabel:e=>this.attachLabel(e),inRange:(e,t)=>this.inRange(e,t)}}getScaleValueFormatter(e){const{scale:t}=this;if(e&&t&&t.tickFormat)try{return t.tickFormat({specifier:e})}catch(i){y.warnOnce(`the format string ${e} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(e){const{animationManager:t}=this.moduleCtx,i=hr(or(this));qt(this.id,"axis-group",t,[this.axisGroup],i.group),qt(this.id,"line",t,[this.lineNode],i.line),qt(this.id,"line-paths",t,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,((e,t)=>t.tickId),e),qt(this.id,"tick-labels",t,[this.tickLabelGroupSelection],i.label,((e,t)=>t.tickId),e)}resetSelectionNodes(){const{gridLineGroupSelection:e,tickLineGroupSelection:t,tickLabelGroupSelection:i,lineNode:n}=this,a=or(this);mn([this.axisGroup],((e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY}))),mn([e,t],dr(a)),mn([i],((e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX}))),mn([n],((e,t)=>({...t})))}calculateUpdateDiff(e,t){const i=new Set,n=new Set,a={},s=Math.max(e.length,t.ticks.length);for(let r=0;r<s;r++){const s=t.ticks[r],o=e[r],l=s?.tickId;a[l??o]=s,o!==l&&(n.has(l)?n.delete(l):l&&i.add(l),i.has(o)?i.delete(o):o&&n.add(o))}return{changed:i.size>0||n.size>0,added:i,removed:n}}isReversed(){return this.reverse}};fr.defaultTickMinSpacing=50,fr.CrossLineConstructor=$s,l([fi(Mi)],fr.prototype,"nice",2),l([fi(Mi)],fr.prototype,"reverse",2),l([fi(Ui)],fr.prototype,"keys",2),l([fi(bi)],fr.prototype,"interval",2),l([fi(bi,{optional:!0})],fr.prototype,"title",2),l([ns(((e,t,i)=>e.onGridLengthChange(t,i)))],fr.prototype,"gridLength",2);var mr=fr,yr=class extends nr{constructor(){super(...arguments),this.autoRotateAngle=335}};l([fi(Mi,{optional:!0})],yr.prototype,"autoRotate",2),l([fi(Li)],yr.prototype,"autoRotateAngle",2);var xr=class e extends mr{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof e}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e,t){return this.updateDirection(),super.update(e,t)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new yr}};l([fi(ki)],xr.prototype,"thickness",2),l([fi(Ki)],xr.prototype,"position",2);var br=xr,vr=class extends br{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new gi),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(e){this.scale.paddingOuter=e}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(e){const t=[],i=new Set;for(const n of e){const e=n instanceof Date?n.getTime():n;i.has(e)||(i.add(e),t.push(n))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let e=1/0,t=-1/0;for(const i of this.boundSeries){const n=i.getBandScalePadding?.();null!=n&&(e=Math.min(e,n.inner),t=Math.max(t,n.outer))}this.scale.paddingInner=Number.isFinite(e)?e:0,this.scale.paddingOuter=Number.isFinite(t)?t:0}return super.calculateDomain()}};vr.className="CategoryAxis",vr.type="category",l([fi(Ni)],vr.prototype,"groupPaddingInner",2);var Mr=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=i}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter(((e,t)=>t!==this.number)):[]}};function Sr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=new Mr;let n=0;return t&&e.forEach((e=>n=Math.max(n,e.labels.length))),e.forEach((e=>{if(t)for(;e.labels.length<n;)e.labels.unshift("");!function(e,t){const i=t.labels.slice().reverse(),n=i.length-1;i.forEach(((t,i)=>{const a=e.children,s=a.find((e=>e.label===t)),r=i!==n;if(s&&r)e=s;else{const i=new Mr(t,e);i.number=a.length,a.push(i),r&&(e=i)}}))}(i,e)})),i}function Ir(e,t,i){const n=i/(t.number-e.number);t.change-=n,t.shift+=i,e.change+=n,t.prelim+=i,t.mod+=i}function Dr(e,t,i){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:i}function wr(e,t){const i=e.children;if(i.length){let n=i[0];i.forEach((e=>{wr(e,t),n=function(e,t,i){const n=e.getLeftSibling();if(n){let a=e,s=e,r=n,o=s.getLeftmostSibling(),l=s.mod,c=a.mod,h=r.mod,u=o.mod;for(;r.nextRight()&&s.nextLeft();){r=r.nextRight(),s=s.nextLeft(),o=o.nextLeft(),a=a.nextRight(),a.ancestor=e;const n=r.prelim+h-(s.prelim+l)+i;n>0&&(Ir(Dr(r,e,t),e,n),l+=n,c+=n),h+=r.mod,l+=s.mod,u+=o.mod,c+=a.mod}r.nextRight()&&!a.nextRight()?(a.thread=r.nextRight(),a.mod+=h-c):(s.nextLeft()&&!o.nextLeft()&&(o.thread=s.nextLeft(),o.mod+=l-u),t=e)}return t}(e,n,t)})),function(e){const t=e.children;if(t){let e=0,i=0;for(let n=t.length-1;n>=0;n--){const a=t[n];a.prelim+=e,a.mod+=e,i+=a.change,e+=a.shift+i}}}(e);const a=(i[0].prelim+i.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+t,e.mod=e.prelim-a):e.prelim=a}else{const i=e.getLeftSibling();e.prelim=i?i.prelim+t:0}}var kr=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){const{x:i,y:n}=t(e);i>this.right&&(this.right=i),i<this.left&&(this.left=i),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function Nr(e,t,i){e.x=e.prelim+t,e.y=e.depth,i.update(e),e.children.forEach((n=>Nr(n,t+e.mod,i)))}function Lr(e){const t=e.children;let i=0;t.forEach((e=>{Lr(e),e.children.length?i+=e.leafCount:i++})),e.leafCount=i,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function Ar(e){const t=new Cr;return wr(e,1),Nr(e,-e.prelim,t),Lr(e),t}var Cr=class{constructor(){this.dimensions=new kr,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,(e=>({x:e.x,y:e.y}))),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=this.leafCount-1,r=this.depth,o=this.dimensions;let l=1,c=1;if(e>0&&s){const t=(o.right-o.left)/s;l=e/s/t,a&&(l=-l)}if(t>0&&r){const e=(o.bottom-o.top)/r;c=t/r/e}const h=new kr;this.nodes.forEach((e=>{e.screenX=e.x*l,e.screenY=e.y*c,h.update(e,(e=>({x:e.screenX,y:e.screenY})))}));const u=-h.left,d=-h.top;this.nodes.forEach((e=>{e.screenX+=u+i,e.screenY+=d+n}))}},Tr=class extends nr{constructor(){super(...arguments),this.grid=!1}};l([fi(Mi)],Tr.prototype,"grid",2);var Er=class extends br{constructor(e){const t=new gi;t.paddingOuter=.1,t.paddingInner=2*t.paddingOuter,super(e,t),this.tickScale=new gi,this.line=new ar,this.label=new Tr,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:i,tickLabelGroup:n,gridLineGroup:a,tickScale:s}=this;s.paddingInner=1,s.paddingOuter=0,this.gridLineSelection=Ma.select(a,Ga),this.axisLineSelection=Ma.select(i,Ga),this.separatorSelection=Ma.select(i,Ga),this.labelSelection=Ma.select(n,Ka),this.lineNode.visible=!1}updateRange(){const{range:e,visibleRange:t,scale:i}=this,n=(e[1]-e[0])/(t[1]-t[0]),a=n*t[0],s=e[0]-a;this.tickScale.range=i.range=[s,s+n],this.resizeTickTree()}resizeTickTree(){const e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,i=this.tickTreeLayout,n=this.lineHeight;i&&i.resize(Math.abs(t[1]-t[0]),i.depth*n,(Math.min(t[0],t[1])||0)+(e.bandwidth??0)/2,-i.depth*n,t[1]-t[0]<0)}get lineHeight(){return 1.5*this.label.fontSize}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){const{direction:e}=this;let t=null;const i=this.boundSeries.filter((e=>e.visible)).flatMap((i=>{if("y"===e||t)return i.getDomain(e);if(null===t){const n=i.getDomain(e);return t=ht(n[0]),n}return[]}));this.setDomain(En(i)??Pn(i));const{domain:n}=this.dataDomain;this.tickTreeLayout=Ar(Sr(n)),this.tickScale.domain=n.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:e}=this;e.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each(((e,t)=>{e.setProperties(t)}))}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:e}=this.computedLayout,{range:t}=this;this.separatorSelection.update(e).each(((e,i)=>{e.x1=i.x1,e.x2=i.x2,e.y1=i.y,e.y2=i.y,e.visible=this.tick.enabled&&i.y>=t[0]-1e-7&&i.y<=t[1]+1e-7,e.stroke=this.tick.stroke,e.fill=void 0,e.strokeWidth=1}))}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each(((e,t)=>{e.setProperties({...t,stroke:this.line.stroke,strokeWidth:this.line.width}),e.x1=t.x,e.x2=t.x,e.y1=t.y1,e.y2=t.y2,e.strokeWidth=this.line.width,e.stroke=this.line.stroke}))}updateCategoryGridLines(){const{gridLength:e,gridLine:t,label:i,range:n,tickScale:a}=this,s=a.ticks(),r=i.getSideFlag(),o=this.gridLineSelection.update(e?s:[]);if(e){const{width:i,style:s}=t,l=s.length;o.each(((o,c,h)=>{const u=Math.round(a.convert(c));o.x1=0,o.x2=-r*e,o.y1=u,o.y2=u,o.visible=t.enabled&&u>=n[0]&&u<=n[1];const{stroke:d,lineDash:p}=s[h%l];o.stroke=d,o.strokeWidth=i,o.lineDash=p,o.fill=void 0}))}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:e,label:t,label:{parallel:i},moduleCtx:{callbackCache:n},range:a,title:s,title:{formatter:r=e=>e.defaultValue}={}}=this,o=e.range[0],l=e.range[1],c=Math.abs(l-o)/e.domain.length||0,h=Math.ceil(t.fontSize/c),u=Na(this.rotation),d=Math.abs(Math.cos(u))<1e-8,p=t.getSideFlag(),g=this.lineHeight,f=this.tickTreeLayout,m=e.ticks(),y=f?f.nodes:[],x=!!f&&f.depth>1,{defaultRotation:b,configuredRotation:v,parallelFlipFlag:M}=Ss({rotation:t.rotation,parallel:i,regularFlipRotation:Ia(u-Math.PI/2),parallelFlipRotation:Ia(u)}),S=[],I=new Map;let D=0;const w=new Ka,k=(e,i)=>{if(w.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:-1===M?"bottom":"hanging",translationX:e.screenY-.25*t.fontSize,translationY:e.screenX}),0===i){if(!(s?.enabled&&m.length>0))return!1;const i=n.call(r,this.getTitleFormatterParams());w.setProperties({fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,text:i,textBaseline:"hanging",translationX:e.screenY-.25*t.fontSize,translationY:e.screenX})}else{if(i%h!==0)return!1;if(!(e.screenX>=a[0]&&e.screenX<=a[1]))return!1;t.formatter?w.text=n.call(t.formatter,{value:String(e.label),index:i})??String(e.label):w.text=String(e.label)}return!0};y.forEach(((e,t)=>{if(!k(e,t))return;const i=w.computeTransformedBBox();if(!i)return;I.set(t,i);!e.children.length&&i.width>D&&(D=i.width)}));const N=p*t.padding,L=this.label.grid,A=[];y.forEach(((e,t)=>{let i=k(e,t);const n=t;w.x=N,w.rotationCenterX=N;const a=!e.children.length;if(a)w.rotation=v,w.textAlign="end",w.textBaseline="middle";else{w.translationX-=D-g+this.label.padding;const t=e.leafCount*c,a=I.get(n);a&&a.width>t?(i=!1,I.delete(n)):w.rotation=d?b:-Math.PI/2}if(e.parent&&x){const t=a?e.screenX-c/2:e.screenX-e.leafCount*c/2;if(a)(e.number!==e.children.length-1||L)&&A.push({y:t,x1:0,x2:-D-2*this.label.padding});else{const i=-D-2*this.label.padding+e.screenY;A.push({y:t,x1:i+g,x2:i})}}let s;if(i){const e=w.computeTransformedBBox();e&&I.set(t,e),s={...(r=w,{fill:r.fill,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:r.rotation,rotationCenterX:r.rotationCenterX,rotationCenterY:r.rotationCenterY,text:r.text,textAlign:r.textAlign,textBaseline:r.textBaseline,translationX:r.translationX,translationY:r.translationY,visible:r.visible,x:r.x,y:r.y}),visible:i}}else I.delete(t),s={visible:i};var r;S.push(s)}));let C=0;A.forEach((e=>C=Math.min(C,e.x2))),A.push({y:Math.max(o,l),x1:0,x2:C});const T=[],E=[];A.forEach((e=>{if(e.y>=a[0]-1e-7&&e.y<=a[1]+1e-7){const{x1:t,x2:i,y:n}=e,a=new Ae(Math.min(t,i),n,Math.abs(t-i),0);E.push(a),T.push({x1:t,x2:i,y:n})}}));const R=[],O=[],z=f?f.depth+1:1;for(let P=0;P<z;P++){const e=m.length>0&&(0===P||L&&x),t=P>0?-D-2*this.label.padding-(P-1)*g:0,i=new Ae(t,Math.min(...a),0,Math.abs(a[1]-a[0]));O.push(i),R.push({x:t,y1:a[0],y2:a[1],visible:e})}const j=Ae.merge([...I.values(),...E,...O]);return{bbox:this.getTransformBox(j),tickLabelLayout:S,separatorLayout:T,axisLineLayout:R}}calculateLayout(){const{axisLineLayout:e,separatorLayout:t,tickLabelLayout:i,bbox:n}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:i},{bbox:n,primaryTickCount:void 0}}};Er.className="GroupedCategoryAxis",Er.type="grouped-category",l([fi(Bi,{optional:!0})],Er.prototype,"labelColor",2);var Rr=class{constructor(){this.destroyFns=[]}destroy(){for(const e of this.destroyFns)e()}},Or=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t){this.registerDependencies(n);const e=this.modules.find((e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier));if(e){if("enterprise"===n.packageType&&"community"===e.packageType){const t=this.modules.indexOf(e);this.modules.splice(t,1,n)}}else this.modules.push(n)}}hasEnterpriseModules(){return this.modules.some((e=>"enterprise"===e.packageType))}*byType(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const{dependents:n}=this,a=new Set;let s=0;const r=this.modules.filter((e=>t.includes(e.type)));do{for(const e of r)if(!a.has(e.optionsKey)&&!n.has(e.optionsKey)){yield e,a.add(e.optionsKey);for(const[t,i]of n.entries())i.delete(e.optionsKey),0===i.size&&n.delete(t)}s++}while(a.size<r.length&&s<3);if(n.size>0)throw new Error(`Could not resolve module dependencies: [${[...n.keys()]}]`)}registerDependencies(e){if(null!=e.dependencies&&0!==e.dependencies.length){for(const t of e.dependencies){const i=this.dependencies.get(t)??new Set;i.add(e.optionsKey),this.dependencies.set(t,i)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},zr=new Or;function jr(e){return new Promise((t=>{setTimeout((()=>t(void 0)),e)}))}var Pr=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise((t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch((e=>y.errorOnce(e)))}))}async acquireImmediately(e){return!!this.available&&(await this.acquire(e),!0)}async waitForClearAcquireQueue(){return this.acquire((async()=>{}))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t?.()}catch(i){y.error("mutex callback error",i),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},Br=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if("function"!==typeof t)throw new Error("AG Charts - listener must be a Function");const i=this.eventListeners.get(e);i?i.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){this.eventListeners.get(e)?.delete(t),0===this.eventListeners.size&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach((t=>t(e)))}},Fr=class extends wt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;super(),this.top=e,this.right=t,this.bottom=i,this.left=n}clear(){this.top=this.right=this.bottom=this.left=0}};function Gr(e){return _r(((e,t)=>requestAnimationFrame(e)),e)}function _r(e,t){let i,n,a=0,s=!1;const r=()=>s,o=()=>{s=!1,n?.(),n=void 0,i=void 0,a>0&&e(l)},l=()=>{const e=a;a=0,s=!0;const i=t({count:e});i?i.then(o,o):o()};return{schedule(t){0!==a||r()||e(l,t),a++},async await(){if(r())for(null==i&&(i=new Promise((e=>{n=e})));r();)await i}}}l([fi(ki)],Fr.prototype,"top",2),l([fi(ki)],Fr.prototype,"right",2),l([fi(ki)],Fr.prototype,"bottom",2),l([fi(ki)],Fr.prototype,"left",2);var Ur="10.1.0",Yr=class{constructor(e){this.version=e.split("-")[0]}save(){const e={version:this.version};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];for(const a of Object.values(i))e[a.mementoOriginatorKey]=this.encode(a,a.createMemento());return e}restore(e){if("object"===typeof e)if(null!=e)if("version"in e&&"string"===typeof e.version){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const t of i){if(!(t.mementoOriginatorKey in e))continue;const i=this.decode(t,e[t.mementoOriginatorKey]);if(!t.guardMemento(i))return void y.warnOnce(`Could not restore [${t.mementoOriginatorKey}] data, value was invalid, ignoring.`,i);t.restoreMemento(this.version,e.version,i)}}else y.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else y.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else y.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`)}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(i){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(i){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${i}].`,{cause:i})}}encodeTypes(e,t){return it(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return rt(this[e])&&"__type"in this[e]&&"date"===this[e].__type?new Date(this[e].value):t}},Vr=class{constructor(){this.caretaker=new Yr(Ur),this.state=new Map}setState(e,t){null!=At(this.state.get(e.mementoOriginatorKey),t)&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){const{caretaker:t,state:i}=this;if(!i.has(e.mementoOriginatorKey))return;const n=i.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:n},e)}};var Wr=class e{constructor(t){this.enabled=!0,this.width=600,this.height=300;const{width:i,height:n,pixelRatio:a,canvasConstructor:s,willReadFrequently:r=!1}=t;this.pixelRatio=function(){if("undefined"===typeof navigator)return!1;const e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(null==e)return!1;const[t,i]=e[1].split("_").map(Number);return t<16||16===t&&i<6}()?1:a??da("devicePixelRatio"),this.element=s?.()??pa("canvas"),this.element.style.display="block",this.element.style.width=(i??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((i??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(i??0,n??0),e.debugContext(this.context)}static is(t){return t instanceof e}drawImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.drawImage(this.context.canvas,t,i)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t){if(!(e>0&&t>0))return;const{element:i,context:n,pixelRatio:a}=this;i.width=Math.round(e*a),i.height=Math.round(t*a),n.setTransform(a,0,0,a,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(e){if(va.check("canvas")){const t=e.save.bind(e),i=e.restore.bind(e);let n=0;Object.assign(e,{save(){t(),n++},restore(){if(0===n)throw new Error("AG Charts - Unable to restore() past depth 0");i(),n--},verifyDepthZero(){if(0!==n)throw new Error(`AG Charts - Save/restore depth is non-zero: ${n}`)}})}}};l([ns((e=>e.onEnabledChange()))],Wr.prototype,"enabled",2);var Hr=Wr,Zr=class e{constructor(e,t){this.canvas=e,this.markDirty=t,this.debug=va.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,t){return oa([e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.id],[t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],sa)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort(e.sortLayers).forEach(t)}resize(e,t){this.canvas.resize(e,t),this.layersMap.forEach((i=>{let{canvas:n}=i;return n.resize(e,t)}))}addLayer(e){const{width:t,height:i,pixelRatio:n}=this.canvas,{zIndex:a=this.nextZIndex++,name:s,zIndexSubOrder:r,getComputedOpacity:o,getVisibility:l}=e,c=new Hr({width:t,height:i,pixelRatio:n}),h={id:this.nextLayerId++,name:s,canvas:c,zIndex:a,zIndexSubOrder:r,getComputedOpacity:o,getVisibility:l};return a>=this.nextZIndex&&(this.nextZIndex=a+1),this.layersMap.set(c,h),this.debug("Scene.addLayer() - layers",this.layersMap),h.canvas}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,t,i){const n=this.layersMap.get(e);n&&(n.zIndex=t,n.zIndexSubOrder=i,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function Kr(e,t,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ae.zero;if(!va.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:r=0,layersSkipped:o=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},h=performance.now(),{start:u,...d}=t,p=Object.entries(d).map((e=>{let[t,i]=e;return qr(t,i)})).filter((e=>null!=e)).join(" + "),g=Object.entries(a).map((e=>{let[t,i]=e;return`${t}: ${i}`})).join(" ; "),f=va.check("scene:stats:verbose"),m=[`${qr("\u23f1\ufe0f",u,h)} (${p})`,`${g}`,`Layers: ${f?Qr(r,o):e.size}`,f?`Nodes: ${Qr(l,c)}`:null].filter(ct),y=new Wa((e=>i.measureText(e))),x=new Map(m.map((e=>[e,y.measureLines(e)]))),b=Math.max(...Array.from(x.values(),(e=>e.width))),v=function(e,t){let i=0;for(const n of e)i+=t(n);return i}(x.values(),(e=>e.height));i.save(),i.fillStyle="white",i.fillRect(0,0,b,v),i.fillStyle="black";let M=0;for(const[S,I]of x.entries())M+=I.height,i.fillText(S,2+s.x,M);i.restore()}function $r(e){return va.check(!0,"scene")?{node:e,name:e.name??e.id,dirty:Ce[e.dirty],...e.parent?.isVirtual?{virtualParentDirty:Ce[e.parent.dirty],virtualParent:e.parent}:{},...e.children.map((e=>$r(e))).reduce(((e,t)=>{let{name:i}=t;const{node:{visible:n,opacity:a,zIndex:s,zIndexSubOrder:r,translationX:o,translationY:l,rotation:c,scalingX:h,scalingY:u},node:d,virtualParent:p}=t;(!n||a<=0)&&(i=`(${i})`),d instanceof ca&&d.isLayer()&&(i=`*${i}*`);const g=[`${i??"<unknown>"}`,`z: ${s}`,r&&`zo: ${r.map((e=>"function"===typeof e?`${e()} (fn)`:e)).join(" / ")}`,p&&"(virtual parent)",o&&`x: ${o}`,l&&`y: ${l}`,c&&`r: ${c}`,1!==h&&`sx: ${h}`,1!==u&&`sy: ${u}`].filter((e=>!!e)).join(" ");let f=g,m=1;for(;null!=e[f]&&m<100;)f=`${g} (${m++})`;return e[f]=t,e}),{})}:{}}function Xr(e){if(0===e.dirty)return{dirtyTree:{},paths:[]};const t=e.children.map((e=>Xr(e))).filter((e=>e.paths.length>0)),i=ca.is(e)?e.name??e.id:e.id,n=t.length?t.flatMap((e=>e.paths)).map((e=>`${i}.${e}`)):[i];return{dirtyTree:{name:i,node:e,dirty:Ce[e.dirty],...t.map((e=>e.dirtyTree)).filter((e=>null!=e.dirty)).reduce(((e,t)=>(e[t.name??"<unknown>"]=t,e)),{})},paths:n}}function Qr(e,t){const i=e+t;return`${e} / ${i} (${Math.round(100*e/i)}%)`}function qr(e,t,i){const n=null!=i?i-t:t;return`${e}: ${Math.round(100*n)/100}ms`}var Jr=class{constructor(e){let{width:t,height:i,pixelRatio:n,domManager:a}=e;this.debug=va.create(!0,"scene"),this.id=oe(this),this.root=null,this.isDirty=!1,this.domManager=a;const s={width:t,height:i,pixelRatio:n};a&&(s.canvasConstructor=()=>a.addChild("canvas","scene-canvas")),this.canvas=new Hr(s),this.layersManager=new Zr(this.canvas,(()=>{this.isDirty=!0}))}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(e){if("undefined"!==typeof e.tagName){const{element:t}=this.canvas;t.parentElement?.removeChild(t),e.appendChild(t)}else this.domManager=e,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(e){return this.root===e||(this.isDirty=!0,this.root?._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager))),this}attachNode(e,t){if(!t)return this.root?.appendChild(e),()=>this.removeChild(e);const i=this.root?.children.find((e=>e instanceof ca&&e.name===t));if(!i)throw new Error("AG Charts - Unrecognized root group name: "+t);return i.appendChild(e),()=>i.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){fa(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)&&(this.pendingSize=[e,t],this.isDirty=!0,!0)}async render(e){const{debugSplitTimes:t={start:performance.now()},extraDebugStats:i,seriesRect:n}=e??{},{canvas:a,canvas:{context:s}={},root:r,pendingSize:o}=this;if(!s)return;const l=performance.now();if(o&&(this.layersManager.resize(...o),this.pendingSize=void 0),r&&!r.visible)return void(this.isDirty=!1);if(r&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Ce[r.dirty],tree:$r(r)}),void Kr(this.layersManager,t,s,void 0,i,n);const c={ctx:s,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:Boolean(o),debugNodes:{}};va.check("scene:stats:verbose")&&(c.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let h=!1;if((!r||r.dirty>=1)&&(h=!0,a.clear()),r&&va.check("scene:dirtyTree")){const{dirtyTree:e,paths:t}=Xr(r);va.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:e,paths:t})}if(r&&h&&(this.debug("Scene.render() - before",{redrawType:Ce[r.dirty],canvasCleared:h,tree:$r(r)}),r.visible&&(r.preRender(),s.save(),r.render(c),s.restore())),t["\u270d\ufe0f"]=performance.now()-l,this.layersManager.size&&h){const e=performance.now();s.save(),s.resetTransform(),this.layersManager.forEach((e=>{e.canvas.enabled&&e.getVisibility()&&(s.globalAlpha=e.getComputedOpacity(),e.canvas.drawImage(s))})),s.restore(),t["\u26d9"]=performance.now()-e}s.verifyDepthZero?.(),this.isDirty=!1,Kr(this.layersManager,t,s,c.stats,i,n),function(e,t){e.save();for(const[i,n]of Object.entries(t)){const t=n.computeTransformedBBox();t?(e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(t.x,t.y,t.width,t.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(i,t.x,t.y,t.width),e.fillText(i,t.x,t.y,t.width)):y.log(`Scene.render() - no bbox for debugged node [${i}].`)}e.restore()}(s,c.debugNodes),r&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Ce[r.dirty],tree:$r(r),canvasCleared:h})}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};Jr.className="Scene";var eo=class{constructor(){this.cache=new WeakMap}call(e){let t,i=this.cache.get(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];try{t=JSON.stringify(a)}catch(r){return this.invoke(e,a,i)}return null==i&&(i=new Map,this.cache.set(e,i)),i.has(t)?i.get(t):this.invoke(e,a,i,t)}invoke(e,t,i,n){try{const a=e(...t);return i&&null!=n&&i.set(n,a),a}catch(a){return void y.warnOnce("User callback errored, ignoring",a)}}invalidateCache(){this.cache=new WeakMap}},to=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const i={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(i):this.registeredListeners.set(e,[i]),()=>this.removeListener(i.symbol)}removeListener(e){for(const[t,i]of this.registeredListeners.entries()){const n=i.findIndex((t=>t.symbol===e));if(n>=0){i.splice(n,1),0===i.length&&this.registeredListeners.delete(t);break}}}dispatch(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(const s of this.getListenersByType(e))try{s.handler(...i)}catch(a){y.errorOnce(a)}}dispatchWrapHandlers(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];for(const r of this.getListenersByType(e))try{t(r.handler,...n)}catch(s){y.errorOnce(s)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},io=class{constructor(){this.listeners=new to,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach((e=>e()))}},no=class extends io{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return et(e)}restoreMemento(e,t,i){const n=this.cleanData(i).map((e=>yt(e,this.getAnnotationTypeStyles(e.type))));this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:n})}updateData(e){this.annotations=this.cleanData(e??[])}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},ao=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new ca({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new ca({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){for(const i of e)t.includes(i)||(i.detachAxis(this.axisGroup,this.axisGridGroup),i.destroy());for(const i of t)e?.includes(i)||i.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(const i of t){const e=i.createAxisContext();this.axes.has(e.direction)?this.axes.get(e.direction)?.push(e):this.axes.set(e.direction,[e])}}getAxisContext(e){return[...this.axes.get(e)??[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},so=class extends to{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=va.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){"function"===typeof e&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return m((e=>this.fetch(e)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return m(((e,t)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:t})}),e,{leading:!0,trailing:!0})}async fetch(e){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),i=this.requestCounter++;let n;this.debug(`DataService - requesting | ${i}`),this.freshRequests.push(i);try{n=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${i}`)}catch(s){this.debug(`DataService - request failed | ${i}`),y.errorOnce(`DataService - request failed | [${s}]`)}this.isLoadingInitialData=!1;const a=this.freshRequests.findIndex((e=>e===i));-1===a||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1?this.debug(`DataService - discarding stale request | ${i}`):(this.freshRequests=this.freshRequests.slice(a+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(i,n):this.dispatch("data-error"))}};l([is({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],so.prototype,"dispatchThrottle",2),l([is({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],so.prototype,"requestThrottle",2);var ro=class{constructor(e,t,i){this.element=e,this.topTabGuard=t,this.bottomTabGuard=i,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",(()=>this.onBlur())),this.initEventListener(this.element,"focus",(()=>this.onFocus())),this.initEventListener(this.topTabGuard,"focus",(e=>this.onTabStart(e,this.topTabGuard))),this.initEventListener(this.bottomTabGuard,"focus",(e=>this.onTabStart(e,this.bottomTabGuard)))}set tabIndex(e){e>=0&&(this.guardTabIndex=e),e>0?(this.topTabGuard.tabIndex=e,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=e,this.bottomTabGuard.tabIndex=e)}destroy(){for(const e of this.destroyFns)e();this.destroyFns.length=0}initEventListener(e,t,i){e.addEventListener(t,i),this.destroyFns.push((()=>e.removeEventListener(t,i)))}onBlur(){-1===this.element.tabIndex&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){-1===this.element.tabIndex&&(this.tabIndex=-1)}onTabStart(e,t){if(t.tabIndex>0&&(this.guessedDelta=0,null!=e.relatedTarget&&"tabIndex"in e.relatedTarget)){const i=Number(e.relatedTarget.tabIndex);!isNaN(i)&&i>0&&(this.guessedDelta=i<t.tabIndex?1:-1)}this.guardTarget=t,this.element.focus()}getBrowserFocusDelta(){const{guessedDelta:e,guardTarget:t,topTabGuard:i,bottomTabGuard:n}=this;return void 0!==e?e:t===i?1:t===n?-1:0}},oo=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach((e=>{let[t,i]=e;return this.observe(t,i)})),this.queuedObserveRequests=[]},"undefined"!==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((e=>{for(const{target:t,contentRect:{width:i,height:n}}of e){const e=this.elements.get(t);this.checkSize(e,t,i,n)}})),this.documentReady="complete"===ua("readyState"),this.documentReady||da()?.addEventListener("load",this.onLoad))}destroy(){da()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(e,t,i,n){e&&(i===e.size?.width&&n===e.size?.height||(e.size={width:i,height:n},e.cb(e.size,t)))}observe(e,t){if(!this.documentReady)return void this.queuedObserveRequests.push([e,t]);this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);const i={cb:t};this.elements.set(e,i),this.checkSize(i,e,e.offsetWidth,e.offsetHeight)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter((t=>{let[i]=t;return i!==e}))}},lo="canvas-center",co=["styles",lo,"canvas","canvas-proxy","canvas-overlay"],ho=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[lo,{childElementType:"div"}]]);var uo={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON:()=>uo},po=class extends io{constructor(e){super(),this.styles={},this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new oo;const t=pa("div");t.innerHTML='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="figure" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-tab-guard"></div><div role="presentation" class="ag-charts-canvas"></div><div role="presentation" class="ag-charts-canvas-proxy"></div><div role="presentation" class="ag-charts-tab-guard"></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',this.element=t.children.item(0),this.rootElements=co.reduce(((e,t)=>{const i=`ag-charts-${t}`,n=this.element.classList.contains(i)?this.element:this.element.querySelector(`.${i}`);if(!n)throw new Error(`AG Charts - unable to find DOM element ${i}`);return e[t]={element:n,children:new Map,listeners:[]},e}),{});let i=!1;this.observer=function(e,t){if("undefined"===typeof IntersectionObserver)return;const i=new IntersectionObserver((i=>{for(const n of i)n.target===e&&t(n.intersectionRatio)}),{root:e});return i.observe(e),i}(this.element,(e=>{0!==e||i||this.listeners.dispatch("hidden",{type:"hidden"}),i=0===e})),this.setSizeOptions(),this.addStyles("ag-charts-community",'.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block}.ag-charts-canvas-proxy{position:absolute;top:0;left:0;opacity:0;pointer-events:none}.ag-charts-tab-guard{width:0;height:0;opacity:0}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;inset:0}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-text-annotations-placeholder: #888888}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: var( --ag-row-hover-color, color-mix(in srgb, transparent, var(--ag-charts-active-color) 20%) );--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-text-annotations-placeholder: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{--transition: background-color .25s ease-in-out, border-color .25s ease-in-out, color .25s ease-in-out;align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;transition:var(--transition);white-space:nowrap}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button:nth-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:nth-last-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button:nth-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:nth-last-child(1 of:not(.ag-charts-toolbar__button--hidden-toggled)){border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:3}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}\n'),e&&this.setContainer(e)}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach((e=>{e.children.forEach((e=>e.remove())),e.element.remove()})),this.guardedElement?.destroy(),this.element.remove()}setSizeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const{style:a}=this.element;a.width=`${i??e}px`,a.height=`${n??t}px`}updateContainerSize(){const{style:e}=this.rootElements[lo].element;e.width=`${this.containerSize?.width??0}px`,e.height=`${this.containerSize?.height??0}px`}setContainer(e){if(e===this.container)return;this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container));if(!(null!=this.getDocumentRoot(e)))for(const t of this.rootElements.styles.children.keys())this.removeChild("styles",t);e.appendChild(this.element),this.sizeMonitor.observe(e,(e=>{this.containerSize=e,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})})),this.container=e;for(const[t,i]of Object.entries(this.styles))this.addStyles(t,i);this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(e){this.element.classList.forEach((t=>{t.startsWith("ag-charts-theme-")&&t!==e&&this.element.classList.remove(t)})),this.element.classList.add(e)}createTabGuards(){const e=this.rootElements.canvas.element.querySelector("canvas"),t=this.element.querySelectorAll(".ag-charts-tab-guard");if(null==e||null==t[0]||null==t[1])throw new Error("AG Charts - error initialising canvas tab guards");return new ro(e,t[0],t[1])}setTabIndex(e){this.guardedElement??(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=e}getBrowserFocusDelta(){return this.guardedElement?.getBrowserFocusDelta()??0}addEventListenerOnElement(e,t,i,n){const{element:a}=this.rootElements[e];return a.addEventListener(t,i,n),()=>{a.removeEventListener(t,i,n)}}addEventListener(e,t,i){this.element.addEventListener(e,t,i),ho.forEach(((n,a)=>{if(!n.eventTypes?.includes(e))return;const s=this.rootElements[a];s.listeners.push([e,t,i]),s.children.forEach((i=>{i.addEventListener(e,t)}))}))}removeEventListener(e,t,i){this.element.removeEventListener(e,t,i),ho.forEach(((n,a)=>{if(!n.eventTypes?.includes(e))return;const s=this.rootElements[a];s.listeners=s.listeners.filter((i=>{let[n,a]=i;return n!==e&&a!==t})),s.children.forEach((n=>{n.removeEventListener(e,t,i)}))}))}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){const e=da(),t=new Ae(0,0,e.innerWidth,e.innerHeight),i=this.getRawOverlayClientRect(),n=Ae.fromDOMRect(i??this.getBoundingClientRect());return t.intersection(n)?.toDOMRect()??uo}getRawOverlayClientRect(){let e=this.element;for(;null!=e;){const t=e.computedStyleMap?.(),i=t?.get("overflow-x")?.toString(),n=t?.get("overflow-y")?.toString();if(null!=i&&"visible"!==i||n&&"visible"!==n)return e.getBoundingClientRect();e=e.parentElement}const t=this.getDocumentRoot();if(t)return t.getBoundingClientRect()}getDocumentRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;const t=e?.ownerDocument?.body??ua("body");for(;null!=e;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],i=[];for(const n of t.values())i.push(Ae.fromDOMRect(n.getBoundingClientRect()));return Ae.merge(i)}calculateCanvasPosition(e){let t=0,i=0;const{x:n=0,y:a=0}=this.getChildBoundingClientRect("canvas")??{},s=e.getBoundingClientRect();return t=s.x-n,i=s.y-a,{x:t,y:i}}isManagedChildDOMElement(e,t,i){const{children:n}=this.rootElements[t],a=n?.get(i);return null!=a&&e.contains(a)}isEventOverElement(e){const t=e.target;return null!=t&&this.element.contains(t)}addStyles(e,t){if(this.styles[e]=t,null==this.container)return;const i="data-ag-charts";let n;if(null!=this.getDocumentRoot())n=this.addChild("styles",e);else{const t=ua("head");for(const n of t.children)if(n.getAttribute(i)===e)return;n=pa("style"),t.appendChild(n)}n.getAttribute(i)!==e&&(n.setAttribute(i,e),n.innerHTML=t)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,i){const{element:n,children:a,listeners:s}=this.rootElements[e];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");const r=a.get(t);if(null!=r)return r;const{childElementType:o="div"}=ho.get(e)??{};if(i&&i.tagName.toLowerCase()!==o.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=i??pa(o);for(const[c,h,u]of s)l.addEventListener(c,h,u);return a.set(t,l),n?.appendChild(l),l}removeChild(e,t){const{children:i}=this.rootElements[e];i&&(i.get(t)?.remove(),i.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}getIconClassNames(e){return`ag-charts-icon ag-charts-icon-${e}`}};function go(e,t,i,n){if(0===e)return function(e,t,i){if(0===e)return function(e,t){const i=-t/e;return 0!==e&&i>=0&&i<=1?[i]:[]}(t,i);const n=t*t-4*e*i,a=[];if(0===n){const i=-t/(2*e);i>=0&&i<=1&&a.push(i)}else if(n>0){const i=Math.sqrt(n),s=(-t-i)/(2*e),r=(-t+i)/(2*e);s>=0&&s<=1&&a.push(s),r>=0&&r<=1&&a.push(r)}return a}(t,i,n);const a=t/e,s=i/e,r=(3*s-a*a)/9,o=(9*a*s-27*(n/e)-2*a*a*a)/54,l=r*r*r+o*o,c=1/3,h=[];if(l>=0){const e=Math.sqrt(l),t=Math.sign(o+e)*Math.pow(Math.abs(o+e),c),i=Math.sign(o-e)*Math.pow(Math.abs(o-e),c),n=Math.abs(Math.sqrt(3)*(t-i)/2),s=-c*a+(t+i);if(s>=0&&s<=1&&h.push(s),0===n){const e=-c*a-(t+i)/2;e>=0&&e<=1&&h.push(e)}}else{const e=Math.acos(o/Math.sqrt(-r*r*r)),t=c*a,i=2*Math.sqrt(-r),n=i*Math.cos(c*e)-t,s=i*Math.cos(c*(e+2*Math.PI))-t,l=i*Math.cos(c*(e+4*Math.PI))-t;n>=0&&n<=1&&h.push(n),s>=0&&s<=1&&h.push(s),l>=0&&l<=1&&h.push(l)}return h}function fo(e,t,i,n,a,s,r,o){const l=(i-e)*(o-s)-(n-t)*(r-a);if(0===l)return 0;const c=((r-a)*(t-s)-(e-a)*(o-s))/l,h=((i-e)*(t-s)-(n-t)*(e-a))/l;return c>=0&&c<=1&&h>=0&&h<=1?1:0}function mo(e,t,i,n,a,s,r,o,l,c,h,u){let d=0;const p=c-u,g=h-l,f=l*(u-c)-c*(h-l),m=yo(e,i,a,r),y=yo(t,n,s,o),x=go(p*m[0]+g*y[0],p*m[1]+g*y[1],p*m[2]+g*y[2],p*m[3]+g*y[3]+f);for(const b of x){const e=b*b,t=b*e,i=m[0]*t+m[1]*e+m[2]*b+m[3],n=y[0]*t+y[1]*e+y[2]*b+y[3];let a;a=l===h?(n-c)/(u-c):(i-l)/(h-l),a>=0&&a<=1&&d++}return d}function yo(e,t,i,n){return[3*t-e-3*i+n,3*e-6*t+3*i,-3*e+3*t,e]}function xo(e,t,i,n,a,s,r,o,l,c){if(isNaN(e)||isNaN(t))return 0;s&&([a,n]=[n,a]);const h=(c-o)/(l-r),u=o-h*r,d=Math.pow(h,2)+1,p=2*(h*(u-t)-e),g=Math.pow(e,2)+Math.pow(u-t,2)-Math.pow(i,2),f=Math.pow(p,2)-4*d*g;if(f<0)return 0;const m=(-p+Math.sqrt(f))/2/d,y=(-p-Math.sqrt(f))/2/d;let x=0;return[m,y].forEach((i=>{if(!(i>=Math.min(r,l)&&i<=Math.max(r,l)))return;const s=i-e,o=h*i+u-t;ka(Math.atan2(o,s),n,a)&&x++})),x}var bo=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,i,n){this.moveTo(e,t),this.lineTo(e+i,t),this.lineTo(e+i,t+n),this.lineTo(e,t+n),this.closePath()}roundRect(e,t,i,n,a){a=Math.min(a,i/2,n/2),this.moveTo(e,t+a),this.arc(e+a,t+a,a,Math.PI,1.5*Math.PI),this.lineTo(e+a,t),this.lineTo(e+i-a,t),this.arc(e+i-a,t+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(e+i,t+a),this.lineTo(e+i,t+n-a),this.arc(e+i-a,t+n-a,a,0,Math.PI/2),this.lineTo(e+i-a,t+n),this.lineTo(e+a,t+n),this.arc(e+ +a,t+n-a,a,Math.PI/2,Math.PI),this.lineTo(e,t+n-a),this.closePath()}arc(e,t,i,n,a,s){this.openedPath=!0,this.path2d.arc(e,t,i,n,a,s),this.commands.push(2),this.params.push(e,t,i,n,a,s?1:0)}cubicCurveTo(e,t,i,n,a,s){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,i,n,a,s),this.commands.push(3),this.params.push(e,t,i,n,a,s)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const i=this.commands,n=this.params,a=i.length,s=-1e4,r=-1e4;let o=NaN,l=NaN,c=0,h=0,u=0;for(let d=0,p=0;d<a;d++)switch(i[d]){case 0:u+=fo(o,l,c,h,s,r,e,t),c=n[p++],o=c,h=n[p++],l=h;break;case 1:u+=fo(c,h,n[p++],n[p++],s,r,e,t),c=n[p-2],h=n[p-1];break;case 3:u+=mo(c,h,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],s,r,e,t),c=n[p-2],h=n[p-1];break;case 2:const i=n[p++],a=n[p++],d=n[p++],g=n[p++],f=n[p++];if(u+=xo(i,a,d,g,f,Boolean(n[p++]),s,r,e,t),!isNaN(o)){u+=fo(c,h,i+Math.cos(g)*d,a+Math.sin(g)*d,s,r,e,t)}c=i+Math.cos(f)*d,h=a+Math.sin(f)*d;break;case 4:u+=fo(o,l,c,h,s,r,e,t)}return u%2===1}distanceSquared(e,t){let i=1/0;const n=this.commands,a=this.params,s=n.length;let r=NaN,o=NaN,l=0,c=0;for(let h=0,u=0;h<s;h++)switch(n[h]){case 0:l=r=a[u++],c=o=a[u++];break;case 1:i=Ra(e,t,l,c,a[u++],a[u++],i);break;case 3:y.error("Command.Curve distanceSquare not implemented");break;case 2:{const n=a[u++],s=a[u++],r=a[u++],o=a[u++],h=a[u++],d=n+Math.cos(o)*r,p=s+Math.sin(o)*r,g=Boolean(a[u++]);i=Ra(e,t,l,c,d,p,i),i=Oa(e,t,n,s,r,o,h,g,i),l=n+Math.cos(h)*r,c=s+Math.sin(h)*r;break}case 4:i=Ra(e,t,l,c,r,o,i)}return i}getPoints(){const{commands:e,params:t}=this,i=[];let n=0;for(let a=0;a<e.length;a++)switch(e[a]){case 0:case 1:i.push({x:t[n++],y:t[n++]});break;case 3:n+=4,i.push({x:t[n++],y:t[n++]});break;case 2:i.push({x:t[n++],y:t[n++]}),n+=4}return i}computeSVGDataPath(e,t){const i=[],{commands:n,params:a}=this;let s=0;for(let r=0;r<n.length;r++)switch(n[r]){case 0:i.push("M",e+a[s++],t+a[s++]);break;case 1:i.push("L",e+a[s++],t+a[s++]);break;case 3:i.push("C",e+a[s++],t+a[s++],e+a[s++],t+a[s++],e+a[s++],t+a[s++]);break;case 2:const[n,r,o,l,c,h]=[a[s++],a[s++],a[s++],a[s++],a[s++],a[s++]],u=e+n+Math.cos(l)*o,d=t+r+Math.sin(l)*o,p=e+n+Math.cos(c)*o,g=t+r+Math.sin(c)*o,f=Aa(l,c,!!h)>Math.PI?1:0,m=(h+1)%2,y=0===i.length?"M":"L";i.push(y,u,d,"A",o,o,0,f,m,p,g);break;case 4:i.push("Z")}return i.join(" ")}};function vo(e){const{redraw:t=3,changeCb:i,convertor:n}=e??{};return Te({redraw:t,type:"path",convertor:n,changeCb:i})}var Mo=class extends Fa{constructor(){super(...arguments),this.path=new bo,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)}distanceSquared(e,t){const i=this.transformPoint(e,t);return this.distanceSquaredTransformedPoint(i.x,i.y)}computeSVGDataPath(){const{x:e,y:t}=this.inverseTransformPoint(0,0);return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.computeSVGDataPath(e,t)}distanceSquaredTransformedPoint(e,t){return this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0!==this.dirty||i){if(this.transformRenderContext(e),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),isNaN(this._clipX)||isNaN(this._clipY)||null==this.clipMode)this.drawPath(t);else{t.save();const e=this.strokeWidth/2;if(this._clipPath??(this._clipPath=new bo),this._clipPath.clear(),this._clipPath.rect(-e,-e,this._clipX+e,this._clipY+e+e),"normal"===this.clipMode&&t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),"punch-out"===this.clipMode){t.clip(this._clipPath?.getPath2D());const{x:e=-1e4,y:i=-1e4,width:n=2e4,height:a=2e4}=this.getBBox()??{};t.clearRect(e,i,n,a)}t.restore()}this.fillShadow?.markClean(),super.render(e)}else n&&(n.nodesSkipped+=this.nodeCount.count)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}};Mo.className="Path",l([vo()],Mo.prototype,"clipMode",2),l([vo()],Mo.prototype,"clipX",1),l([vo()],Mo.prototype,"clipY",1);var So={};o(So,{block:()=>Io,elements:()=>Do,modifiers:()=>wo});var Io="ag-charts-focus",Do={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},wo={hidden:"ag-charts-focus--hidden"},ko=class{constructor(e){this.domManager=e;const{block:t,elements:i,modifiers:n}=So;this.div=ua().createElement("div"),this.svg=ua().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=ua().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=e.addChild("canvas-overlay",t),this.element.classList.add(t,i.indicator,n.hidden),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(Io),this.domManager.removeChild("canvas-overlay",Io)}updateBounds(e){void 0===e?this.element.classList.add(wo.hidden):e instanceof Mo?(this.path.setAttribute("d",e.computeSVGDataPath()),this.show(this.svg)):(xa(this.div,e),this.show(this.div))}show(e){this.element.classList.remove(wo.hidden),this.element.innerHTML="",this.element.append(e)}},No=class{set textContent(e){this.textElement.textContent=e;const t=this.textElement,i=t.getBBox?.();i&&this.svgElement.setAttribute("viewBox",`${i.x} ${i.y} ${i.width} ${i.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=ga("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=ga("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=pa("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(e){xa(this.boundedContainer,e)}};function Lo(e,t){return t.params?.type===e}function Ao(e){const t={params:e,result:void 0};return t.result=function(e){if("button"===e)return pa("button");if("slider"===e)return pa("input");if("toolbar"===e||"group"===e)return pa("div");if("text"===e)return new No;throw Error("AG Charts - error allocating meta")}(t.params.type),t}var Co=class{constructor(e,t,i,n){this.localeManager=t,this.domManager=i,this.focusIndicator=n,this.debugShowDOMProxies=va.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(e.addListener("update-complete",(()=>this.update())))}destroy(){this.destroyFns.forEach((e=>e()))}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){const t=Ao(e),{params:i,result:n}=t;return this.domManager.addChild("canvas-overlay",i.id,n),n.classList.add(...i.classList),n.style.pointerEvents="none",n.role=i.type,n.ariaOrientation=i.ariaOrientation,"boolean"===typeof i.ariaHidden&&(n.ariaHidden=i.ariaHidden.toString()),this.addLocalisation((()=>{n.ariaLabel=this.localeManager.t(i.ariaLabel.id,i.ariaLabel.params)})),n}createProxyElement(e){const t=Ao(e);if(Lo("button",t)){const{params:e,result:i}=t;if(this.initInteract(e,i),"string"===typeof e.textContent)i.textContent=e.textContent;else{const{textContent:t}=e;this.addLocalisation((()=>{i.textContent=this.localeManager.t(t.id,t.params)}))}}if(Lo("slider",t)){const{params:e,result:i}=t;this.initInteract(e,i),i.type="range",i.role="presentation",i.style.margin="0px",i.ariaOrientation=e.ariaOrientation,this.addLocalisation((()=>{i.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}))}if(Lo("text",t)){const{params:e,result:i}=t;this.initElement(e,i.getContainer())}return t.result}initElement(e,t){const{id:i,parent:n}=e;t.id=i,t.style.pointerEvents="none",t.style.opacity=this.debugShowDOMProxies?"0.25":"0",t.style.position="absolute",t.style.overflow="hidden","string"===typeof n?this.domManager.addChild(n,i,t):n.appendChild(t)}initInteract(e,t){const{focusable:i,onclick:n,onchange:a,onfocus:s,onblur:r,tabIndex:o}=e;this.initElement(e,t),void 0!==o&&(t.tabIndex=o),t.addEventListener("focus",(e=>{this.focusable=i,t.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(i.computeTransformedBBox())})),t.addEventListener("blur",(e=>{this.focusable=void 0,t.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)})),n&&t.addEventListener("click",n),s&&t.addEventListener("focus",s),r&&t.addEventListener("blur",r),a&&t.addEventListener("change",a)}},To=class{constructor(e){this.maxAnimationTime=e,this.debug=va.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Ht.map((e=>[e,[]]))),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Ht[this.currentPhase])??[]}checkOverlappingId(e){null!=e&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(Ht.indexOf(e.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",e.id),void e.stop();this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),i=t?.indexOf(e);null!=i&&i>=0&&t?.splice(i,1)}progress(e){if(!this.isReady)return;let t=0===e?.01:e;const i=()=>{const e=Ht[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:e,phaseMeta:Zt[e]}};let{phase:n,phaseControllers:a,phaseMeta:s}=i();const r=()=>null==Ht[this.currentPhase],o=()=>{for(({phase:n,phaseControllers:a,phaseMeta:s}=i());!r()&&0===a.length;)this.currentPhase++,({phase:n,phaseControllers:a,phaseMeta:s}=i()),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:t},a)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${n} with ${a?.length} of ${l}`);do{const e=t,i=s.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let n=0;for(const s of a)i?s.stop():t=Math.min(s.update(e),t),s.isComplete&&(n++,this.removeAnimation(s));this.animationTimeConsumed+=e-t,this.debug(`AnimationBatch - updated ${a.length} controllers; ${n} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),o()}while(t>0&&!r());this.animationTimeConsumed>this.maxAnimationTime&&(y.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&!0!==Zt[t.phase].skipIfNoEarlierAnimations){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===e){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}pause(){for(const e of this.controllers.values())e.pause()}stop(){for(const t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){y.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(e){if(null!=e&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach((e=>e())),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function Eo(e){const t={...e,preventDefault(){t.sourceEvent?.preventDefault()}};return t}function Ro(e,t){e.dispatchWrapHandlers(t.type,((e,t)=>e(t)),Eo(t))}var Oo=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],zo=["blur","focus"],jo=["keydown","keyup"],Po=["mousemove","mouseup"],Bo=["pagehide","mousemove","mouseup"],Fo=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],Go=(e=>(e[e.Default=16]="Default",e[e.ZoomDrag=8]="ZoomDrag",e[e.Annotations=4]="Annotations",e[e.ContextMenu=2]="ContextMenu",e[e.Animation=1]="Animation",e[e.All=31]="All",e))(Go||{}),_o=(e=>(e.Retain="retain",e.Exclusive="exclusive",e))(_o||{}),Uo=new Set(Object.values(_o));var Yo=class e extends io{constructor(e,t){super(),this.keyboardOptions=e,this.domManager=t,this.debug=va.create(!0,"interaction"),this.eventHandler=e=>this.processEvent(e),this.overlayEventHandler=e=>this.processCanvasOverlayEvent(e),this.mouseDown=!1,this.touchDown=!1,this.pointerCaptureCanvasElement=void 0,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(const i of Fo)i.startsWith("touch")||"wheel"===i?this.domManager.addEventListener(i,this.eventHandler,{passive:!1}):this.domManager.addEventListener(i,this.eventHandler);for(const i of Bo)da().addEventListener(i,this.eventHandler);this.destroyFns.push(this.domManager.addEventListenerOnElement("canvas-overlay","mouseover",this.overlayEventHandler),this.domManager.addEventListenerOnElement("canvas-overlay","mouseout",this.overlayEventHandler)),this.containerChanged(!0),this.domManager.addListener("container-changed",(()=>this.containerChanged()))}containerChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.domManager.getDocumentRoot();if(e||t!==this.rootElement){for(const e of Po)this.rootElement?.removeEventListener(e,this.eventHandler);this.rootElement=t,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(const e of Po)this.rootElement?.addEventListener(e,this.eventHandler)}}destroy(){super.destroy();for(const e of Bo)da().removeEventListener(e,this.eventHandler);for(const e of Po)this.rootElement?.removeEventListener(e,this.eventHandler);for(const e of Fo)this.domManager.removeEventListener(e,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return super.addListener(e,(e=>{this.getState()&i&&t(e)}))}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processCanvasOverlayEvent(e){const t=this.calculateCoordinates(e);if(null==t)return;let i=e.target,n=null;for(;null!=i&&(n=i.getAttribute("data-pointer-capture"),null==n);)i=i.parentElement;if(null==i||null==n||!Uo.has(n))return;const a="mouseover"===e.type,s=a?i:void 0;this.pointerCaptureCanvasElement!==s&&(this.pointerCaptureCanvasElement=s,"exclusive"===n&&Ro(this.listeners,this.buildPointerEvent({type:a?"leave":"enter",event:e,...t})))}processEvent(e){const t=this.decideInteractionEventTypes(e),i=e.target;"click"!==e.type||"true"!==i?.ariaDisabled?null!=t&&this.dispatchEvent(e,t).catch((e=>y.errorOnce(e))):e.preventDefault()}async dispatchEvent(e,t){if(function(e){return Oo.includes(e)}(t))return void this.dispatchPointerEvent(e,t);const{relatedElement:i,targetElement:n}=this.extractElements(e);if(function(e){return zo.includes(e)}(t)){const a=e;Ro(this.listeners,{type:t,sourceEvent:a,relatedElement:i,targetElement:n})}else if(function(e){return jo.includes(e)}(t)){const a=e;Ro(this.listeners,{type:t,sourceEvent:a,relatedElement:i,targetElement:n})}}extractElements(e){let t,i;return"relatedTarget"in e&&e.relatedTarget instanceof HTMLElement&&(t=e.relatedTarget),"target"in e&&e.target instanceof HTMLElement&&(i=e.target),{relatedElement:t,targetElement:i}}dispatchPointerEvent(e,t){const i=this.calculateCoordinates(e);null!=i&&Ro(this.listeners,this.buildPointerEvent({type:t,event:e,...i}))}getEventHTMLTarget(e){return e.target instanceof HTMLElement?e.target:e.currentTarget instanceof HTMLElement?e.currentTarget:void 0}recordDown(e){e instanceof MouseEvent&&(Dt(["offsetX","offsetY"],this.clickHistory[0],e),Dt(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),Dt(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragStartElement=this.getEventHTMLTarget(e)}recordUp(e){e instanceof MouseEvent&&Dt(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragStartElement=void 0}decideInteractionEventTypes(e){const t="drag-start";if(!1===this.pointerCaptureCanvasElement?.isConnected&&(this.pointerCaptureCanvasElement=void 0),null==this.pointerCaptureCanvasElement)switch(e.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?e.type:void 0;case"click":case"dblclick":case"contextmenu":case"wheel":return e.type;case"mousedown":if(!this.isEventOverElement(e))return;return this.mouseDown=!0,this.recordDown(e),t;case"touchstart":if(!this.isEventOverElement(e))return;return this.touchDown=!0,this.recordDown(e),t;case"touchmove":case"mousemove":if(!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(e))return;return this.mouseDown||this.touchDown?"drag":"hover";case"mouseup":if(!this.mouseDown&&!this.isEventOverElement(e))return;return this.mouseDown=!1,this.recordUp(e),"drag-end";case"touchend":if(!this.touchDown&&!this.isEventOverElement(e))return;return this.touchDown=!1,this.recordUp(e),"drag-end";case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(e){return this.domManager.isEventOverElement(e)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if("undefined"!==typeof TouchEvent&&t instanceof TouchEvent){const i=t.touches[0]??t.changedTouches[0],{clientX:n,clientY:a,pageX:s,pageY:r}=i;return{...e.NULL_COORDS,clientX:n,clientY:a,pageX:s,pageY:r}}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}}getMouseEventCoords(e){const{clientX:t,clientY:i,pageX:n,pageY:a}=e;let{offsetX:s,offsetY:r}=e;const o=this.getEventHTMLTarget(e),{x:l=0,y:c=0}=o?this.domManager.calculateCanvasPosition(o):{};if(null!=this.dragStartElement&&e.target!==this.dragStartElement){const e=this.domManager.calculateCanvasPosition(this.dragStartElement);s-=e.x-l,r-=e.y-c}else s+=l,r+=c;return{clientX:t,clientY:i,pageX:n,pageY:a,offsetX:s,offsetY:r}}isWheelEvent(e){return"wheel"===e.type}buildPointerEvent(e){const{type:t,event:i,clientX:n,clientY:a}=e;let{offsetX:s,offsetY:r,pageX:o,pageY:l}=e;if(!ut(s)||!ut(r)){const e=this.domManager.getBoundingClientRect();s=n-e.left,r=a-e.top}if(!ut(o)||!ut(l)){const e=this.rootElement?.getBoundingClientRect();o=n-(e?.left??0),l=a-(e?.top??0)}let[c,h]=[NaN,NaN];if(this.isWheelEvent(i)){const e=0===i.deltaMode?.01:1;c=i.deltaX*e,h=i.deltaY*e}let u=[];"click"===i.type?u=this.clickHistory:"dblclick"===i.type&&(u=this.dblclickHistory);const{relatedElement:d,targetElement:p}=this.extractElements(i),g={type:t,offsetX:s,offsetY:r,pageX:o,pageY:l,deltaX:c,deltaY:h,button:"button"in i?Number(i.button):0,pointerHistory:u,sourceEvent:i,relatedElement:d,targetElement:p};return this.debug("InteractionManager - builtEvent: ",g),g}};Yo.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var Vo=Yo;function Wo(e){return null==e||!isNaN(e)&&e>=0&&e<=2}var Ho=class extends io{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new To(1.5*this.defaultDuration),this.debug=va.create(!0,"animation"),this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate(e){let{...t}=e;const i=this.batch;try{i.checkOverlappingId(t.id)}catch(l){return void this.failsafeOnError(l)}let{id:n}=t;null==n&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const a=this.isSkipped()||"none"===t.phase;a&&this.debug("AnimationManager - skipping animation");const{delay:s,duration:r}=t;if(!Wo(s))throw new Error(`Animation delay of ${s} is unsupported (${n})`);if(!Wo(r))throw new Error(`Animation duration of ${r} is unsupported (${n})`);const o=new Xt({...t,id:n,skip:a,autoplay:!!this.isPlaying&&t.autoplay,phase:t.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let e;const t=async i=>{const n=async()=>{const t=i-(e??i);e=i,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:t}),this.interactionManager.pushState(1);try{this.batch.progress(t)}catch(n){this.failsafeOnError(n)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:t})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];y.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new To(1.5*this.defaultDuration),!0===e&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}},Zo=class e{constructor(t,i,n){this.localeManager=t,this.domManager=i,this.layoutService=n,this.debug=va.create(!0,"aria"),this.destroyFns=[],this.liveElem=e.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",(e=>this.onResize(e))),(()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy")))}static createAnnouncer(){const e=ua().createElement("div");return e.classList.add("ag-charts-aria-announcer"),cs(e,"role","status"),cs(e,"aria-live","assertive"),e}destroy(){this.destroyFns.forEach((e=>e()))}onResize(e){this.liveElem.style.width=`${e.chart.width}px`,this.liveElem.style.height=`${e.chart.height}px`}announceValue(e,t){const{localeManager:i,liveElem:n}=this,a=i.t(e,t);this.debug(`AriaAnnouncementService - announceValue: ${a}`),n.textContent="\xa0",setTimeout((()=>n.innerText=a),16)}},Ko=class extends io{legendItemClick(e,t,i,n){const a={type:"legend-item-click",series:e,itemId:t,enabled:i,legendItemName:n};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(e,t,i,n,a){const s={type:"legend-item-double-click",series:e,itemId:t,enabled:i,legendItemName:a,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",s)}axisHover(e,t){const i={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",i)}},$o=class e{constructor(e){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new to;const{Default:t,ContextMenu:i}=Go;this.destroyFns=[e.listenAll("contextmenu",(e=>this.onContextMenu(e)),t|i)]}destroy(){this.destroyFns.forEach((e=>e()))}onContextMenu(t){"all"===e.toContextType(t.region)&&this.dispatchContext("all",t,{})}static toContextType(e){return"legend"===e||"series"===e?e:"all"}static check(e,t){return t.type===e}static checkCallback(e,t,i){return e===t}dispatchContext(e,t,i){const{offsetX:n,offsetY:a,sourceEvent:s}=t;this.listeners.dispatch("",Eo({type:e,x:n,y:a,context:i,sourceEvent:s}))}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter((t=>t.id&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type)))}registerDefaultAction(e){e.id&&this.defaultActions.find((t=>{let{id:i}=t;return i===e.id}))||this.defaultActions.push(e)}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}setActionVisiblity(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}isDisabled(e){return this.disabledActions.has(e)}},Xo=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),"undefined"!==typeof t&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},Qo=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(Qo||{}),qo=class{constructor(e){this.domManager=e,this.stateTracker=new Xo("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function Jo(e,t){return Math.sqrt(function(e,t){const i=e.screenX-t.screenX,n=e.screenY-t.screenY;return i*i+n*n}(e,t))}var el=class extends io{constructor(e){super(),this.domManager=e,this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){const{touches:t}=e,{finger1:i,finger2:n}=this.pinch;if(0!==this.pinch.status&&2===t.length){if(t[0].identifier===i.identifier&&t[1].identifier===n.identifier)return[t[0],t[1]];if(t[0].identifier===n.identifier&&t[1].identifier===i.identifier)return[t[1],t[0]]}}copyTouchData(e){const t=["identifier","screenX","screenY"];Dt(t,this.pinch.finger1,e.touches[0]),Dt(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=Jo(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,i){const{finger1:n,finger2:a,origin:s}=this.pinch;this.listeners.dispatch(e,Eo({sourceEvent:i,type:e,finger1:n,finger2:a,deltaDistance:t,origin:s}))}onTouchStart(e){this.stopPinchTracking(e);const{pinch:t}=this;2===e.touches.length&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){const t=this.findPinchTouches(e);if(void 0!==t){const[i,n]=t,{pinch:a}=this,s=Jo(i,n),r=s-a.distance;1===a.status?Math.abs(r)>1&&(a.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):2===a.status?(a.distance=s,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",r,e)):y.error(`unexpected pinch.status: ${a.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){const{pinch:t}=this;2===t.status&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},tl=class extends io{constructor(){super(...arguments),this.highlightStates=new Xo}updateHighlight(e,t){const{activeHighlight:i}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,i)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:i,callerId:e})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||null!=e&&null!=t&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}},il=class extends io{constructor(e,t){super(),this.domManager=t,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(e.addListener("drag-start",(e=>this.onClickStart(e)),31),e.addListener("click",(e=>this.onClickStop(e)),31),e.addListener("drag-end",(e=>this.onClickStop(e)),31),e.addListener("wheel",(e=>this.mouseBlur(e))),e.addListener("hover",(e=>this.mouseBlur(e))),e.addListener("drag",(e=>this.mouseBlur(e))),e.addListener("blur",(e=>this.onBlur(e)),31),e.addListener("focus",(e=>this.onFocus(e)),31),e.addListener("keydown",(e=>this.onKeyDown(e)),31))}destroy(){super.destroy()}onClickStart(e){this.isClicking=!0,this.mouseBlur(e)}onClickStop(e){this.mouseBlur(e),this.isClicking=!1}mouseBlur(e){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,e),this.isMouseBlurred=!0))}onBlur(e){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,e)}onFocus(e){const t=this.domManager.getBrowserFocusDelta();this.dispatch("browserfocus",t,e),this.hasBrowserFocus=!0;const i=null==e.relatedElement&&"CANVAS"===e.targetElement?.tagName;this.isClicking||i?this.isMouseBlurred=!0:this.dispatch("tab",t,e)}onKeyDown(e){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;const{code:t,altKey:i,shiftKey:n,metaKey:a,ctrlKey:s}=e.sourceEvent;if("Tab"===t)return n?this.dispatch("tab",-1,e):this.dispatch("tab",1,e);if(!(i||n||a||s)){switch(t){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e);case"Escape":return this.dispatch("cancel",0,e);case"Backspace":case"Delete":return this.dispatch("delete",0,e)}switch(e.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}}}dispatch(e,t,i){Ro(this.listeners,{type:e,delta:t,sourceEvent:i})}},nl=["series"],al=class extends to{};function sl(e,t,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16;return e?.addListener(i,(e=>{t.getState()&a&&n(e)}))??(()=>{})}var rl=class{constructor(e,t,i){this.interactionManager=e,this.keyNavManager=t,this.focusIndicator=i,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new al,this.destroyFns.push(...Oo.map((t=>e.addListener(t,this.processPointerEvent.bind(this),31))),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach((e=>e())),this.currentRegion=void 0;for(const e of this.regions.values())e.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(e){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];const a={properties:{name:e,bboxproviders:[...i]},listeners:new al};return this.regions.set(e,a),this.makeObserver(a)}updateRegion(e){const t=this.regions.get(e);if(!t)throw new Error("AG Charts - unknown region: "+e);for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];t.properties.bboxproviders=[...n]}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return sl(this.allRegionsListeners,this.interactionManager,e,t,i)}makeObserver(e){const{interactionManager:t}=this;return new class{addListener(i,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;return sl(e?.listeners,t,i,n,a)}}}checkPointerHistory(e,t){for(const i of t.pointerHistory){const{region:t}=this.pickRegion(i.offsetX,i.offsetY);if(e.properties.name!==t?.properties.name)return!1}return!0}dispatch(e,t,i){if(null==e)return;const n=Eo({...t,region:e.properties.name,bboxProviderId:i});this.allRegionsListeners.dispatch(n.type,n),e.listeners.dispatch(n.type,n)}handleDragging(e){const{currentRegion:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,{...e,type:"leave"}),!0}return!1}processPointerEvent(e){if(this.handleDragging(e))return;const{currentRegion:t}=this;if("leave"===e.type)return this.dispatch(t,{...e,type:"leave"}),void(this.currentRegion=void 0);const{region:i,bboxProviderId:n}=this.pickRegion(e.offsetX,e.offsetY);void 0!==t&&i?.properties.name!==t.properties.name&&this.dispatch(t,{...e,type:"leave"},this.currentBBoxProviderId),void 0!==i&&i.properties.name!==t?.properties.name&&this.dispatch(i,{...e,type:"enter"},n),void 0!==i&&this.checkPointerHistory(i,e)&&this.dispatch(i,e,n),this.currentRegion=i,this.currentBBoxProviderId=n}pickRegion(e,t){let i,n,a=1/0;for(const s of this.regions.values())for(const r of s.properties.bboxproviders){if(!1===r.visible)continue;const o=r.computeTransformedRegionBBox?.()??r.computeTransformedBBox(),l=o.width*o.height;l<a&&o.containsPoint(e,t)&&(a=l,i=s,n=r.id)}return{region:i,bboxProviderId:n}}getTabRegion(e){if(void 0!==e&&e>=0&&e<nl.length)return this.regions.get(nl[e])}getNextInteractableTabIndex(e,t){const i=t<0?-1:1;let n=e;for(;0!==t;){if(void 0===this.getTabRegion(n+i))return;t-=i,n+=i}return n}validateCurrentTabIndex(){void 0!==this.getTabRegion(this.currentTabIndex)&&(this.currentTabIndex=this.getNextInteractableTabIndex(-1,1)??0)}onBrowserFocus(e){e.delta>0?this.currentTabIndex=-1:e.delta<0&&(this.currentTabIndex=nl.length)}onTab(e){this.validateCurrentTabIndex();const t=this.getNextInteractableTabIndex(this.currentTabIndex,e.delta),i=this.getTabRegion(t),n=this.getTabRegion(this.currentTabIndex);if(void 0!==t&&(this.currentTabIndex=t),void 0!==n&&i?.properties.name!==n.properties.name){const{delta:t,sourceEvent:i}=e,a=Eo({type:"blur",delta:t,sourceEvent:i});this.dispatch(n,a)}void 0===i?this.focusIndicator.updateBounds(void 0):this.dispatch(i,e)}onNav(e){const t=this.getTabRegion(this.currentTabIndex);this.dispatch(t,e)}},ol=["start","center","end"],ll=["seriesType","annotations","annotationOptions","ranges","zoom"],cl={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},hl=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(hl||{}),ul=Object.values(hl);function dl(e){return["floating-top","floating-bottom"].includes(e)}var pl=class extends io{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(const i of ul)if(e.isManagedChildDOMElement(t,"canvas-overlay",`toolbar-${i}`))return!0;return!1}pressButton(e,t,i,n){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,id:t,value:i,rect:n})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,i){const{active:n=!1,enabled:a=!0,visible:s=!0}=i;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,id:t,active:n,enabled:a,visible:s})}updateButton(e,t,i){this.listeners.dispatch("button-updated",{type:"button-updated",group:e,id:t,...i})}toggleGroup(e,t,i){const{active:n,visible:a}=i;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,active:n,visible:a})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,i,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:i,groupRect:n})}proxyGroupOptions(e,t,i){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:i})}},gl=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new Xo,this.suppressState=new Xo(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",(()=>this.tooltip.toggle(!1)))}updateTooltip(e,t,i){this.tooltip.enabled&&(i??(i=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{content:i,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){return this.stateTracker.get(e)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||null==t?.meta||null==t?.content)return this.appliedState=null,void this.tooltip.toggle(!1);const i=this.domManager.getBoundingClientRect(),n="extended"===this.tooltip.bounds?this.domManager.getOverlayClientRect():i;if(this.appliedState?.content===t?.content){const e=this.tooltip.isVisible();this.tooltip.show(n,i,t?.meta,null,e)}else this.tooltip.show(n,i,t?.meta,t?.content);this.appliedState=t}static makeTooltipMeta(e,t){const{offsetX:i,offsetY:n}=e,{tooltip:a}=t.series.properties,s={offsetX:i,offsetY:n,enableInteraction:a.interaction?.enabled??!1,lastPointerEvent:{type:e.type,offsetX:i,offsetY:n},showArrow:a.showArrow,position:{type:a.position.type,xOffset:a.position.xOffset,yOffset:a.position.yOffset}},r=t.yBar?.upperPoint??t.midPoint??t.series.datumMidPoint?.(t);if("node"===a.position.type&&r){const{x:e,y:i}=r,n=t.series.contentGroup.inverseTransformPoint(e,i);return{...s,offsetX:Math.round(n.x),offsetY:Math.round(n.y)}}return s}},fl=class extends to{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=va.create(!0,"layout")}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error(`AG Charts - unsupported listener type: ${e}`)}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce(((e,t)=>{try{const i=t.handler(e);return this.debug("[LayoutService] Context updated to: ",{...i},t),i}catch(i){return y.errorOnce(i),e}}),t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}},ml=/\$\{(\w+)}(?:\[(\w+)])?/gi,yl={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},xl=class extends to{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:i=c,getLocaleText:n}=this,a=i[e];return n?.({key:e,defaultValue:a,variables:t})??(e=>{let{defaultValue:t,variables:i}=e;return t?.replaceAll(ml,((e,t,n)=>{const a=i[t],s=null!=n?yl[n]:void 0;return null!=n&&null==s&&y.warnOnce(`Format style [${n}] is not supported`),null!=s?s.format(a):"number"===typeof a?yl.number.format(a):a instanceof Date?yl.datetime.format(a):String(a)}))})({key:e,defaultValue:a,variables:t})??e}},bl=class{constructor(){this.groups={}}registerSeries(e){let{id:t,seriesGrouping:i,visible:n,type:a}=e;var s;i&&((s=this.groups)[a]??(s[a]={}),this.groups[a][t]={grouping:i,visible:n})}deregisterSeries(e){let{id:t,type:i}=e;this.groups[i]&&delete this.groups[i][t],this.groups[i]&&0===Object.keys(this.groups[i]).length&&delete this.groups[i]}getVisiblePeerGroupIndex(e){let{type:t,seriesGrouping:i,visible:n}=e;if(!i)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const a=new Set,s=new Set;for(const o of Object.values(this.groups[t]??{}))o.visible&&(a.add(o.grouping.groupIndex),o.grouping.groupIndex===i.groupIndex&&s.add(o.grouping.stackIndex));const r=Array.from(a);return r.sort(((e,t)=>e-t)),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(i.groupIndex)}}},vl=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(vl||{}),Ml=class extends to{constructor(e){super(),this.updateCallback=e}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e?.minRect,minVisibleRect:e?.minVisibleRect})}dispatchPreSceneRender(e){this.dispatch("pre-scene-render",{type:"pre-scene-render",...e})}},Sl=class{constructor(e,t){const{scene:i,root:n,syncManager:a,container:s,updateCallback:r,updateMutex:o,overrideDevicePixelRatio:l}=t;this.chartService=e,this.syncManager=a,this.zoomManager=e.zoomManager,this.domManager=new po(s),i?.setContainer(this.domManager),this.scene=i??new Jr({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(n),this.axisManager=new ao(n),this.localeManager=new xl,this.annotationManager=new no(e.annotationRoot),this.chartEventManager=new Ko,this.cursorManager=new qo(this.domManager),this.highlightManager=new tl,this.interactionManager=new Vo(e.keyboard,this.domManager),this.keyNavManager=new il(this.interactionManager,this.domManager),this.focusIndicator=new ko(this.domManager),this.regionManager=new rl(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new $o(this.regionManager),this.toolbarManager=new pl,this.gestureDetector=new el(this.domManager),this.layoutService=new fl,this.ariaAnnouncementService=new Zo(this.localeManager,this.domManager,this.layoutService),this.updateService=new Ml(r),this.proxyInteractionService=new Co(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new bl,this.stateManager=new Vr,this.callbackCache=new eo,this.animationManager=new Ho(this.interactionManager,o),this.animationManager.skip(),this.animationManager.play(),this.dataService=new so(this.animationManager),this.tooltipManager=new gl(this.domManager,e.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},Il=class extends wt{constructor(){super(...arguments),this.range="tooltip"}};l([fi(rn(["tooltip","node"],"a range"))],Il.prototype,"range",2);var Dl=class e{constructor(){this.domain=new Set}static is(t){return t instanceof e}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},wl=class e{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof e}static extendDomain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const i of e)"number"===typeof i&&(t[0]>i&&(t[0]=i),t[1]<i&&(t[1]=i));return t}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function kl(e){return e.map((e=>rt(e)?JSON.stringify(e):e)).join("-")}function Nl(e){const t=1e4;return Number.isInteger(e)?e:Math.abs(e)>t?Math.trunc(e):Math.round(e*t)/t}function Ll(e,t){const i=function(e){if(null==e)return[];let[t,i]=e.map(Number);return 0===t&&0===i?[0,1]:t===1/0&&i===-1/0?[]:(t===1/0?t=0:i===-1/0&&(i=0),ut(t)&&ut(i)?[t,i]:[])}(e);if(0===i.length)return i;let[n,a]=i;if(n===a){const[e,i]=t?.calculatePadding(n,a)??[1,1];n-=e,a+=i}return[n,a]}function Al(e,t){return t?.get(e.id)??0}var Cl=Symbol("invalid");function Tl(e){const t=[];let i,n=0;const a=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;i=a.exec(e);){if(i.index!==n)return;n=i.index+i[0].length;const e=i[1].trim();if(e.startsWith("."))t.push(e.slice(1).trim());else if(e.startsWith("[")){const i=e.slice(1,-1).trim();i.startsWith("'")?t.push(i.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):i.startsWith('"')?t.push(i.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):t.push(i)}else t.push(e)}if(n===e.length)return t}function El(e){return t=>{let i=t;for(const n of e)i=i[n];return i}}var Rl=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone";this.opts=e,this.mode=t,this.debug=va.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let i=!0;for(const a of e.props){if("key"===a.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===a.type&&i&&(i=!1)}const n=e=>{let{matchGroupIds:t=[]}=e;for(const i of t)if(this.values.every((e=>e.groupId!==i)))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${i}).`)};for(const a of e.props)switch(a.type){case"key":this.keys.push({...a,index:this.keys.length,missing:new Map});break;case"value":if(null==a.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);this.values.push({...a,index:this.values.length,missing:new Map});break;case"aggregate":n(a),this.aggregates.push({...a,index:this.aggregates.length});break;case"group-value-processor":n(a),this.groupProcessors.push({...a,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...a,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...a,index:this.reducers.length});break;case"processor":this.processors.push({...a,index:this.processors.length})}}resolveProcessedDataDefById(e,t){const i=this.scopeCache.get(e.id)?.get(t);if(!i)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:i.index,def:i}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map((t=>[t,this.resolveProcessedDataDefById(e,t)]))}resolveProcessedDataDefsValues(e,t){let{keys:i,values:n}=t;const a={};for(const[s,{index:r,def:o}]of e){const e="key"===o.type?i:n;a[s]=e[r]}return a}getDomain(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",n=arguments.length>3?arguments[3]:void 0;const a=this.getDomainsByType(i,n);return a?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){const{opts:{groupByKeys:i,groupByFn:n},aggregates:a,groupProcessors:s,reducers:r,processors:o,propertyProcessors:l}=this,c=performance.now();if(i&&0===this.keys.length)return;let h=this.extractData(e,t);if(i?h=this.groupData(h):n&&(h=this.groupData(h,n(h))),s.length>0&&this.postProcessGroups(h),a.length>0&&this.aggregateData(h),l.length>0&&this.postProcessProperties(h),r.length>0&&this.reduceData(h),o.length>0&&this.postProcessData(h),e.length>0)for(const d of f(this.keys,this.values))for(const[t,i]of d.missing)if(i>=e.length){const e=null==t?"":` for ${t}`;y.warnOnce(`the key '${d.property}' was not found in any data element${e}.`)}const u=performance.now();h.time=u-c,this.debug.check()&&function(e){const t=(e,t)=>{t.length>0&&(y.log(`DataModel.processData() - ${e}`),y.table(t))};if(y.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),"grouped"===e.type){t("Values",e.data.reduce(((e,t)=>{const i=t.keys??[],n=t.aggValues??[],a=t.keys.map((()=>{})),s=n?.map((()=>{}));return e.push(...t.values.map(((e,t)=>[...0===t?i:a,...e??[],...0==t?n:s]))),e}),[]))}else{t("Values",e.data.reduce(((e,t)=>{const i=t.aggValues??[];return e.push([...t.keys,...t.values,...i]),e}),[]))}}(h),this.scopeCache.clear();for(const d of f(this.keys,this.values,this.aggregates))if(d.idsMap)for(const[e,t]of d.idsMap)for(const i of t)if(this.scopeCache.has(e)){if(this.scopeCache.get(e)?.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(e).set(i,d)}else this.scopeCache.set(e,new Map([[i,d]]));return h}valueGroupIdxLookup(e){let{matchGroupIds:t}=e;const i=[];for(const[n,a]of this.values.entries())(!t||a.groupId&&t.includes(a.groupId))&&i.push(n);return i}valueIdxLookup(e,t){const i=null==e||0===e.length,n="string"===typeof t?t:t.id,a=this.values.findIndex((t=>(null==t.scopes||i&&!t.scopes.length||t.scopes.some((t=>e?.includes(t))))&&(t.property===n||t.id===n||(t=>{if(t.idsMap)for(const[i,a]of t.idsMap)if(e?.includes(i)&&a.has(n))return!0;return!1})(t))));if(-1===a)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return a}extractData(e,t){const{dataDomain:i,processValue:n,scopes:a,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),r=new Map(t?.map((e=>[e.id,e]))),{keys:o,values:l}=this,c=new Array(e.length);let h=0,u=0;for(const[p,g]of e.entries()){const e={},t=a.size>0?new Set(a):void 0,i=new Array(o.length);let d,f=0;for(const a of o){if(d=n(a,g,d),d===Cl)break;i&&(i[f++]=d)}if(d===Cl)continue;const m=l.length>0?new Array(l.length):void 0;let y;for(const[o,c]of l.entries()){for(const t of c.scopes??a){const i=r.get(t);if(y=n(c,i?.data[p]??g,y,t),y!==Cl&&m){if(null!=i&&!1!==c.includeProperty){const i=c.includeProperty&&null!=c.id?c.id:c.property;e[t]??(e[t]={}),e[t][i]=y}m[o]=y}}if(y===Cl){if(s)break;for(const e of c.scopes??a)t?.delete(e);if(0===t?.size)break}}if(y===Cl&&s)continue;if(0===t?.size)continue;const x={datum:{...g,...e},keys:i,values:m};!s&&t&&t.size<a.size&&(u++,x.validScopes=new Set(t)),c[h++]=x}c.length=h;const d=e=>{const t=i.get(e),n=t.getDomain();return wl.is(t)&&n[0]>n[1]?[]:n};return{type:"ungrouped",input:{count:e.length},data:c,domain:{keys:o.map(d),values:l.map(d)},defs:{allScopesHaveSameDefs:s,keys:o,values:l},partialValidDataCount:u,time:0}}groupData(e,t){const i=new Map;for(const r of e.data){const{keys:e,values:n,datum:a,validScopes:s}=r,o=t?.(r)??e,l=kl(o);if(i.has(l)){const e=i.get(l);if(e.values.push(n),e.datum.push(a),null!=s&&null!=e.validScopes)for(const t of e.validScopes)s.has(t)||e.validScopes.delete(t)}else i.set(l,{keys:o,values:[n],datum:[a],validScopes:s})}const n=new Array(i.size),a=new Array(i.size);let s=0;for(const{keys:r,values:o,datum:l,validScopes:c}of i.values())0!==c?.size&&(a[s]=r,n[s++]={keys:r,values:o,datum:l,validScopes:c});return{...e,type:"grouped",data:n,domain:{...e.domain,groups:a}}}aggregateData(e){const t="ungrouped"===e.type;e.domain.aggValues=[];for(const[i,n]of this.aggregates.entries()){const a=this.valueGroupIdxLookup(n),s=[1/0,-1/0];for(const r of e.data){if(r.aggValues??(r.aggValues=new Array(this.aggregates.length)),r.validScopes)continue;const e=t?[r.values]:r.values;let o=n.groupAggregateFunction?.()??[1/0,-1/0];for(const t of e){const e=a.map((e=>t[e])),i=n.aggregateFunction(e,r.keys);i&&(o=n.groupAggregateFunction?.(i,o)??wl.extendDomain(i,o))}const l=(n.finalFunction?.(o)??o).map((e=>Nl(e)));r.aggValues[i]=l,wl.extendDomain(l,s)}e.domain.aggValues.push(s)}}postProcessGroups(e){const{groupProcessors:t}=this,i=new Set,n=new Map,a=new Map,s=new Map;for(const o of t){const e=this.valueGroupIdxLookup(o);a.set(o,e),s.set(o,o.adjust());for(const t of e){const e="category"===this.values[t].valueType;i.add(t),n.set(t,e?new Dl:new wl)}}const r=e=>{for(const t of i)n.get(t)?.extend(e[t])};for(const o of e.data){for(const i of t){if(o.validScopes)continue;const t=a.get(i)??[],n=s.get(i)?.();if(n)if("grouped"===e.type)for(const e of o.values)e&&n(e,t);else o.values&&n(o.values,t)}if("grouped"===e.type)for(const e of o.values)r(e);else r(o.values)}for(const[o,l]of n)e.domain.values[o]=l.getDomain()}postProcessProperties(e){for(const{adjust:t,property:i,scopes:n}of this.propertyProcessors)t()(e,this.valueIdxLookup(n,i))}reduceData(e){e.reduced??(e.reduced={});for(const t of this.reducers){const i=t.reducer();let n=t.initialValue;for(const a of e.data)a.validScopes&&!t.scopes?.some((e=>a.validScopes?.has(e)))||(n=i(n,a));e.reduced[t.property]=n}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){const{keys:e,values:t}=this,i=new Set;for(const l of t)if(l.scopes)for(const e of l.scopes)i.add(e);const n=new Map,a=new Map;let s=!0;const r=()=>{for(const a of f(e,t))"category"===a.valueType?n.set(a,new Dl):(n.set(a,new wl),s&&(s=(a.scopes??[]).length===i.size))};r();const o=this.buildAccessors(f(e,t));return{dataDomain:n,processValue:(e,t,i,s)=>{let l,c;if(o.has(e.property)){try{c=o.get(e.property)(t)}catch(h){}l=null!=c}else l=e.property in t,c=l?t[e.property]:e.missingValue;if(null!=e.forceValue){c=l&&Me(c)?-1*e.forceValue:e.forceValue,l=!0}if(!l&&!("missingValue"in e)){const t=e.missing.get(s)??0;e.missing.set(s,t+1)}if(n.has(e)||r(),l&&!1===e.validation?.(c,t)){if(!("invalidValue"in e))return"integrated"!==this.mode&&y.warnOnce(`invalid value of type [${typeof c}] for [${e.scopes} / ${e.id}] ignored:`,`[${c}]`),Cl;c=e.invalidValue}return e.processor&&(a.has(e)||a.set(e,e.processor()),c=a.get(e)?.(c,i===Cl?void 0:i)),n.get(e)?.extend(c),c},initDataDomain:r,scopes:i,allScopesHaveSameDefs:s}}buildAccessors(e){const t=new Map;if("integrated"===this.mode)return t;for(const i of e){if(!(i.property.includes(".")||i.property.includes("[")))continue;const e=Tl(i.property);if(null==e){y.warnOnce("Invalid property path [%s]",i.property);continue}const n=El(e);t.set(i.property,n)}return t}};var Ol=class e{constructor(e){this.mode=e,this.debug=va.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,t,i){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise(((n,a)=>{this.requested.push({id:e,opts:i,data:t,resolve:n,reject:a})}))}execute(){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const e=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);const t=this.mergeRequested(e);this.debug("DataController.execute() - merged",t),this.debug.check()&&(da().processedData=[]);const i=this.requested.map((e=>{let{id:t}=e;return t})),n=this.hasMultipleDataSources(e);for(const{opts:s,data:r,resolves:o,rejects:l,ids:c}of t)try{const t=new Rl(s,this.mode),a=t.processData(r,e);this.debug.check()&&da("processedData").push(a),0===a?.partialValidDataCount?o.forEach(((e,s)=>e({dataModel:t,processedData:this.processScopedData(c[s],a,i,n)}))):a?this.splitResult(t,a,c,o):l.forEach((e=>e(new Error("AG Charts - no processed data generated"))))}catch(a){l.forEach((e=>e(a)))}}hasMultipleDataSources(e){if(e.length){const[{data:t},...i]=e;return i.some((e=>t!==e.data))}return!1}processScopedData(e,t,i,n){const a=t=>{if(Array.isArray(t))return t.map(a);const s=n?{...t,...t[e]}:t;for(const e of i)delete s[e];return s},s=t=>Array.isArray(t)?t.map(s):t?.[e]??t;return{...t,data:t.data.map((e=>({...e,datum:a(e.datum),values:n?e.values?.map(s):e.values})))}}validateRequests(e){const t=[];for(const[i,n]of e.entries())i>0&&n.data.length!==e[0].data.length&&!1===n.opts.groupByData?n.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):t.push(n);return t}mergeRequested(t){const i=[];for(const n of t){const t=i.find(e.groupMatch(n));t?t.push(n):i.push([n])}return i.map(e.mergeRequests)}splitResult(e,t,i,n){for(let a=0;a<i.length;a++){const s=i[a];(0,n[a])({dataModel:e,processedData:{...t,data:t.data.filter((e=>{let{validScopes:t}=e;return t?.has(s)??!0}))}})}}static groupMatch(e){let{data:t,opts:i}=e;function n(e){return e.filter((e=>"key"===e.type)).map((e=>e.property)).join(";")}return e=>{let[a]=e;return(!1===i.groupByData||a.data===t)&&a.opts.groupByKeys===i.groupByKeys&&a.opts.groupByFn===i.groupByFn&&n(a.opts.props)===n(i.props)}}static mergeRequests(t){return t.reduce(((t,i)=>{let{id:n,data:a,resolve:s,reject:r,opts:{props:o,...l}}=i;t.ids.push(n),t.rejects.push(r),t.resolves.push(s),t.data??(t.data=a),t.opts??(t.opts={...l,props:[]});for(const c of o){const i={...c,scopes:[n]};e.createIdsMap(n,i);const a=t.opts.props.find((t=>t.type===i.type&&e.deepEqual(t,i)));a?(a.scopes??(a.scopes=[]),a.scopes.push(...i.scopes??[]),"key"!==a.type&&"value"!==a.type||!i.idsMap?.size||e.mergeIdsMap(i.idsMap,a.idsMap)):t.opts.props.push(i)}return t}),{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(e,t){for(const[i,n]of e){const e=t.get(i);if(null!=e)for(const t of n)e.add(t);else t.set(i,new Set(n))}}static createIdsMap(e,t){null!=t.id&&(t.idsMap??(t.idsMap=new Map),t.idsMap.has(e)?t.idsMap.get(e).add(t.id):t.idsMap.set(e,new Set([t.id])))}static deepEqual(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;let n,a;if(Array.isArray(t)){if(a=t.length,a!==i.length)return!1;for(n=a-1;n>=0;n--)if(!e.deepEqual(t[n],i[n]))return!1;return!0}const s=Object.keys(t);if(a=s.length,a!==Object.keys(i).length)return!1;for(n=a-1;n>=0;n--){const a=s[n];if(!e.skipKeys.has(a)&&(!Object.hasOwn(i,a)||!e.deepEqual(t[a],i[a])))return!1}return!0}return!1}};Ol.skipKeys=new Set(["id","idsMap","type","scopes"]);var zl=Ol,jl=new class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){const i=this.axesMap.get(e);if(i)return i(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter((e=>!this.hidden.has(e)))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Pl=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function Bl(e){return Pl.find((t=>"series"===t.type&&t.identifier===e))?.chartTypes}function Fl(e){if(!function(e){return"enterprise"===e.packageType}(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=Pl.find((t=>t.type===e.type&&t.optionsKey===e.optionsKey&&t.identifier===e.identifier&&e.chartTypes.every((e=>t.chartTypes.includes(e)))));return t&&(t.useCount??(t.useCount=0),t.useCount++),null!=t}var Gl=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,t){let{optionsKey:i,moduleFactory:n,themeTemplate:a}=t;this.legendMap.set(e,{optionsKey:i,moduleFactory:n}),this.themeTemplates.set(i,a)}create(e,t){const i=this.legendMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce(((e,t)=>{let[i,n]=t;return e[i]=n.optionsKey,e}),{})}},_l=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return"cartesian"===this.get(e)}isPolar(e){return"polar"===this.get(e)}isHierarchy(e){return"hierarchy"===this.get(e)}isTopology(e){return"topology"===this.get(e)}isFlowProportion(e){return"flow-proportion"===this.get(e)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter((e=>this.isCartesian(e)))}get polarTypes(){return this.seriesTypes.filter((e=>this.isPolar(e)))}get hierarchyTypes(){return this.seriesTypes.filter((e=>this.isHierarchy(e)))}get topologyTypes(){return this.seriesTypes.filter((e=>this.isTopology(e)))}get flowProportionTypes(){return this.seriesTypes.filter((e=>this.isFlowProportion(e)))}},Ul=class extends Map{set(e,t){return super.set(e,yt(t,this.get(e)))}},Yl=new _l,Vl=new _l,Wl=new Ul,Hl=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,t){let{chartTypes:[i],moduleFactory:n,tooltipDefaults:a,defaultAxes:s,themeTemplate:r,paletteFactory:o,solo:l,stackable:c,groupable:h,stackedByDefault:u,swapDefaultAxesCondition:d,hidden:p}=t;this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:n,tooltipDefaults:a,defaultAxes:s,paletteFactory:o,solo:l,stackable:c,groupable:h,stackedByDefault:u,swapDefaultAxesCondition:d}),Yl.set(e,i),p||Vl.set(e,i)}create(e,t){const i=this.seriesMap.get(e)?.moduleFactory;if(i)return i(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){const t=this.seriesMap.get(e)?.defaultAxes;return t?{axes:Ct(t)}:null}setThemeTemplate(e,t){const i=this.themeTemplates.get(e);this.themeTemplates.set(e,yt(t,i))}getThemeTemplate(e){return this.themeTemplates.get(e)}getPaletteFactory(e){return this.seriesMap.get(e)?.paletteFactory}getTooltipDefauls(e){return this.seriesMap.get(e)?.tooltipDefaults}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}isDefaultAxisSwapNeeded(e){let t;for(const i of e.series??[]){const{type:e="line"}=i,n=this.seriesMap.get(e)?.swapDefaultAxesCondition?.(i);if(null!=n){if(null!=t&&t!=n)throw new Error("AG Charts - The provided series have incompatible directions");t=n}}return t}},Zl=class e extends io{constructor(e){super(),this.chart=e}subscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP,i=this.get(t);return i||(i=new Set,e.chartsGroups.set(t,i)),i.add(this.chart),this}unsubscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.get(t)?.delete(this.chart),this}getChart(){return this.chart}getGroup(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;const i=this.get(t);return i?Array.from(i):[]}getGroupSiblings(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.getGroup(t).filter((e=>e!==this.chart))}get(t){return e.chartsGroups.get(t)}};Zl.chartsGroups=new Map,Zl.DEFAULT_GROUP=Symbol("sync-group-default");var Kl=Zl,$l=class extends io{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new Xo(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(e){const t=new Map(e.map((e=>[e.id,this.axisZoomManagers.get(e.id)])));this.axisZoomManagers.clear();for(const i of e)this.axisZoomManagers.set(i.id,t.get(i.id)??new Xl(i));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0;if(n&&this.rejectCallbacks.set(e,n),0!==this.axisZoomManagers.size)this.state.set(e,t),this.axisZoomManagers.forEach((i=>{i.updateZoom(e,t?.[i.getDirection()])})),this.applyChanges(e);else{const a=this.state.stateId();"initial"===a||a===e||i?(this.state.set(e,t),a!==e&&this.rejectCallbacks.get(a)?.(e)):n?.(a)}}updateAxisZoom(e,t,i){this.axisZoomManagers.get(t)?.updateZoom(e,i),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach((i=>{"x"===i.getDirection()?e??(e=i.getZoom()):"y"===i.getDirection()&&(t??(t=i.getZoom()))})),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,i]of this.axisZoomManagers.entries())e[t]={direction:i.getDirection(),zoom:i.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),(e=>e.applyChanges())).some(Boolean))return;const t={};for(const[i,n]of this.axisZoomManagers.entries())t[i]=n.getZoom();this.listeners.dispatch("zoom-change",{type:"zoom-change",...this.getZoom(),axes:t,callerId:e})}},Xl=class{constructor(e){this.axis=e;const[t=0,i=1]=e.visibleRange;this.state=new Xo({min:t,max:i}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return Ct(this.state.stateValue())}applyChanges(){const e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},Ql=class extends wt{constructor(){super(...arguments),this.enabled=!1}};l([fi(Mi)],Ql.prototype,"enabled",2),l([fi(Di)],Ql.prototype,"tabIndex",2);var ql=["top","right","bottom","left"];var Jl=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function ec(e){return e.series?.[0]?.type??"line"}function tc(e){const t=ec(e);return null==t||("cartesian"===t?(y.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yl.isCartesian(t)||function(e){const t=Bl(e)?.find((e=>"cartesian"===e));return"cartesian"===t}(t))}function ic(e){const t=ec(e);return null!=t&&("polar"===t?(y.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yl.isPolar(t)||function(e){const t=Bl(e)?.find((e=>"polar"===e));return"polar"===t}(t))}function nc(e){const t=ec(e);return null!=t&&("hierarchy"===t?(y.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yl.isHierarchy(t)||function(e){const t=Bl(e)?.find((e=>"hierarchy"===e));return"hierarchy"===t}(t))}function ac(e){const t=ec(e);return null!=t&&("topology"===t?(y.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yl.isTopology(t)||function(e){const t=Bl(e)?.find((e=>"topology"===e));return"topology"===t}(t))}function sc(e){const t=ec(e);return null!=t&&("flow-proportion"===t?(y.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Yl.isFlowProportion(t)||function(e){const t=Bl(e)?.find((e=>"flow-proportion"===e));return"flow-proportion"===t}(t))}var rc=class extends gn{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&Nt(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())"legend"===e.type&&(yield{legendType:e.identifier,legend:t})}},oc="ag-chart-overlay",lc="ag-chart-dark-overlay",cc=class extends wt{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,i){if(this.content?.remove(),this.focusBox=i,this.renderer){const e=this.renderer();if(e instanceof HTMLElement)this.content=e;else{const t=pa("div");t.innerHTML=e,this.content=t.firstElementChild}}else{const i=pa("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});i.innerText=this.getText(t),this.content=i,e?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(e){i.style.opacity=String(e)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>this.content?.remove(),t=arguments.length>1?arguments[1]:void 0;if(this.content){if(t){const{content:i}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(e){i.style.opacity=String(e)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};l([fi(Ii,{optional:!0})],cc.prototype,"text",2),l([fi(Si,{optional:!0})],cc.prototype,"renderer",2);var hc=class extends wt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new cc("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new cc("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new cc("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries])if(void 0!==t.focusBox)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};function uc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const i of e)"number"===typeof i&&(i<0&&(t[0]+=i),i>0&&(t[1]+=i));return t}function dc(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>uc(e)}}function pc(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:e=>uc(e),groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t}}}function gc(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>wl.extendDomain(e)}}function fc(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t}}}function mc(e,t){const i={id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:e=>uc(e),groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t[2]++,t},finalFunction:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const t=e[0]+e[1];return t>=0?[0,t/e[2]]:[t/e[2],0]}};return i}function yc(e,t,i){const n={id:e,matchGroupIds:i?[i]:void 0,type:"aggregate",aggregateFunction:function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=i[1]-i[0];return t.aggregateFunction(e).map((e=>e/n))}};return t.groupAggregateFunction&&(n.groupAggregateFunction=t.groupAggregateFunction),n}function xc(e){return()=>{let t=0;return i=>ut(i)?(t+=e?Math.max(0,i):i,t):i}}function bc(){return()=>{let e=0;return t=>{if(!ut(t))return t;const i=e;return e+=t,i}}}l([fi(Mi)],hc.prototype,"darkTheme",2),l([fi(bi)],hc.prototype,"loading",2),l([fi(bi)],hc.prototype,"noData",2),l([fi(bi)],hc.prototype,"noVisibleSeries",2);var vc=new WeakMap;function Mc(e,t){const i=JSON.stringify(e,null,0);return vc.has(t)||vc.set(t,new Map),vc.get(t)?.has(i)||vc.get(t)?.set(i,t(e)),vc.get(t)?.get(i)}var Sc={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-e);return e=i,!isNaN(n)&&n>0&&n<t?n:t}}},Ic={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0;const i=(arguments.length>1?arguments[1]:void 0).keys[0],n=Math.abs(i-e);return e=i,!isNaN(n)&&n>0&&n>t?n:t}}},Dc={type:"processor",property:"sortedGroupDomain",calculate:e=>{let{domain:{groups:t}}=e;return t?.slice().sort(((e,t)=>{for(let i=0;i<e.length;i++){const n=e[i]-t[i];if(0!==n)return n}return 0}))}};function wc(e){let{normaliseTo:t,mode:i}=e;const n=(e,i)=>{const n=e*t/i;return n>=0?Math.min(t,n):Math.max(-t,n)};return()=>()=>(e,t)=>{const a=[0,0];for(const n of t){const t=e[n],s="number"===typeof t?t:Math.max(...t),r=s<0?0:1;"sum"===i?a[r]+=s:a[r]=0===r?Math.min(a[r],s):Math.max(a[r],s)}const s=Math.max(Math.abs(a[0]),a[1]);for(const i of t){const t=e[i];e[i]="number"===typeof t?n(t,s):t.map((e=>n(e,s)))}}}function kc(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:Mc({normaliseTo:t,mode:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sum"},wc)}}function Nc(e){let{normaliseTo:t,zeroDomain:i,rangeMin:n,rangeMax:a}=e;const s=t[1]-t[0],r=(e,n,a)=>{const r=t[0]+(e-n)/a*s;return 0===a?i:r>=t[1]?t[1]:r<t[0]?t[0]:r};return()=>(e,i)=>{let[s,o]=e.domain.values[i];null!=n&&(s=n),null!=a&&(o=a);const l=o-s;e.domain.values[i]=[t[0],t[1]];for(const t of e.data){let n=t.values;"ungrouped"===e.type&&(n=[n]);for(const e of n)e[i]=r(e[i],s,l)}}}function Lc(e,t,i,n,a){return{type:"property-value-processor",property:e,adjust:Mc({normaliseTo:t,rangeMin:n,rangeMax:a,zeroDomain:i},Nc)}}function Ac(e){return{type:"processor",property:"animationValidation",calculate(t){const{keys:i,values:n}=t.defs,{input:a,data:s}=t;let r=!0,o=!0;const l=[];for(let h=0;h<n.length;h++)e?.includes(n[h].id)&&l.push([h,n[h]]);const c=(e,i,n)=>{if("category"===i.valueType){const i=t.domain[n][e];return void(r&&(r=i.length===a.count))}let l=s[0]?.[n][e];for(let t=1;(r||o)&&t<s.length;t++){const i=s[t][n][e];o&&(o=l<=i),r&&(r=l!==i),l=i}};for(let e=0;(r||o)&&e<i.length;e++)c(e,i[e],"keys");for(let e=0;(r||o)&&e<l.length;e++){const[t,i]=l[e];c(t,i,"values")}return{uniqueKeys:r,orderedKeys:o}}}}function Cc(e){let{mode:t,separateNegative:i}=e;return()=>()=>(e,n)=>{const a=[0,0];for(const s of n){const n=e[s],r=Me(n)&&i?0:1;ut(n)&&("normal"===t&&(a[r]+=n),e[s]=a[r],"trailing"===t&&(a[r]+=n))}}}function Tc(e){let{mode:t,sum:i}=e;return()=>{const e=[];let n=!0;return()=>(a,s)=>{let r=0;for(const o of s){const s=a[o],l=n&&"current"===i?0:e[o];e[o]=s;const c="current"===i?s:l;ut(s)&&ut(l)?("normal"===t&&(r+=c),a[o]=r,"trailing"===t&&(r+=c)):a[o]=r}n=!1}}}function Ec(e,t,i){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.startsWith("window")){n=Mc({mode:t.endsWith("-trailing")?"trailing":"normal",sum:i},Tc)}else n=Mc({mode:t,separateNegative:a},Cc);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function Rc(){return()=>(e,t)=>{const i=new Float64Array(32);let n=0;for(const a of t){const t=e[a];i[n]=Number.isFinite(t)?t:NaN,n+=1,e[a]=i.subarray(0,n)}}}function Oc(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:Rc}}function zc(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:"processor",property:"diff",calculate:i=>{const n=new Map,a=new Map,s=new Map,r=new Map,o=Math.max(e.data.length,i.data.length);for(let l=0;l<o;l++){const o=e.data[l],c=i.data[l],h=o?jc(o.keys):"",u=c?jc(c.keys):"";c&&o&&h===u?zn(o.values,c.values)||s.set(u,c):(r.has(u)?(!t&&zn(r.get(u).values,c.values)||(s.set(u,c),n.set(u,c)),r.delete(u)):c&&a.set(u,c),a.has(h)?(!t&&zn(a.get(h).values,o.values)||(s.set(h,o),n.set(h,o)),a.delete(h)):o&&(s.delete(h),r.set(h,o)))}return{changed:a.size>0||s.size>0||r.size>0,added:a,updated:s,removed:r,moved:n}}}}function jc(e){let t;t=et(e)?e.map((e=>Cs(e))).join("___"):Cs(e);const i="string"===typeof t||"number"===typeof t||"boolean"===typeof t||t instanceof Date;for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return i&&a.length>0&&(t+=`___${a.join("___")}`),t}var Pc=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(Pc||{});function Bc(e){return null!=e&&Ls(e)}function Fc(e){return null!=e}function Gc(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return Bc;default:return Fc}}function _c(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function Uc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"key",valueType:_c(t),validation:Gc(t),...i}}function Yc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"value",valueType:_c(t),validation:Gc(t),...i}}function Vc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:i=-1/0,max:n=1/0,...a}=t;return{type:"value",property:e,valueType:"range",validation:Bc,processor:()=>e=>ut(e)?me(i,e,n):e,...a}}function Wc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:n,...a}=i;return{...Yc(e,t,a),processor:xc(n)}}function Hc(e,t){return{...Yc(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),processor:bc()}}function Zc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"current",n=arguments.length>3?arguments[3]:void 0;return[Yc(e,arguments.length>4?arguments[4]:void 0,n),Ec(n.groupId,t,i,n.separateNegative),...null!=n.rangeId?[gc(n.rangeId,n.groupId)]:[]]}function Kc(e,t,i){return[Yc(e,t,i),Oc(i.groupId)]}var $c=class{constructor(e,t,i,n){let{datum:a}=i;this.type=e,this.event=t,this.datum=a,this.seriesId=n.id}},Xc=class{constructor(e,t,i){this.series=e,this.seriesGrouping=t,this.oldGrouping=i,this.type="groupingChanged"}},Qc=class extends Br{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=$c,this.internalId=oe(this),this.rootGroup=new ca({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new gn,this._declarationOrder=-1,this.seriesListeners=new to,this._pickNodeCache=new _a;const{moduleCtx:t,pickModes:i=[1],directionKeys:n={},directionNames:a={},contentGroupVirtual:s=!0,canHaveAxes:r=!1}=e;this.ctx=t,this.directionKeys=n,this.directionNames=a,this.canHaveAxes=r,this.contentGroup=this.rootGroup.appendChild(new ca({name:`${this.internalId}-content`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new ca({name:`${this.internalId}-highlight`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new ca({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new ca({name:"highlightLabel",zIndex:10})),this.pickModes=i,this.labelGroup=this.rootGroup.appendChild(new ca({name:`${this.internalId}-series-labels`,zIndex:8})),this.annotationGroup=new ca({name:`${this.id}-annotation`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:i,type:n,visible:a}=this;e&&this.ctx.seriesStateManager.deregisterSeries({id:i,type:n}),t&&this.ctx.seriesStateManager.registerSeries({id:i,type:n,visible:a,seriesGrouping:t}),this.fireEvent(new Xc(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0;switch(e){case"data":case"paths":break;case"labels":i+=2e4;break;case"marker":i+=1e4;break;case"highlight":t+=15e3;break;case"annotation":i+=15e3}return[()=>this._declarationOrder+i,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach((e=>e())),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){const i=this.resolveKeyDirection(e),n=t?.[i],a=[];if(!n)return a;const s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const n of t)Array.isArray(n)?s(...n):"object"===typeof n?s(...Object.values(n)):a.push(n)};return s(...n.map((e=>this.properties[e]))),a}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),i=this.moduleMap.mapModules((t=>t.getDomain(e)));return t.concat(i.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:e=1,enabled:t=!0}=this.properties.highlightStyle.series;if(!t||1===e)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;default:return e}}getStrokeWidth(e){const{strokeWidth:t,enabled:i=!0}=this.properties.highlightStyle.series;if(!i||void 0===t)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){const e=this.ctx.highlightManager?.getActiveHighlight()?.series;return null==e?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules((e=>e.getTooltipParams())).reduce(((e,t)=>Object.assign(e,t)),{})}pickNode(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{pickModes:n,visible:a,rootGroup:s}=this;if(!a||!s.visible)return;if("highlight"===t&&!this.properties.highlight.enabled)return;if("highlight-tooltip"===t&&!this.properties.highlight.enabled)return;if("highlight"===t&&!this.properties.highlight.enabled)return;let r=1/0;if("tooltip"===t||"highlight-tooltip"===t){const{tooltip:e}=this.properties;r="number"===typeof e.range?e.range:1/0,i||(i="exact"===e.range)}else if("event"===t){const{nodeClickRange:e}=this.properties;r="number"===typeof e?e:1/0,i||(i="exact"===e)}const o=n.filter((e=>!i||0===e)),{x:l,y:c}=e,h=JSON.stringify({x:l,y:c,maxDistance:r,selectedPickModes:o});if(this._pickNodeCache.has(h))return this._pickNodeCache.get(h);for(const u of o){let t;switch(u){case 0:t=this.pickNodeExactShape(e);break;case 1:case 2:t=this.pickNodeMainAxisFirst(e,2===u);break;case 3:t=this.pickNodeClosestDatum(e)}if(t&&t.distance<=r)return this._pickNodeCache.set(h,{pickMode:u,match:t.datum,distance:t.distance})}return this._pickNodeCache.set(h,void 0)}pickNodeExactShape(e){const t=this.contentGroup.pickNode(e.x,e.y);if(t&&!0!==t.datum.missing)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const i=ge(e.x,e.y,t);if(void 0!==i.nearest&&!0!==i.nearest.datum.missing)return{datum:i.nearest.datum,distance:Math.sqrt(i.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getLabelText(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String;return e.formatter?this.ctx.callbackCache.call(e.formatter,{seriesId:this.id,...t})??i(t.value):i(t.value)}getMarkerStyle(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getStyle();const n=yt({size:t.datum.point?.size??0},i);if(e.itemStyler){return yt(this.ctx.callbackCache.call(e.itemStyler,{seriesId:this.id,...n,...t,datum:t.datum.datum}),n)}return n}updateMarkerStyle(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.getStyle(),{applyTranslation:a=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{point:s}=i.datum,r=this.getMarkerStyle(t,i,n),o=this.visible&&r.size>0&&s&&!isNaN(s.x)&&!isNaN(s.y);a?e.setProperties({visible:o,...r,translationX:s?.x,translationY:s?.y}):e.setProperties({visible:o,...r}),"function"!==typeof t.shape||e.dirtyPath||(e.path.clear(!0),e.updatePath(),e.checkPathDirty())}getMinRects(e,t){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:i}=e??{width:NaN,height:NaN},n=e?{seriesRectWidth:t,seriesRectHeight:i}:void 0,a=null!=At(this.nodeDataDependencies,n);return a&&(this._nodeDataDependencies=n,this.markNodeDataDirty()),a}pickFocus(e){}};function qc(e){let{defs:t,values:i,xAxis:n,yAxis:a}=e;if(!n||!a)throw new Error("Axes must be defined");const s={};for(const[r,{def:o}]of t)if(Object.hasOwn(i,r)){const{scale:e}="key"===o.type?n:a;s[r]=Math.round(e.convert(i[r]))}return s}function Jc(e,t,i,n){const a=[...e].reverse();let s;for(const r of a){if(!r.visible||!r.rootGroup.visible)continue;const{match:e,distance:a}=r.pickNode(t,i,n)??{};if(e&&null!=a&&((!s||s.distance>a)&&(s={series:r,distance:a,datum:e}),0===a))break}return s}Qc.highlightedZIndex=1e12,l([is({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Qc.prototype,"seriesGrouping",2);var eh=class extends io{constructor(e,t,i){super(),this.id=e,this.chart=t,this.ctx=i,this.series=[];const n=this.ctx.regionManager.getRegion("series"),a=this.ctx.regionManager.getRegion("horizontal-axes"),s=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.regionManager.listenAll("click",(e=>this.onClick(e))),this.ctx.regionManager.listenAll("dblclick",(e=>this.onClick(e))),this.ctx.layoutService.addListener("layout-complete",(e=>this.layoutComplete(e))),n.addListener("hover",(e=>this.onHover(e))),n.addListener("leave",(()=>this.onLeave())),a.addListener("leave",(()=>this.onLeave())),s.addListener("leave",(()=>this.onLeave())))}seriesChanged(e){this.series=e}dataChanged(){this.lastHover=void 0}preSceneRender(){this.lastHover&&this.onHover(this.lastHover)}update(e,t){this.ctx.updateService.update(e,t)}layoutComplete(e){this.seriesRect=e.series.paddedRect}onLeave(){this.lastHover=void 0,this.ctx.cursorManager.updateCursor(this.id)}onHover(e){let{offsetX:t,offsetY:i}=e;const n=Jc(this.series,{x:t,y:i},"event");n?.series.hasEventListener("nodeClick")||n?.series.hasEventListener("nodeDoubleClick")?this.ctx.cursorManager.updateCursor(this.id,"pointer"):this.ctx.cursorManager.updateCursor(this.id)}onClick(e){if(this.seriesRect?.containsPoint(e.offsetX,e.offsetY)&&this.checkSeriesNodeClick(e))return this.update(4),void e.preventDefault();const t={type:"click"===e.type?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(t)}checkSeriesNodeClick(e){const t=Jc(this.series,{x:e.offsetX,y:e.offsetY},"event");return null!=t&&("click"===e.type?(t.series.fireNodeClickEvent(e.sourceEvent,t.datum),!0):"dblclick"===e.type&&(e.preventZoomDblClick=0===t.distance,t.series.fireNodeDoubleClickEvent(e.sourceEvent,t.datum),!0))}};function th(e,t){!function(e,t){const{bounds:i,showFocusBox:n}=t;n&&e?.updateBounds(i)}(e,t);const{x:i,y:n}=((a=t.bounds)instanceof Ae?a.computeCenter():a?.computeTransformedBBox()?.computeCenter())??{};var a;if(void 0!==i&&void 0!==n)return{type:"keyboard",offsetX:i,offsetY:n}}var ih=class extends io{constructor(e,t,i,n,a){super(),this.id=e,this.chart=t,this.ctx=i,this.chartType=n,this.overlays=a,this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0};const s=this.ctx.regionManager.getRegion("series");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",(e=>this.layoutComplete(e))),this.ctx.animationManager.addListener("animation-start",(()=>this.onAnimationStart())),s.addListener("blur",(()=>this.onBlur())),s.addListener("tab",(e=>this.onTab(e))),s.addListener("nav-vert",(e=>this.onNavVert(e))),s.addListener("nav-hori",(e=>this.onNavHori(e))),s.addListener("submit",(e=>this.onSubmit(e))),this.ctx.keyNavManager.addListener("browserfocus",(e=>this.onBrowserFocus(e))),this.ctx.zoomManager.addListener("zoom-change",(()=>{this.ctx.focusIndicator.updateBounds(void 0)})))}seriesChanged(e){this.series=e,this.onBlur()}dataChanged(){this.ctx.focusIndicator.updateBounds(void 0)}preSceneRender(){this.refreshFocus()}layoutComplete(e){this.seriesRect=e.series.rect}refreshFocus(){this.focus.hasFocus&&this.handleSeriesFocus(0,0)}onTab(e){this.handleFocus(0,0),e.preventDefault(),this.focus.hasFocus=!0}onNavVert(e){this.focus.seriesIndex+=e.delta,this.handleFocus(e.delta,0),e.preventDefault()}onNavHori(e){this.focus.datumIndex+=e.delta,this.handleFocus(0,e.delta),e.preventDefault()}onBrowserFocus(e){e.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):e.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.focus.hasFocus=!1}handleFocus(e,t){this.focus.hasFocus=!0;const i=this.overlays.getFocusInfo(this.ctx.localeManager);null==i?this.handleSeriesFocus(e,t):(this.ctx.focusIndicator.updateBounds(i.rect),this.ctx.ariaAnnouncementService.announceValue(i.text))}handleSeriesFocus(e,t){if("hierarchy"===this.chartType)return void this.handleHierarchySeriesFocus(e,t);const{focus:i,seriesRect:n,series:a}=this,s=a.filter((e=>e.visible));if(0===s.length)return;i.seriesIndex=me(0,i.seriesIndex,s.length-1),i.series=s[i.seriesIndex];const{datumIndex:r,seriesIndex:o}=i,l=i.series.pickFocus({datumIndex:r,datumIndexDelta:t,otherIndex:o,otherIndexDelta:e,seriesRect:n});this.updatePickedFocus(l)}handleHierarchySeriesFocus(e,t){this.focus.series=this.series[0];const{focus:{series:i,seriesIndex:n,datumIndex:a},seriesRect:s}=this;if(void 0===i)return;const r=i.pickFocus({datumIndex:a,datumIndexDelta:t,otherIndex:n,otherIndexDelta:e,seriesRect:s});this.updatePickedFocus(r)}updatePickedFocus(e){const{focus:t}=this;if(void 0===e||void 0===t.series)return;const{datum:i,datumIndex:n}=e;t.datumIndex=n,t.datum=i;const a=th(this.ctx.focusIndicator,e);if(void 0!==a){const e=t.series.getTooltipHtml(i),n=gl.makeTooltipMeta(a,i),s=this.getDatumAriaText(i,e);this.ctx.highlightManager.updateHighlight(this.id,i),this.ctx.tooltipManager.updateTooltip(this.id,n,e),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:s})}}onSubmit(e){const{series:t,datum:i}=this.focus,n=e.sourceEvent.sourceEvent;void 0!==t&&void 0!==i?t.fireNodeClickEvent(n,i):this.chart.fireEvent({type:"click",event:n}),e.preventDefault()}getDatumAriaText(e,t){const i=t.ariaLabel;return e.series.getDatumAriaText?.(e,i)??i}},nh=class extends io{constructor(e,t,i,n){super(),this.id=e,this.chart=t,this.ctx=i,this.highlight=n,this.series=[],this.hoverScheduler=Gr((()=>{this.pendingHoverEvent&&(this.chart.performUpdateType<=4?this.hoverScheduler.schedule():this.handleHover(!1))}));const a=this.ctx.regionManager.getRegion("series"),s=this.ctx.regionManager.getRegion("horizontal-axes"),r=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",(e=>this.layoutComplete(e))),this.ctx.highlightManager.addListener("highlight-change",(e=>this.changeHighlightDatum(e))),a.addListener("hover",(e=>this.onHover(e)),20),a.addListener("drag",(e=>this.onHover(e)),20),s.addListener("hover",(e=>this.onHover(e))),r.addListener("hover",(e=>this.onHover(e))),this.ctx.domManager.addListener("resize",(()=>this.clearHighlight())),a.addListener("leave",(()=>this.clearHighlight()),20),a.addListener("blur",(()=>this.clearHighlight())),this.ctx.animationManager.addListener("animation-start",(()=>this.clearHighlight())),this.ctx.zoomManager.addListener("zoom-pan-start",(()=>this.clearHighlight())),this.ctx.zoomManager.addListener("zoom-change",(()=>this.clearHighlight())))}seriesChanged(e){this.series=e}dataChanged(){this.stashedHoverEvent??(this.stashedHoverEvent=this.appliedHoverEvent),this.clearHighlight()}preSceneRender(){null!=this.stashedHoverEvent&&(this.pendingHoverEvent=this.stashedHoverEvent,this.stashedHoverEvent=void 0,this.handleHover(!0))}update(e,t){this.ctx.updateService.update(e,t)}layoutComplete(e){this.hoverRect=e.series.paddedRect}clearHighlight(){this.pendingHoverEvent=void 0,this.appliedHoverEvent=void 0,this.ctx.highlightManager.updateHighlight(this.id)}onHover(e){this.pendingHoverEvent=e,this.hoverScheduler.schedule()}handleHover(e){this.appliedHoverEvent=this.pendingHoverEvent,this.pendingHoverEvent=void 0;const t=this.appliedHoverEvent;if(!t)return;const i=this.ctx.interactionManager.getState();if(16!==i&&4!==i)return;const{offsetX:n,offsetY:a}=t;if(e?this.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,a))return void this.clearHighlight();const{range:s}=this.highlight,r="tooltip"===s?"highlight-tooltip":"highlight",o=Jc(this.series,{x:t.offsetX,y:t.offsetY},r);o?this.ctx.highlightManager.updateHighlight(this.id,o.datum):this.ctx.highlightManager.updateHighlight(this.id)}changeHighlightDatum(e){const t=new Set,{series:i,datum:n}=e.currentHighlight??{},{series:a,datum:s}=e.previousHighlight??{};a&&t.add(a),i&&t.add(i),a?.properties.cursor&&s&&this.ctx.cursorManager.updateCursor(a.id),i?.properties.cursor&&"default"!==i?.properties.cursor&&n&&this.ctx.cursorManager.updateCursor(i.id,i.properties.cursor);null==i||null==a?this.update(4):this.update(4,{seriesToUpdate:t})}},ah=class extends io{constructor(e,t,i,n){super(),this.id=e,this.chart=t,this.ctx=i,this.tooltip=n,this.series=[],this.hoverScheduler=Gr((()=>{this.lastHover&&(this.chart.performUpdateType<=4?this.hoverScheduler.schedule():this.handleHover(this.lastHover,!1))}));const a=this.ctx.regionManager.getRegion("series"),s=this.ctx.regionManager.getRegion("horizontal-axes"),r=this.ctx.regionManager.getRegion("vertical-axes");this.destroyFns.push(this.ctx.layoutService.addListener("layout-complete",(e=>this.layoutComplete(e))),a.addListener("hover",(e=>this.onHover(e)),20),s.addListener("hover",(e=>this.onHover(e))),r.addListener("hover",(e=>this.onHover(e))),a.addListener("leave",(()=>this.clearTooltip())),a.addListener("blur",(()=>this.clearTooltip())),a.addListener("contextmenu",(()=>this.clearTooltip()),31),s.addListener("leave",(()=>this.clearTooltip())),r.addListener("leave",(()=>this.clearTooltip())),this.ctx.animationManager.addListener("animation-start",(()=>this.clearTooltip())),this.ctx.domManager.addListener("resize",(()=>this.clearTooltip())),this.ctx.zoomManager.addListener("zoom-pan-start",(()=>this.clearTooltip())),this.ctx.zoomManager.addListener("zoom-change",(()=>this.clearTooltip())))}seriesChanged(e){this.series=e}dataChanged(){this.ctx.tooltipManager.removeTooltip(this.id)}preSceneRender(){null!=this.lastHover&&this.handleHover(this.lastHover,!0)}layoutComplete(e){this.hoverRect=e.series.paddedRect}onHover(e){this.lastHover=e,this.hoverScheduler.schedule()}clearTooltip(){this.ctx.tooltipManager.removeTooltip(this.id),this.lastHover=void 0}handleHover(e,t){const i=this.ctx.interactionManager.getState();if(16!==i&&4!==i)return;const{offsetX:n,offsetY:a,targetElement:s}=e;if(t?this.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,a))return void this.clearTooltip();if(s&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(s,"canvas-overlay",ds))return;const r=Jc(this.series,{x:n,y:a},"tooltip");if(!r)return void this.clearTooltip();const o=r.series.getTooltipHtml(r.datum);if(this.tooltip.enabled&&r.series.tooltipEnabled&&null!=o){const t=gl.makeTooltipMeta(e,r.datum);this.ctx.tooltipManager.updateTooltip(this.id,t,o)}}},sh=class extends io{constructor(e,t,i,n,a,s){super(),this.ctx=t,this.id=oe(this),this.series=[],this.subManagers=[new ih(this.id,e,t,i,s),new nh(this.id,e,t,a),new ah(this.id,e,t,n),new eh(this.id,e,t)];const r=this.ctx.regionManager.getRegion("series");this.destroyFns.push((()=>this.subManagers.forEach((e=>e.destroy()))),r.addListener("contextmenu",(e=>this.onContextMenu(e)),31),this.ctx.updateService.addListener("pre-scene-render",(()=>this.preSceneRender())))}dataChanged(){for(const e of this.subManagers)e.dataChanged?.()}preSceneRender(){for(const e of this.subManagers)e.preSceneRender?.()}seriesChanged(e){this.series=e;for(const t of this.subManagers)t.seriesChanged(e)}onContextMenu(e){const{Default:t,ContextMenu:i}=Go;let n;if(this.ctx.interactionManager.getState()&(t|i)){const t=Jc(this.series,{x:e.offsetX,y:e.offsetY},"context-menu");t&&(this.ctx.highlightManager.updateHighlight(this.id),n=t.datum)}this.ctx.contextMenuRegistry.dispatchContext("series",e,{pickedNode:n})}},rh=class{constructor(e,t,i){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=i,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,i;const{internalId:n,type:a,rootGroup:s,highlightGroup:r,annotationGroup:o,seriesGrouping:l}=e,{groupIndex:c=n}=l??{};if(null!=this.series[n])throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);0===Object.keys(this.series).length&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal"),(t=this.groups)[a]??(t[a]={});const h=this.lookupIdx(c);let u=this.groups[a][h];return u||(u=(i=this.groups[a])[h]??(i[h]={type:a,id:h,seriesIds:[],group:this.seriesRoot.appendChild(new ca({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new ca({name:`${a}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new ca({name:`${a}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))})),this.series[n]={layerState:u,seriesConfig:e},u.seriesIds.push(n),u.group.appendChild(s),u.highlight.appendChild(r),u.annotation.appendChild(o),u.group}changeGroup(e){const{internalId:t,seriesGrouping:i,type:n,rootGroup:a,highlightGroup:s,annotationGroup:r,oldGrouping:o}=e,{groupIndex:l=t}=i??{};this.groups[n]?.[l]?.seriesIds.includes(t)||(null!=this.series[t]&&this.releaseGroup({internalId:t,seriesGrouping:o,type:n,rootGroup:a,highlightGroup:s,annotationGroup:r}),this.requestGroup(e))}releaseGroup(e){const{internalId:t,rootGroup:i,highlightGroup:n,annotationGroup:a,type:s}=e;if(null==this.series[t])throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const r=this.series[t]?.layerState;if(r&&(r.seriesIds=r.seriesIds.filter((e=>e!==t)),r.group.removeChild(i),r.highlight.removeChild(n),r.annotation.removeChild(a)),0===r?.seriesIds.length)this.seriesRoot.removeChild(r.group),this.highlightRoot.removeChild(r.highlight),this.annotationRoot.removeChild(r.annotation),delete this.groups[r.type][r.id],delete this.groups[s][t];else if(r?.seriesIds.length>0){const e=this.series[r?.seriesIds?.[0]]?.seriesConfig;r.group.zIndexSubOrder=e?.getGroupZIndexSubOrder("data"),r.highlight.zIndexSubOrder=e?.getGroupZIndexSubOrder("highlight"),r.annotation.zIndexSubOrder=e?.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return"normal"===this.mode?e:"string"!==typeof e||(e=Number(e.split("-").at(-1)))?Math.floor(30*me(0,e/this.expectedSeriesCount,1)):0}destroy(){for(const e of Object.values(this.groups))for(const t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},oh=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",(e=>this.positionPadding(e))),this.layoutService.addListener("layout-complete",(e=>this.alignCaptions(e))),this.layoutService.addListener("start-layout",(e=>this.positionCaptions(e))))}destroy(){this.destroyFns.forEach((e=>e()))}positionPadding(e){const{shrinkRect:t}=e,{padding:i}=this.chartLike;return t.shrink(i.left,"left"),t.shrink(i.top,"top"),t.shrink(i.right,"right"),t.shrink(i.bottom,"bottom"),{...e,shrinkRect:t}}positionCaptions(e){const{shrinkRect:t,positions:i,padding:n}=e,{title:a,subtitle:s,footnote:r,titlePadding:o}=this.chartLike,l=t.clone().shrink(o),c=t.clone(),h=e=>{const i=t.height/10,n=e.lineHeight??e.fontSize*Ka.defaultLineHeightRatio,a=t.width,s=Math.max(n,i);e.computeTextWrap(a,s)},u=e=>"left"===e?l.x:"right"===e?l.x+l.width:("center"!==e&&y.error(`invalid textAlign value: ${e}`),l.x+l.width/2),d=(e,t)=>{const i=l.y;e.node.x=u(e.textAlign),e.node.y=i,e.node.textBaseline="top",h(e);const n=e.node.getBBox(),a=Math.ceil(n.y-i+n.height+t);return"block"===e.layoutStyle&&(c.shrink(a+2*o,"top"),l.shrink(a,"top")),n};if(a.node.visible=a.enabled,s.node.visible=s.enabled,r.node.visible=r.enabled,a.enabled){const{spacing:e=(s.enabled?bs.SMALL_PADDING:bs.LARGE_PADDING)}=a;i.title=d(a,e)}return s.enabled&&(i.subtitle=d(s,s.spacing??0)),r.enabled&&(i.footnote=((e,t)=>{const i=l.y+l.height;e.node.x=u(e.textAlign),e.node.y=i,e.node.textBaseline="bottom",h(e);const n=e.node.getBBox(),a=Math.ceil(i-n.y+t);return"block"===e.layoutStyle&&(c.shrink(a+2*o,"bottom"),l.shrink(a,"bottom")),n})(r,r.spacing??0)),n.title=o,{...e,shrinkRect:c,positions:i}}alignCaptions(e){const{rect:t}=e.series,{title:i,subtitle:n,footnote:a,titlePadding:s}=this.chartLike;for(const r of[i,n,a])if("overlay"===r.layoutStyle)if("left"===r.textAlign)r.node.x=t.x+s;else if("right"===r.textAlign){const e=r.node.getBBox();r.node.x=t.x+t.width-e.width-s}}},lh=class{constructor(e,t,i,n){this.chart=e,this.dataService=t,this.updateService=i,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",(()=>this.onDataSourceChange())),this.dataService.addListener("data-load",(()=>this.onDataLoad())),this.dataService.addListener("data-error",(()=>this.onDataError())),this.updateService.addListener("update-complete",(()=>this.onUpdateComplete())),this.zoomManager.addListener("zoom-change",(()=>this.onZoomChange())))}destroy(){this.destroyFns.forEach((e=>e()))}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){(this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow().catch((e=>y.errorOnce(e)))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){if(!this.dataService.isLazy())return;const e=this.getValidAxis();let t,i=!0;if(e){const n=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,n),i=this.shouldRefresh(e,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})}getValidAxis(){return this.chart.axes.find((e=>"time"===e.type))}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(e.id);return(!i||t.min!==i.min||t.max!==i.max)&&(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){const i=e.scale.getDomain?.();if(!t||!i||0===i.length||isNaN(Number(i[0])))return;const n=Number(i[1])-Number(i[0]);return{min:new Date(Number(i[0])+n*t.min),max:new Date(Number(i[0])+n*t.max)}}},ch=class{constructor(e,t,i,n,a,s,r){this.chartLike=e,this.overlays=t,this.dataService=i,this.layoutService=n,this.localeManager=a,this.animationManager=s,this.domManager=r,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(oc),this.destroyFns.push(this.layoutService.addListener("layout-complete",(e=>this.onLayoutComplete(e))))}destroy(){this.destroyFns.forEach((e=>e())),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(e){let{series:{rect:t}}=e;const i=this.dataService.isLoading(),n=this.chartLike.series.some((e=>e.hasData)),a=this.chartLike.series.some((e=>e.visible));this.overlays.darkTheme?this.overlayElem.classList.add(lc):this.overlayElem.classList.remove(lc),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`,this.toggleOverlay(this.overlays.loading,t,i),this.toggleOverlay(this.overlays.noData,t,!i&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,t,n&&!a)}toggleOverlay(e,t,i){if(this.overlayElem.ariaHidden=(!i).toString(),i){const i=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(i)}else e.removeElement((()=>{this.overlayElem.innerText="\xa0"}),this.animationManager)}},hh=va.create(!0,"opts"),uh=class extends wt{constructor(){super(...arguments),this.padding=new Fr(0)}};l([fi(Mi,{optional:!0})],uh.prototype,"clip",2),l([fi(bi)],uh.prototype,"padding",2);var dh=class e extends Br{constructor(e,t){var i,n;super(),i=this,this.id=oe(this),this.seriesRoot=new ca({name:`${this.id}-series-root`}),this.highlightRoot=new ca({name:`${this.id}-highlight-root`,layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new ca({name:`${this.id}-annotation-root`,layer:!0,zIndex:10}),this.debug=va.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Fr(20),this.titlePadding=0,this.seriesArea=new uh,this.title=new bs,this.subtitle=new bs,this.footnote=new bs,this.keyboard=new Ql,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new rc,this.zoomManager=new $l,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new Pr,this.updateRequestors={},this.performUpdateTrigger=_r((function(e){return setTimeout(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}),(async e=>{let{count:t}=e;this.destroyed||this.updateMutex.acquire((async()=>{try{await this.performUpdate(t)}catch(e){y.error("update error",e)}})).catch((e=>y.errorOnce(e)))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=e=>{const t={...e,type:"seriesNodeClick"};Object.defineProperty(t,"series",{enumerable:!1,get:()=>e.series}),this.fireEvent(t)},this.onSeriesNodeDoubleClick=e=>{const t={...e,type:"seriesNodeDoubleClick"};this.fireEvent(t)},this.seriesGroupingChanged=e=>{if(!(e instanceof Xc))return;const{series:t,seriesGrouping:i,oldGrouping:n}=e;null!=t.rootGroup.parent&&this.seriesLayerManager.changeGroup({internalId:t.internalId,type:t.type,rootGroup:t.rootGroup,highlightGroup:t.highlightGroup,annotationGroup:t.annotationGroup,getGroupZIndexSubOrder:e=>t.getGroupZIndexSubOrder(e),seriesGrouping:i,oldGrouping:n})},this.dataProcessListeners=new Set,this.chartOptions=e;const a=t?.scene,s=t?.container,r=new ca({name:"root"}),o=new ca({name:"titles",layer:!0,zIndex:8});r.visible=!1,r.append(o),r.append(this.seriesRoot),r.append(this.highlightRoot),r.append(this.annotationRoot),o.append(this.title.node),o.append(this.subtitle.node),o.append(this.footnote.node);const{overrideDevicePixelRatio:l}=e.specialOverrides;this.tooltip=new xs,this.seriesLayerManager=new rh(this.seriesRoot,this.highlightRoot,this.annotationRoot);const c=this.ctx=new Sl(this,{scene:a,root:r,syncManager:new Kl(this),container:s,updateCallback:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return i.update(e,t)},updateMutex:this.updateMutex,overrideDevicePixelRatio:l});this._destroyFns.push(c.domManager.addListener("resize",(()=>this.parentResize(c.domManager.containerSize)))),this.overlays=new hc,(n=this.overlays.loading).renderer??(n.renderer=()=>function(e,t){const{animationDuration:i}=Zt.add,n=pa("div",`${oc}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${i*t}ms linear 50ms both`}),a=pa("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),s=pa("p",{marginTop:"1em"});s.innerText=e;const r=pa("div",`${oc}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),o=pa("style");return o.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),n.replaceChildren(o,a,s,r),n}(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new oh(this,c.layoutService),new lh(this,c.dataService,c.updateService,c.zoomManager),new ch(this,this.overlays,c.dataService,c.layoutService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new Il,this.container=s;const h=this.getModuleContext();c.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),c.regionManager.addRegion("horizontal-axes"),c.regionManager.addRegion("vertical-axes");const u=this;this.seriesAreaManager=new sh({fireEvent:this.fireEvent.bind(u),get performUpdateType(){return u.performUpdateType}},c,this.getChartType(),this.tooltip,this.highlight,this.overlays),c.regionManager.addRegion("root",r),this._destroyFns.push(c.dataService.addListener("data-load",(e=>{this.data=e.data})),this.title.registerInteraction(h),this.subtitle.registerInteraction(h),this.footnote.registerInteraction(h),c.interactionManager.addListener("page-left",(()=>this.destroy())),c.animationManager.addListener("animation-frame",(()=>{this.update(6)})),c.zoomManager.addListener("zoom-change",(()=>{this.series.map((e=>e.animationState?.transition("updateData")));const e="initial"!==this.chartAnimationPhase;this.update(3,{forceNodeDataRefresh:!0,skipAnimations:e})}))),this.parentResize(c.domManager.containerSize)}static getInstance(t){return e.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,t){this.ctx.scene.download(e,t)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter((e=>e.enabled&&e.text)).map((e=>e.text)).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(e){if(this.destroyed)return;const t=e?.keepTransferableResources;let i;return this.performUpdateType=7,this._destroyFns.forEach((e=>e())),this.processors.forEach((e=>e.destroy())),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),t?(this.ctx.scene.strip(),i={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach((e=>e.destroy())),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),i}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire((async()=>{this.destroyed||(await e(this),this.destroyed||this._pendingFactoryUpdatesCount--)})).catch((e=>y.errorOnce(e))))}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const{forceNodeDataRefresh:i=!1,skipAnimations:n,seriesToUpdate:a=this.series,newAnimationBatch:s}=t??{};i&&this.series.forEach((e=>e.markNodeDataDirty()));for(const r of a)this.seriesToUpdate.add(r);if(n&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),s&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=t?.skipSync??!1,this.debug.check()){let t=(new Error).stack??"<unknown>";t=t.replace(/\([^)]*/g,""),this.updateRequestors[t]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.performUpdateTrigger.schedule(t?.backOffMs))}async performUpdate(e){const{performUpdateType:t,extraDebugStats:i,_performUpdateSplits:n,ctx:a}=this,s=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),0===this.updateShortcutCount&&t<6&&(a.animationManager.startBatch(this._performUpdateSkipAnimations),a.animationManager.onBatchStop((()=>this.chartAnimationPhase="ready"))),this.debug("Chart.performUpdate() - start",vl[t]);let r=performance.now();n.start??(n.start=r);const o=e=>{n[e]??(n[e]=0),n[e]+=performance.now()-r,r=performance.now()};let l=!1;switch(t){case 0:this.updateDOM();case 1:await this.updateData(),o("\u2b07\ufe0f");case 2:await this.processData(),this.seriesAreaManager.dataChanged(),o("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(s)){l=!0;break}await this.processLayout(),o("\u2316");case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:e}=this;await Promise.all(s.map((t=>t.update({seriesRect:e})))),o("\ud83e\udd14");case 5:if(this.checkUpdateShortcut(5))break;a.updateService.dispatchPreSceneRender(this.getMinRects()),o("\u2196");case 6:if(this.checkUpdateShortcut(6))break;a.animationManager.endBatch(),i.updateShortcutCount=this.updateShortcutCount,await a.scene.render({debugSplitTimes:n,extraDebugStats:i,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const t in n)delete n[t];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,a.animationManager.endBatch()}l||a.updateService.dispatchUpdateComplete(this.getMinRects());const c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(c-n.start))/100,count:e,performUpdateType:vl[t]})}updateThemeClassName(){const{theme:e}=this.chartOptions.processedOptions,t="ag-charts-theme-",i=[`${t}default`,`${t}default-dark`];let n=i[0],a=!1;"string"===typeof e?(n=e.replace("ag-",t),a=e.includes("-dark")):"string"===typeof e?.baseTheme&&(n=e.baseTheme.replace("ag-",t),a=e.baseTheme.includes("-dark")),i.includes(n)||(n=a?i[1]:i[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:t}=this.keyboard;this.ctx.domManager.setTabIndex(e?t??0:-1),cs(this.ctx.scene.canvas.element,"role","img"),cs(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(e){return this.updateShortcutCount>3?(y.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e&&(this.updateShortcutCount++,!0)}checkFirstAutoSize(e){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){const t=this._performUpdateNoRenderCount++,i=(t+1)**2*40;if(t<8)return this.update(3,{seriesToUpdate:e,backOffMs:i}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",i),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onAxisChange(e,t){null==t&&0===e.length||this.ctx.axisManager.updateAxes(t??[],e)}onSeriesChange(e,t){const i=t?.filter((t=>!e.includes(t)))??[];this.destroySeries(i),this.seriesLayerManager?.setSeriesCount(e.length);for(const n of e){if(t?.includes(n))continue;null==n.rootGroup.parent&&this.seriesLayerManager.requestGroup(n);const e=this;n.chart={get mode(){return e.mode},get isMiniChart(){return!1},get seriesRect(){return e.seriesRect},placeLabels:()=>e.placeLabels()},n.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(n),n.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(e)}destroySeries(e){e?.forEach((e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0}))}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach((e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(e)}))}assignSeriesToAxes(){this.axes.forEach((e=>{e.boundSeries=this.series.filter((t=>t.axes[e.direction]===e))}))}assignAxesToSeries(){const e=Bn(this.axes,(e=>e.direction));this.series.forEach((t=>{t.directions.forEach((i=>{const n=e[i];if(!n)return void y.warnOnce(`no available axis for direction [${i}]; check series and axes configuration.`);const a=t.getKeys(i),s=n.find((e=>!e.keys.length||a.some((t=>e.keys.includes(t)))));s?t.axes[i]=s:y.warnOnce(`no matching axis for direction [${i}] and keys [${a}]; check series and axes configuration.`)}))}))}parentResize(e){if(null==e||null!=this.width&&null!=this.height)return;let{width:t,height:i}=e;if(t=Math.floor(t),i=Math.floor(i),0===t&&0===i)return;const[n=0,a=0]=this._lastAutoSize??[];n===t&&a===i||(this._lastAutoSize=[t,i],this.resize("SizeMonitor",{}))}resize(e,t){const{scene:i,animationManager:n}=this.ctx,{inWidth:a,inHeight:s,inMinWidth:r,inMinHeight:o}=t;this.ctx.domManager.setSizeOptions(r??this.minWidth,o??this.minHeight,a??this.width,s??this.height);const l=a??this.width??this._lastAutoSize?.[0],c=s??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${e}`,{width:l,height:c,stack:(new Error).stack}),null!=l&&null!=c&&ut(l)&&ut(c)&&i.resize(l,c)){n.reset();let e=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(e=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:e})}}async updateData(){this.series.forEach((e=>e.setChartData(this.data)));const e=this.modulesManager.mapModules((e=>e.updateData?.({data:this.data})));await Promise.all(e)}async processData(){if(this.series.some((e=>e.canHaveAxes))){this.assignAxesToSeries();const e=this.modulesManager.getModule("sync");e?.enabled?e.syncAxes(this._skipSync):this.assignSeriesToAxes()}const e=new zl(this.mode),t=this.series.map((t=>t.processData(e))),i=this.modulesManager.mapModules((t=>t.processData?.({dataController:e})));e.execute(),await Promise.all([...t,...i]);for(const{legendType:n,legend:a}of this.modulesManager.legends())a.data=this.getLegendData(n,"integrated"!==this.mode);this.dataProcessListeners.forEach((e=>e())),this.dataProcessListeners.clear()}placeLabels(){const e=[],t=[];for(const c of this.series){if(!c.visible)continue;const n=c.getLabelData();i=n?.[0],null!=i&&"object"===typeof i.point&&"object"===typeof i.label&&(t.push(n),e.push(c))}var i;const{seriesRect:n}=this,{top:a,right:s,bottom:r,left:o}=this.seriesArea.padding,l=n&&t.length>0?function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=[];e=e.map((e=>e.slice().sort(((e,t)=>t.point.size-e.point.size))));for(let l=0;l<e.length;l++){const c=n[l]=[],h=e[l];if(h?.length&&h[0].label)for(let l=0,u=h.length;l<u;l++){const u=h[l],{point:d,label:p,marker:g}=u,{text:f,width:m,height:y}=p,x=.5*d.size;let b=0,v=0;if(x>0&&null!=u.placement){const e=Qa[u.placement];b=(.5*m+x+i)*e.x,v=(.5*y+x+i)*e.y}const M=d.x-.5*m+b-((g?.center.x??.5)-.5)*d.size,S=d.y-.5*y+v-((g?.center.y??.5)-.5)*d.size;(!t||(r=S,o=y,(s=M)+m<(a=t).x+a.width&&s>a.x&&r>a.y&&r+o<a.y+a.height))&&(e.some((e=>e.some((e=>$a(e.point,e.marker?.center,M,S,m,y)))))||n.some((e=>e.some((e=>Xa(e,M,S,m,y)))))||c.push({index:l,text:f,x:M,y:S,width:m,height:y,datum:u}))}}var a,s,r,o;return n}(t,{x:-o,y:-a,width:n.width+o+s,height:n.height+a+r}):[];return new Map(l.map(((t,i)=>[e[i],t])))}getLegendData(e,t){var i;const n=this.series.filter((e=>e.properties.showInLegend)).flatMap((t=>t.getLegendData(e)));if(t&&n.every((e=>"category"===e.legendType))){const e={},t=new Map(this.series.map((e=>[e.id,e.type])));for(const{seriesId:a,symbols:[{marker:s}],label:r}of n){if(null==s.fill)continue;const n=t.get(a),o=e[n]??(e[n]={});o[i=r.text]??(o[i]=s.fill),o[r.text]!==s.fill&&y.warnOnce(`legend item '${r.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return n}async processLayout(){const e=this.animationRect;await this.performLayout(),e&&!this.animationRect?.equals(e)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async performLayout(){const{width:e,height:t}=this.ctx.scene;let i={shrinkRect:new Ae(0,0,e,t),positions:{},padding:{}};i=this.ctx.layoutService.dispatchPerformLayout("start-layout",i),i=this.ctx.layoutService.dispatchPerformLayout("before-series",i);for(const n of this.modulesManager.modules())null!=n.performLayout&&(i=await n.performLayout(i));return i.shrinkRect}async waitForUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();7!==this.performUpdateType;){if(performance.now()-i>e){const i=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(t)throw new Error(i);y.warnOnce(i)}await jr(50)}await this.updateMutex.waitForClearAcquireQueue()}waitForDataProcess(e){return new Promise((t=>{this.dataProcessListeners.add(t),ht(e)&&setTimeout((()=>{this.dataProcessListeners.has(t)&&(this.dataProcessListeners.delete(t),t())}),e)}))}getMinRects(){const{width:e,height:t}=this.ctx.scene,i=this.series.map((i=>i.getMinRects(e,t))).filter(Je);if(0===i.length)return;let n=0,a=0,s=0,r=0;for(const{minRect:c,minVisibleRect:h}of i)n=Math.max(n,c.width),a=Math.max(a,c.height),s=Math.max(s,h.width),r=Math.max(r,h.height);const o=new Ae(0,0,n,a);let l=o.clone();return s>0&&r>0&&(l=new Ae(0,0,s,r)),{minRect:o,minVisibleRect:l}}filterMiniChartSeries(e){return e?.filter((e=>!1!==e.showInMiniChart))}applyOptions(e){const t=e!==this.chartOptions?this.chartOptions.processedOptions:{},i=e.processedOptions,n=e.diffOptions(t);if(null==n)return;hh("Chart.applyOptions() - applying delta",n);const a=this.applyModules(i);n.listeners&&this.registerListeners(this,n.listeners),Rt(this,n,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState"]});let s=!1,r="no-op";null!=n.series&&(r=this.applySeries(this,n.series,t?.series),s=!0),"replaced"===r&&this.resetAnimations(),this.applyAxes(this,i,t,r,[],!0)&&(s=!0),n.data&&(this.data=n.data),n.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,n.legend.listeners),n.listeners&&this.updateAllSeriesListeners(),n.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=n.locale?.localeText),this.chartOptions=e;const o=this.modulesManager.getModule("navigator"),l=this.modulesManager.getModule("zoom");o?.enabled||l?.enabled||this.ctx.zoomManager.updateZoom("chart");const c=o?.miniChart,h=i.navigator?.miniChart?.series??i.series;!0===c?.enabled&&null!=h?this.applyMiniChartOptions(c,h,i,t):!1===c?.enabled&&(c.series=[],c.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),s||(s=this.shouldForceNodeDataRefresh(n,r));const u=s||a?0:3;this.maybeResetAnimations(r),hh("Chart.applyOptions() - update type",vl[u],{seriesStatus:r,forceNodeDataRefresh:s}),this.update(u,{forceNodeDataRefresh:s,newAnimationBatch:!0}),n.initialState&&this.applyInitialState(e.userOptions.initialState)}applyInitialState(e){const{ctx:{annotationManager:t,stateManager:i}}=this;if(null!=e?.annotations){const n=e.annotations.map((e=>yt(e,t.getAnnotationTypeStyles(e.type))));i.setState(t,n)}}maybeResetAnimations(e){if("standalone"===this.mode)switch(e){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(e,t){const i=!!e.data||"data-change"===t||"replaced"===t,n=Gl.getKeys(),a=Object.values(n).some((t=>null!=e[t])),s=null!=e.title&&null!=e.subtitle;return i||a||s}applyMiniChartOptions(e,t,i,n){const a=n?.navigator?.miniChart?.series??n?.series,s=this.applySeries(e,this.filterMiniChartSeries(t),this.filterMiniChartSeries(a));this.applyAxes(e,i,n,s,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const r=e.axes,o=r.find((e=>"x"===e.direction));for(const l of r)l.gridLine.enabled=!1,l.label.enabled=l===o,l.tick.enabled=!1,l.interactionEnabled=!1;if(null!=o){const e=i.navigator?.miniChart,t=e?.label,n=e?.label?.interval;o.line.enabled=!1,o.label.set(vt(t,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),o.tick.set(vt(n,["enabled","width","size","color","interval","step"]));const a=n?.step;null!=a&&(o.interval.step=a)}}applyModules(e){const{type:t}=this.constructor;let i=!1;for(const n of zr.byType("root","legend")){const a=null!=e[n.optionsKey]&&n.chartTypes.includes(t);a!==this.modulesManager.isEnabled(n)&&(a?(this.modulesManager.addModule(n,(e=>e.moduleFactory(this.getModuleContext()))),"legend"===n.type&&this.modulesManager.getModule(n)?.attachLegend(this.ctx.scene),this[n.optionsKey]=this.modulesManager.getModule(n)):(this.modulesManager.removeModule(n),delete this[n.optionsKey]),i=!0)}return i}applySeries(e,t,i){if(!t)return"no-change";const n=function(e,t,i){const n=(e,t,i)=>{const n=[e];for(const a of Jl)a in t&&null!=t[a]&&n.push(`${a}=${t[a]}`);return i?.seriesGrouping&&n.push(`seriesGrouping.groupId=${i?.seriesGrouping.groupId}`),n.join(";")},a=new Map;let s=0;for(const c of e){const e=n(c.type,c.properties,i?.[s]);a.has(e)||a.set(e,[]),a.get(e)?.push([c,s++])}const r=new Map;for(const c of t){const e=n(c.type,c,c);r.has(e)||r.set(e,[]),r.get(e)?.push(c)}if(![...a.keys()].some((e=>r.has(e))))return{status:"no-overlap",oldKeys:a.keys(),newKeys:r.keys()};const o=[];let l=-1;for(const[c,h]of r.entries())for(const e of h){l++;const t=a.get(c);if(null==t||t.length<1){o.push({opts:e,idx:l,status:"add"}),a.delete(c);continue}const[n,s]=t.shift(),r=At(i?.[s]??{},e??{}),{groupIndex:h,stackIndex:u}=r?.seriesGrouping??{};null!=h||null!=u?o.push({opts:e,series:n,diff:r,idx:s,status:"series-grouping"}):r?o.push({opts:e,series:n,diff:r,idx:s,status:"update"}):o.push({opts:e,series:n,idx:s,status:"no-op"}),0===t.length&&a.delete(c)}for(const c of a.values())for(const[e,t]of c)o.push({series:e,idx:t,status:"remove"});return{status:"overlap",changes:o}}(e.series,t,i);if("no-overlap"===n.status)return hh(`Chart.applySeries() - creating new series instances, status: ${n.status}`,n),e.series=t.map((e=>this.createSeries(e))),"replaced";hh("Chart.applySeries() - matchResult",n);const a=[];let s=!1,r=!1,o=!1;for(const l of n.changes)switch(r||(r="series-grouping"===l.status),s||(s=null!=l.diff?.data),o||(o="no-op"!==l.status),l.status){case"add":const e=this.createSeries(l.opts);a.push(e),hh("Chart.applySeries() - created new series",e);break;case"remove":hh(`Chart.applySeries() - removing series at previous idx ${l.idx}`,l.series);break;case"no-op":a.push(l.series),hh(`Chart.applySeries() - no change to series at previous idx ${l.idx}`,l.series);break;default:const{series:t,diff:i,idx:n}=l;hh(`Chart.applySeries() - applying series diff previous idx ${n}`,i,t),this.applySeriesValues(t,i),t.markNodeDataDirty(),a.push(t)}for(let l=0;l<a.length;l++)a[l]._declarationOrder=l;return hh("Chart.applySeries() - final series instances",a),e.series=a,r?"series-grouping-change":s?"data-change":o?"updated":"no-op"}applyAxes(e,t,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!("axes"in t)||!t.axes)return!1;a=["axes[].type",...a];const{axes:r}=t;if(!("replaced"===n)&&e.axes.length===r.length&&e.axes.every(((e,t)=>e.type===r[t].type))&&tc(i))return e.axes.forEach(((e,t)=>{const n=At(i.axes?.[t]??{},r[t]);hh(`Chart.applyAxes() - applying axis diff idx ${t}`,n);Rt(e,n,{path:`axes[${t}]`,skip:a})})),!0;hh(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${n}`),e.axes=this.createAxis(r,a);const o={x:[],y:[]};return e.axes.forEach((e=>o[e.direction].push(e.getRegionBBoxProvider()))),s&&(this.ctx.regionManager.updateRegion("horizontal-axes",...o.x),this.ctx.regionManager.updateRegion("vertical-axes",...o.y)),!0}createSeries(e){const t=Hl.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(t,e),this.applySeriesValues(t,e),t}applySeriesOptionModules(e,t){const i=e.createModuleContext(),n=e.getModuleMap();for(const a of zr.byType("series-option"))a.optionsKey in t&&a.seriesTypes.includes(e.type)&&n.addModule(a,(e=>e.moduleFactory(i)))}applySeriesValues(e,t){const i=e.getModuleMap(),{type:n,data:a,listeners:s,seriesGrouping:r,showInMiniChart:o,...l}=t;for(const c of Pl)if("series-option"===c.type&&c.optionsKey in l){const e=i.getModule(c.optionsKey);if(e){const t=l[c.optionsKey];delete l[c.optionsKey],e.properties.set(t)}}e.properties.set(l),"data"in t&&e.setOptionsData(a),s&&this.registerListeners(e,s),"seriesGrouping"in t&&(e.seriesGrouping=null==r?void 0:{...e.seriesGrouping,...r})}createAxis(e,t){const i=[],n=this.getModuleContext();for(let a=0;a<e.length;a++){const s=e[a],r=jl.create(s.type,n);this.applyAxisModules(r,s),Rt(r,s,{path:`axes[${a}]`,skip:t}),i.push(r)}return function(e){const t=[],i=[],n=[...ql];for(const s of e)s instanceof br&&("string"===typeof(a=s.position)&&ql.includes(a)?i.push(s.position):t.push(s));var a;for(const s of t){let e;do{e=n.pop()}while(e&&i.includes(e));if(null==e)break;s.position=e}}(i),i}applyAxisModules(e,t){const i=e.createModuleContext(),n=e.getModuleMap();for(const a of zr.byType("axis-option")){const s=null!=t[a.optionsKey];s!==n.isEnabled(a)&&(s?(n.addModule(a,(e=>e.moduleFactory(i))),e[a.optionsKey]=n.getModule(a)):(n.removeModule(a),delete e[a.optionsKey]))}}registerListeners(e,t){e.clearEventListeners();for(const[i,n]of Object.entries(t))st(n)&&e.addEventListener(i,n)}};dh.chartsInstances=new WeakMap,l([is({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),dh.chartsInstances.set(e,this))},oldValue(e){dh.chartsInstances.delete(e)}})],dh.prototype,"container",2),l([is({newValue(e){this.resize("width option",{inWidth:e})}})],dh.prototype,"width",2),l([is({newValue(e){this.resize("height option",{inHeight:e})}})],dh.prototype,"height",2),l([is({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],dh.prototype,"minWidth",2),l([is({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],dh.prototype,"minHeight",2),l([fi(bi)],dh.prototype,"padding",2),l([fi(Di)],dh.prototype,"titlePadding",2),l([fi(bi)],dh.prototype,"seriesArea",2),l([fi(bi)],dh.prototype,"title",2),l([fi(bi)],dh.prototype,"subtitle",2),l([fi(bi)],dh.prototype,"footnote",2),l([fi(bi)],dh.prototype,"keyboard",2),l([fi(rn(["standalone","integrated"],"a chart mode"))],dh.prototype,"mode",2),l([is({changeValue(e,t){this.onAxisChange(e,t)}})],dh.prototype,"axes",2),l([is({changeValue(e,t){this.onSeriesChange(e,t)}})],dh.prototype,"series",2);var ph=dh,gh=class{constructor(e,t,i){this.root=new yh(e,t,i)}clear(e){this.root.clear(e)}addValue(e,t){const i={hitTester:e,value:t,distanceSquared:(t,i)=>e.distanceSquared(t,i)};this.root.addElem(i)}find(e,t){const i={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,i),i.best}},fh=class{constructor(e,t,i,n){this.nw=e,this.ne=t,this.sw=i,this.se=n}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,i){this.nw.find(e,t,i),this.ne.find(e,t,i),this.sw.find(e,t,i),this.se.find(e,t,i)}},mh=class{constructor(e,t,i){this.capacity=e,this.maxdepth=t,this.boundary=i??Ae.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,i){this.findCondition(e,t,i)&&(void 0===this.subdivisions?this.findAction(e,t,i):this.subdivisions.find(e,t,i))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:i,height:n}=this.boundary,{capacity:a}=this,s=this.maxdepth-1,r=i/2,o=n/2,l=new Ae(e,t,r,o),c=new Ae(e+r,t,r,o),h=new Ae(e,t+o,r,o),u=new Ae(e+r,t+o,r,o);return new fh(this.child(a,s,l),this.child(a,s,c),this.child(a,s,h),this.child(a,s,u))}},yh=class e extends mh{addCondition(e){const{x:t,y:i}=e.hitTester.midPoint;return this.boundary.containsPoint(t,i)}findCondition(e,t,i){const{best:n}=i;return 0!==n.distanceSquared&&this.boundary.distanceSquared(e,t)<n.distanceSquared}findAction(e,t,i){const n=ge(e,t,this.elems,i.best.distanceSquared);void 0!==n.nearest&&n.distanceSquared<i.best.distanceSquared&&(i.best=n)}child(t,i,n){return new e(t,i,n)}},xh=class extends Mo{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:e,y:t,size:i}=this,{center:n}=this.constructor;return new Ae(e-i*n.x,t-i*n.y,i,i)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(e,t){const{path:i}=this;let{x:n,y:a}=this;null!=this.repeat&&(n=0,a=0),i.clear();for(const{x:s,y:r,t:o}of t)n+=s*e,a+=r*e,"move"===o?i.moveTo(n,a):i.lineTo(n,a);i.closePath()}executeFill(e,t){if(!t)return;if(null==this.repeat)return super.executeFill(e,t);e.save();let i=this.translationX,n=this.translationY;for(const a of this.repeat)e.translate(a.x-i,a.y-n),e.fill(t),i=a.x,n=a.y;e.restore()}executeStroke(e,t){if(!t)return;if(null==this.repeat)return super.executeStroke(e,t);e.save();let i=this.translationX,n=this.translationY;for(const a of this.repeat)e.translate(a.x-i,a.y-n),e.stroke(t),i=a.x,n=a.y;e.restore()}};xh.center={x:.5,y:.5},l([vo()],xh.prototype,"x",2),l([vo()],xh.prototype,"y",2),l([vo({convertor:Math.abs})],xh.prototype,"size",2),l([vo()],xh.prototype,"repeat",2);var bh=class extends xh{updatePath(){const{x:e,y:t,path:i,size:n}=this,a=n/2;i.clear(),i.arc(e,t,a,0,2*Math.PI),i.closePath()}};bh.className="Circle";var vh=class e extends xh{updatePath(){const t=this.size/4.2;super.applyPath(t,e.moves)}};vh.className="Cross",vh.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var Mh=vh,Sh=class e extends xh{updatePath(){const t=this.size/2;super.applyPath(t,e.moves)}};Sh.className="Diamond",Sh.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var Ih=Sh,Dh=class extends xh{rad(e){return e/180*Math.PI}updatePath(){const{x:e,path:t,size:i,rad:n}=this,a=i/4,s=this.y+a/2;t.clear(),t.arc(e-a,s-a,a,n(130),n(330)),t.arc(e+a,s-a,a,n(220),n(50)),t.lineTo(e,s+a),t.closePath()}};Dh.className="Heart";var wh=class extends xh{updatePath(){const{path:e,x:t,y:i}=this,n=this.size,a=.5;e.clear(),e.moveTo(t+-.34375*n,i+-.65625*n),e.cubicCurveTo(t+-.34375*n,i+-.848509*n,t+-.192259*n,i+-1*n,t+0*n,i+-1*n),e.cubicCurveTo(t+(.692259-a)*n,i+-1*n,t+.34375*n,i+-.848509*n,t+.34375*n,i+-.65625*n),e.cubicCurveTo(t+.34375*n,i+-.506176*n,t+.284625*n,i+(.600181-1)*n,t+(.716461-a)*n,i+(.695393-1)*n),e.cubicCurveTo(t+.199009*n,i+-.280231*n,t+(.681271-a)*n,i+-.256896*n,t+(.663785-a)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.611893-a)*n,i+(.834367-1)*n,t+(.562228-a)*n,i+(.899699-1)*n,t+(.528896-a)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.524075-a)*n,i+(.992358-1)*n,t+(.512663-a)*n,i+0*n,t+0*n,i+0*n),e.cubicCurveTo(t+(.487337-a)*n,i+0*n,t+(.475925-a)*n,i+(.992358-1)*n,t+(.471104-a)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.487337-a)*n,i+0*n,t+(.475925-a)*n,i+(.992358-1)*n,t+(.471104-a)*n,i+(.980648-1)*n),e.cubicCurveTo(t+(.437772-a)*n,i+(.899699-1)*n,t+(.388107-a)*n,i+(.834367-1)*n,t+(.336215-a)*n,i+(.766105-1)*n),e.cubicCurveTo(t+(.318729-a)*n,i+-.256896*n,t+-.199009*n,i+-.280231*n,t+(.283539-a)*n,i+(.695393-1)*n),e.cubicCurveTo(t+-.284625*n,i+(.600181-1)*n,t+-.34375*n,i+-.506176*n,t+-.34375*n,i+-.65625*n),e.closePath()}};wh.className="MapPin",wh.center={x:.5,y:1};var kh=class e extends xh{updatePath(){const t=this.size/3;super.applyPath(t,e.moves)}};kh.className="Plus",kh.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var Nh=kh,Lh=class extends xh{updatePath(){const{path:e,x:t,y:i}=this,n=this.size/2;e.clear(),e.moveTo(this.align(t-n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i-n)),e.lineTo(this.align(t+n),this.align(i+n)),e.lineTo(this.align(t-n),this.align(i+n)),e.closePath()}};Lh.className="Square";var Ah=class extends xh{updatePath(){const{x:e,y:t,path:i,size:n}=this,a=n/2,s=Math.PI/2;i.clear();for(let r=0;r<10;r++){const o=r%2===0?n:a,l=r*Math.PI/5-s,c=e+Math.cos(l)*o,h=t+Math.sin(l)*o;i.lineTo(c,h)}i.closePath()}};Ah.className="Star";var Ch=class e extends xh{updatePath(){const t=1.1*this.size;super.applyPath(t,e.moves)}};Ch.className="Triangle",Ch.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var Th=Ch,Eh={circle:bh,cross:Mh,diamond:Ih,heart:Dh,pin:wh,plus:Nh,square:Lh,star:Ah,triangle:Th},Rh=Object.keys(Eh);function Oh(e){return"string"===typeof e&&Rh.includes(e)}function zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lh;return Oh(e)?Eh[e]:"function"===typeof e?e:Lh}var jh=class extends Qc{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation(e){let{xScale:t,yScale:i}=e;return{isContinuousX:xn.is(t),isContinuousY:xn.is(i),xScaleType:t?.type,yScaleType:i?.type}}getModulePropertyDefinitions(){const e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules((i=>i.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t})))).flat()}async requestDataModel(e,t,i){i.props.push(...this.getModulePropertyDefinitions());const{dataModel:n,processedData:a}=await e.request(this.id,t??[],i);return this.dataModel=n,this.processedData=a,this.dispatch("data-processed",{dataModel:n,processedData:a}),{dataModel:n,processedData:a}}isProcessedDataAnimatable(){const e=this.processedData?.reduced?.animationValidation;if(!e)return!0;const{orderedKeys:t,uniqueKeys:i}=e;return t&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(void 0===t||0===t.length)return;const i=this.computeFocusDatumIndex(e,t);if(void 0===i)return;const{showFocusBox:n}=this,a=t[i],s={...e,datumIndex:i},r=this.computeFocusBounds(s);return void 0!==r?{bounds:r,showFocusBox:n,datum:a,datumIndex:i}:void 0}computeFocusDatumIndex(e,t){const i=e=>{const{missing:i=!1,enabled:n=!0,focusable:a=!0}=t[e];return!i&&n&&a},n=e=>{for(;e>=0&&!i(e);)e--;return-1===e?void 0:e},a=e=>{for(;e<t.length&&!i(e);)e++;return e===t.length?void 0:e};let s;const r=me(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?s=n(r):e.datumIndexDelta>0?s=a(r):(s??(s=a(r)),s??(s=n(r))),void 0===s?0===e.datumIndexDelta?void 0:e.datumIndex-e.datumIndexDelta:s}},Ph=class extends wt{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};l([fi(Bi,{optional:!0})],Ph.prototype,"fill",2),l([fi(Ni,{optional:!0})],Ph.prototype,"fillOpacity",2),l([fi(Bi,{optional:!0})],Ph.prototype,"stroke",2),l([fi(ki,{optional:!0})],Ph.prototype,"strokeWidth",2),l([fi(Ni,{optional:!0})],Ph.prototype,"strokeOpacity",2),l([fi(Zi,{optional:!0})],Ph.prototype,"lineDash",2),l([fi(ki,{optional:!0})],Ph.prototype,"lineDashOffset",2);var Bh=class extends wt{};l([fi(ki,{optional:!0})],Bh.prototype,"strokeWidth",2),l([fi(Ni,{optional:!0})],Bh.prototype,"dimOpacity",2),l([fi(Mi,{optional:!0})],Bh.prototype,"enabled",2);var Fh=class extends wt{constructor(){super(...arguments),this.color="black"}};l([fi(Bi,{optional:!0})],Fh.prototype,"color",2);var Gh=class extends wt{constructor(){super(...arguments),this.enabled=!0}};l([fi(Mi,{optional:!0})],Gh.prototype,"enabled",2);var _h=class extends wt{constructor(){super(...arguments),this.item=new Ph,this.series=new Bh,this.text=new Fh}};l([fi(bi)],_h.prototype,"item",2),l([fi(bi)],_h.prototype,"series",2),l([fi(bi)],_h.prototype,"text",2);var Uh=class extends wt{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Gh,this.highlightStyle=new _h}};l([fi(Ii,{optional:!0})],Uh.prototype,"id",2),l([fi(Mi)],Uh.prototype,"visible",2),l([fi(Mi)],Uh.prototype,"showInLegend",2),l([fi(Ii)],Uh.prototype,"cursor",2),l([fi(an)],Uh.prototype,"nodeClickRange",2),l([fi(bi)],Uh.prototype,"highlight",2),l([fi(bi)],Uh.prototype,"highlightStyle",2);var Yh={x:["xKey"],y:["yKey"]},Vh={x:["xName"],y:["yName"]},Wh=class extends $c{constructor(e,t,i,n){super(e,t,i,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},Hh=class extends Uh{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};l([fi(Ii,{optional:!0})],Hh.prototype,"legendItemName",2),l([fi(Mi,{optional:!0})],Hh.prototype,"pickOutsideVisibleMinorAxis",2);var Zh=class extends jh{constructor(e){let{pathsPerSeries:t=["path"],hasMarkers:i=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:a=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:l,directionKeys:c,directionNames:h,...u}=e;if(super({directionKeys:c,directionNames:h,canHaveAxes:!0,...u}),this.NodeEvent=Wh,this.dataNodeGroup=this.contentGroup.appendChild(new ca({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new ca({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new ca({name:`${this.id}-series-labels`,zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=Ma.select(this.labelGroup,Ka),this.highlightSelection=Ma.select(this.highlightNode,(()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory())),this.highlightLabelSelection=Ma.select(this.highlightLabel,Ka),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=va.create(),!c||!h)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,hasMarkers:i,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:a,directionKeys:c,directionNames:h,animationResetFns:l,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=[];for(let d=0;d<t.length;d++)this.paths[d]=new Mo({name:`${this.id}-${t[d]}`}),this.paths[d].zIndex=4,this.paths[d].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",d),this.contentGroup.appendChild(this.paths[d]);this.datumSelection=Ma.select(this.dataNodeGroup,(()=>this.nodeFactory()),s),this.markerSelection=Ma.select(this.markerGroup,(()=>this.markerFactory()),r),this.animationState=new os("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:e=>this.resetAllAnimation(e),reset:"empty"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e?this.animationState.transition("skip"):"disabled"===e&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",(e=>this.onLegendItemClick(e))),this.ctx.chartEventManager.addListener("legend-item-double-click",(e=>this.onLegendItemDoubleClick(e))))}destroy(){super.destroy(),this._contextNodeData=void 0}async update(e){let{seriesRect:t}=e;const{visible:i,_contextNodeData:n}=this,a=this.ctx.highlightManager?.getActiveHighlight()?.series,s=a===this,r=this.checkResize(t),o=await this.updateHighlightSelection(s);await this.updateSelections(i),await this.updateNodes(o,s,i);const l=this.getAnimationData(t,n);l&&(r&&this.animationState.transition("resize",l),this.animationState.transition("update",l))}async updateSelections(e){var t;const i=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if((e||!i)&&(this.nodeDataRefresh||this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=e)),this.minRectsCache.dirtyNodeData=!0;const{dataModel:i,processedData:n}=this;void 0!==i&&void 0!==n&&this.dispatch("data-update",{dataModel:i,processedData:n})}await this.updateSeriesSelections()}}async updateSeriesSelections(e){const{datumSelection:t,labelSelection:i,markerSelection:n,paths:a}=this,s=this._contextNodeData;if(!s)return;const{nodeData:r,labelData:o,itemId:l}=s;await this.updatePaths({seriesHighlighted:e,itemId:l,contextData:s,paths:a}),this.datumSelection=await this.updateDatumSelection({nodeData:r,datumSelection:t}),this.labelSelection=await this.updateLabelSelection({labelData:o,labelSelection:i}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:r,markerSelection:n}))}markerFactory(){return new(zh())}getGroupZIndexSubOrder(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=super.getGroupZIndexSubOrder(e,t);if("paths"===e){const[e]=i,n=this.opts.pathsZIndexSubOrderOffset[t]??0;i[0]=st(e)?()=>Number(e())+n:Number(e)+n}return i}async updateNodes(e,t,i){const{highlightSelection:n,highlightLabelSelection:a,opts:{hasMarkers:s,hasHighlightedLabels:r}}=this,o=!this.ctx.animationManager.isSkipped(),l=this.visible&&null!=this._contextNodeData&&i;this.rootGroup.visible=o||l,this.contentGroup.visible=o||l,this.highlightGroup.visible=(o||l)&&t;const c=this.getOpacity();s?(await this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(await this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),r&&await this.updateLabelNodes({labelSelection:a});const{dataNodeGroup:h,markerGroup:u,datumSelection:d,labelSelection:p,markerSelection:g,paths:f,labelGroup:m}=this,{itemId:y}=this.contextNodeData??{};h.opacity=c,h.visible=o||l,m.visible=l,s&&(u.opacity=c,u.zIndex=h.zIndex>=4?h.zIndex:h.zIndex+1,u.visible=l),m&&(m.opacity=c),await this.updatePathNodes({seriesHighlighted:t,itemId:y,paths:f,opacity:c,visible:l,animationEnabled:o}),h.visible&&(await this.updateDatumNodes({datumSelection:d,highlightedItems:e,isHighlight:!1}),await this.updateLabelNodes({labelSelection:p}),s&&await this.updateMarkerNodes({markerSelection:g,isHighlight:!1}))}getHighlightLabelData(e,t){const i=e.filter((e=>e.datum===t.datum&&e.itemId===t.itemId));return 0===i.length?void 0:i}getHighlightData(e,t){return t?[t]:void 0}async updateHighlightSelection(e){const{highlightSelection:t,highlightLabelSelection:i,_contextNodeData:n}=this;if(!n)return;const a=this.ctx.highlightManager?.getActiveHighlight(),s=e&&a?.datum?a:void 0;let r,o;if(null!=s){const e=this.isLabelEnabled(),{labelData:t,nodeData:i}=n;o=this.getHighlightData(i,s),r=e?this.getHighlightLabelData(t,s):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:o,highlightSelection:t}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:r,highlightLabelSelection:i}),o}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)!0!==e.datum.missing&&(yield e)}getQuadTree(){if(void 0===this.quadtree){const{width:e,height:t}=this.ctx.scene.canvas,i=new Ae(0,0,e,t);this.quadtree=new gh(100,10,i),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){const t=super.pickNodeExactShape(e);if(t)return t;const{x:i,y:n}=e,{opts:{hasMarkers:a}}=this;let s;const{dataNodeGroup:r,markerGroup:o}=this;if(s=r.pickNode(i,n),!s&&a&&(s=o?.pickNode(i,n)),s&&!0!==s.datum.missing)return{datum:s.datum,distance:0};for(const l of this.moduleMap.modules()){const{datum:t}=l.pickNodeExact(e)??{};if(null!=t&&!0!==t?.missing)return{datum:t,distance:0}}}pickNodeClosestDatum(e){const{x:t,y:i}=e,{axes:n,rootGroup:a,_contextNodeData:s}=this;if(!s)return;const r=n.x,o=n.y,l=a.transformPoint(t,i);let c,h=1/0;for(const u of s.nodeData){const{point:{x:e=NaN,y:t=NaN}={}}=u;if(isNaN(e)||isNaN(t))continue;if(!(r?.inRange(e)&&o?.inRange(t)))continue;const i=Math.max((l.x-e)**2+(l.y-t)**2,0);i<h&&(h=i,c=u)}for(const u of this.moduleMap.modules()){const t=u.pickNodeNearest(e);if(void 0!==t&&t.distanceSquared<h){h=t.distanceSquared,c=t.datum;break}}if(c){return{datum:c,distance:Math.max(Math.sqrt(h)-(c.point?.size??0),0)}}}pickNodeMainAxisFirst(e,t){const{x:i,y:n}=e,{axes:a,rootGroup:s,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;const l=a.x,c=a.y,h=[l,c].filter((e=>e instanceof vr)).map((e=>e.direction));if(t&&0===h.length)return;const[u="x"]=h,d=s.transformPoint(i,n),p=[d.x,d.y];"x"!==u&&p.reverse();const g=[1/0,1/0];let f;for(const m of r.nodeData){const{x:e=NaN,y:t=NaN}=m.point??m.midPoint??{};if(isNaN(e)||isNaN(t)||!0===m.missing)continue;const i=[l?.inRange(e),c?.inRange(t)];if("x"!==u&&i.reverse(),!i[0]||!o&&!i[1])continue;const n=[e,t];"x"!==u&&n.reverse();let a=!0;for(let s=0;s<n.length;s++){const e=Math.abs(n[s]-p[s]);if(e>g[s]){a=!1;break}e<g[s]&&(g[s]=e,g.fill(1/0,s+1,g.length))}a&&(f=m)}if(f){let t=Math.max(g[0]**2+g[1]**2-(f.point?.size??0),0);for(const i of this.moduleMap.modules()){const n=i.pickNodeMainAxisFirst(e);if(void 0!==n&&n.distanceSquared<t){f=n.datum,t=n.distanceSquared;break}}return{datum:f,distance:Math.sqrt(t)}}}onLegendItemClick(e){const{legendItemName:t}=this.properties,{enabled:i,itemId:n,series:a}=e,s=null!=t&&t===e.legendItemName;(a.id===this.id||s)&&this.toggleSeriesItem(n,i)}onLegendItemDoubleClick(e){const{enabled:t,itemId:i,series:n,numVisibleItems:a}=e,{legendItemName:s}=this.properties,r=null!=s&&s===e.legendItemName;n.id===this.id||r||t&&1===a?this.toggleSeriesItem(i,!0):this.toggleSeriesItem(i,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){const{dirtyNodeData:i,sizeCache:n,minRect:a,minVisibleRect:s}=this.minRectsCache,r=JSON.stringify({width:e,height:t});if(!(r!==n)&&!i&&a&&s)return{minRect:a,minVisibleRect:s};const o=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:r,minRect:o?.minRect,minVisibleRect:o?.minVisibleRect},o}computeMinRects(e,t){const i=this._contextNodeData;if(!i?.nodeData.length)return;const{nodeData:n}=i,a=Array(n.length),s=Array(n.length);for(const[m,{midPoint:y}]of n.entries())a[m]=y?.x??0,s[m]=y?.y??0;let r,o,l,c;a.sort(((e,t)=>e-t)),s.sort(((e,t)=>e-t));let h=0,u=0;for(let m=1;m<n.length;m++)a[m]>=0&&(r??(r=m)),a[m]>e&&(o??(o=m)),s[m]>=0&&(l??(l=m)),s[m]>t&&(c??(c=m)),h=Math.max(h,a[m]-a[m-1]),u=Math.max(u,s[m]-s[m-1]);o??(o=n.length),c??(c=n.length);const d=null!=r&&null!=o?a.slice(r,o):[],p=null!=l&&null!=c?s.slice(l,c):[];let g=0,f=0;for(let m=1;m<Math.max(d.length,p.length);m++){const e=d[m],t=d[m-1],i=p[m],n=p[m-1];null!=e&&null!=t&&(g=Math.max(g,e-t)),null!=i&&null!=n&&(f=Math.max(f,i-n))}return{minRect:new Ae(0,0,h,u),minVisibleRect:new Ae(0,0,g,f)}}updateHighlightSelectionItem(e){const{opts:{hasMarkers:t}}=this,{items:i,highlightSelection:n}=e,a=i??[];if(t){const e=n;return this.updateMarkerSelection({nodeData:a,markerSelection:e})}return this.updateDatumSelection({nodeData:a,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}async updateDatumSelection(e){return e.datumSelection}async updateDatumNodes(e){}async updateMarkerSelection(e){return e.markerSelection}async updateMarkerNodes(e){}async updatePaths(e){e.paths.forEach((e=>e.visible=!1))}async updatePathNodes(e){const{paths:t,opacity:i,visible:n}=e;for(const a of t)a.opacity=i,a.visible=n}resetPathAnimation(e){const{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach((e=>{mn([e],t)}))}resetDatumAnimation(e){const{datum:t}=this.opts?.animationResetFns??{};t&&mn([e.datumSelection],t)}resetLabelAnimation(e){const{label:t}=this.opts?.animationResetFns??{};t&&mn([e.labelSelection],t)}resetMarkerAnimation(e){const{marker:t}=this.opts?.animationResetFns??{};t&&this.opts.hasMarkers&&mn([e.markerSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),this.resetMarkerAnimation(e),!1===e.contextData?.animationValid&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const{datum:t}=this.opts?.animationResetFns??{};t&&mn([e],t)}animateReadyHighlightMarkers(e){const{marker:t}=this.opts?.animationResetFns??{};t&&mn([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){const e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){const{_contextNodeData:i}=this;if(!i)return;return{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:i,previousContextData:t,paths:this.paths,seriesRect:e}}calculateScaling(){const e={};for(const t of Object.values(pn)){const i=this.axes[t];if(i)if(i.scale instanceof ea){const{range:n,domain:a}=i.scale;e[t]={type:"log",convert:e=>i.scale.convert(e),domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale instanceof xn){const{range:n}=i.scale,a=i.scale.getDomain();e[t]={type:"continuous",domain:[a[0],a[1]],range:[n[0],n[1]]}}else if(i.scale){const{domain:n}=i.scale;e[t]={type:"category",domain:n,range:n.map((e=>i.scale.convert(e)))}}}return e}},Kh=["top","right","bottom","left"],$h=class extends ph{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){super.onAxisChange(e,t),this.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}async performLayout(){const e=await super.performLayout(),{firstSeriesTranslation:t,seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,{animationRect:s,seriesRect:r,visibility:o,clipSeries:l}=this.updateAxes(e);this.seriesRoot.visible=o.series,this.seriesRect=r,this.animationRect=s;const{x:c,y:h}=r;if(t){for(const e of[i,n,a])e.translationX=Math.floor(c),e.translationY=Math.floor(h);this.firstSeriesTranslation=!1}else{const{translationX:e,translationY:t}=i;Jt(this.id,"seriesRect",this.ctx.animationManager,[i,a,n],{translationX:e,translationY:t},{translationX:Math.floor(c),translationY:Math.floor(h)},{phase:"update"})}const u=r.clone().grow(this.seriesArea.padding),d=this.seriesArea.clip||l?u:void 0;i.setClipRectInGroupCoordinateSpace(d),a.setClipRectInGroupCoordinateSpace(d),n.setClipRectInGroupCoordinateSpace(d),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:l,series:{rect:r,paddedRect:u,visible:o.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map((e=>e.getLayoutState()))});const p=this.modulesManager.mapModules((e=>e.performCartesianLayout?.({seriesRect:r})));return await Promise.all(p),e}updateAxes(e){const t=this.axes.flatMap((e=>e.crossLines??[])).map((e=>e.id));let i,n,a;null!=this._lastCrossLineIds&&this._lastCrossLineIds.length===t.length&&this._lastCrossLineIds.every(((e,i)=>t[i]===e))?(i=new Map(this._lastAxisAreaWidths.entries()),n=this._lastClipSeries,a={...this._lastVisibility}):(i=new Map,n=!1,a={crossLines:!0,series:!0},this._lastCrossLineIds=t);const s=new Set(this.axes.map((e=>e.position)));for(const g of i.keys())s.has(g)||i.delete(g);const r=(e,t,s)=>![...e.keys()].some((e=>!i.has(e)))&&(a.crossLines===s.crossLines&&a.series===s.series&&n===t&&[...i.entries()].every((t=>{let[i,n]=t;const a=e.get(i);return null==n&&null==a||n===a}))),o=e=>{for(const[t,i]of e.entries())i&&Math.abs(i)===1/0?e.set(t,0):e.set(t,null!=i?Math.ceil(i):i);return e};let l=new Map,c={},h=!1,u=this.seriesRect?.clone(),d=0,p={};do{i=new Map(l.entries()),n=h,Object.assign(a,c);const t=this.updateAxesPass(i,e.clone(),u);if(l=o(t.axisAreaWidths),c=t.visibility,h=t.clipSeries,({seriesRect:u,primaryTickCounts:p}=t),d++>10){y.warn("unable to find stable axis layout.");break}}while(!r(l,h,c));this.axes.forEach((e=>{e.update(p[e.direction])}));return this.axes.forEach((t=>{if(t.setCrossLinesVisible(a.crossLines),u)switch(t.clipGrid(u.x,u.y,u.width+5,u.height+5),t.position){case"left":case"right":t.clipTickLines(e.x,u.y,e.width+5,u.height+5);break;case"top":case"bottom":t.clipTickLines(u.x,e.y,u.width+5,e.height+5)}})),this._lastAxisAreaWidths=i,this._lastVisibility=a,this._lastClipSeries=n,{seriesRect:u,animationRect:e,visibility:a,clipSeries:n}}updateAxesPass(e,t,i){const n=new Map,a=new Map,s={series:!0,crossLines:!0};let r=!1;const o={},l=this.applySeriesPadding(t),c=i?this.buildCrossLinePadding(e):{},h=this.buildAxisBound(l,e,c,s),u=this.buildSeriesRect(h,e);for(const g of this.axes){const{position:e="left"}=g,{clipSeries:t,axisThickness:i}=this.calculateAxisDimensions({axis:g,seriesRect:u,paddedBounds:l,primaryTickCounts:o,clipSeries:r});n.set(g.id,i),a.has(e)||a.set(e,[]),a.get(e)?.push(g),r=r||t}const d=new Map,p=new Map;for(const[g,f]of a.entries())d.set(g,this.calculateAxisArea(f,n,p));for(const[g,f]of a.entries())this.positionAxes({axes:f,position:g,axisWidths:n,axisOffsets:p,axisAreaWidths:d,axisBound:h,seriesRect:u});return{clipSeries:r,seriesRect:u,axisAreaWidths:d,visibility:s,primaryTickCounts:o}}buildCrossLinePadding(e){const t={};this.axes.forEach((e=>{e.crossLines?.forEach((e=>{e.calculatePadding?.(t)}))}));for(const[i,n=0]of Object.entries(t))t[i]=Math.max(n-(e.get(i)??0),0);return t}applySeriesPadding(e){const t=e.clone(),i=this.axes.slice().reverse();return Kh.forEach((e=>{const n=this.seriesArea.padding[e],a=i.find((t=>t.position===e));a?a.seriesAreaPadding=n:t.shrink(n,e)})),t}buildAxisBound(e,t,i,n){const a=e.clone(),{top:s=0,right:r=0,bottom:o=0,left:l=0}=i,c=l+r,h=s+o,u=(t.get("left")??0)+(t.get("right")??0)+c,d=(t.get("top")??0)+(t.get("bottom")??0)+h;return a.width<=u||a.height<=d?(n.crossLines=!1,n.series=!1,a):(a.x+=l,a.y+=s,a.width-=c,a.height-=h,a)}buildSeriesRect(e,t){const i=e.clone();return i.x+=t.get("left")??0,i.y+=t.get("top")??0,i.width-=(t.get("left")??0)+(t.get("right")??0),i.height-=(t.get("top")??0)+(t.get("bottom")??0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i}clampToOutsideSeriesRect(e,t,i,n){const{x:a,y:s,width:r,height:o}=e,l=[a,s,a+r,s+o][("x"===i?0:1)+(1===n?0:2)];return(1===n?Math.min:Math.max)(t,l)}calculateAxisDimensions(e){const{axis:t,seriesRect:i,paddedBounds:n,primaryTickCounts:a}=e;let{clipSeries:s}=e;const{position:r="left",direction:o}=t;this.sizeAxis(t,i,r);let l=t.nice?a[o]:void 0;const c="y"===o;t.thickness?t.maxThickness=t.thickness:t.maxThickness=.3*(c?n.width:n.height);const h=t.calculateLayout(l);let u;return l=h.primaryTickCount,a[o]??(a[o]=l),s||(s=t.dataDomain.clipped||t.visibleRange[0]>0||t.visibleRange[1]<1),u=null!=t.thickness&&t.thickness>0?t.thickness:c?h.bbox.width:h.bbox.height,u=Math.ceil(u),{clipSeries:s,axisThickness:u,primaryTickCount:l}}sizeAxis(e,t,i){const n=e instanceof vr||e instanceof Er,a="left"===i||"right"===i;let{min:s,max:r}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:o,height:l}=t,c=a?l:o;let h=0,u=c;const{width:d,unit:p,align:g}=e.layoutConstraints;u="px"===p?h+d:u*d/100,"end"===g&&(h=c-(u-h),u=c),n&&a?[s,r]=[1-r,1-s]:a&&([h,u]=[u,h]),e.range=[h,u],e.visibleRange=[s,r],e.gridLength=a?o:l}calculateAxisArea(e,t,i){let n=0,a=0;for(const s of e){i.set(s.id,a);const e=t.get(s.id)??0;n=Math.max(n,a+e),s.layoutConstraints.stacked&&(a+=e+15)}return n}positionAxes(e){const{axes:t,axisBound:i,axisWidths:n,axisOffsets:a,axisAreaWidths:s,seriesRect:r,position:o}=e,l=s.get(o)??0;let c="x",h="y",u=1,d=0;"top"!==o&&"bottom"!==o||(c="y",h="x",d+=1),d+=i[c],"right"!==o&&"bottom"!==o||(u=-1,d+="x"===c?i.width:i.height);for(const p of t){const e=s.get("x"===h?"left":"top")??0;p.translation[h]=i[h]+e;const t=n.get(p.id)??0,o=a.get(p.id)??0;p.translation[c]=this.clampToOutsideSeriesRect(r,d+u*(o+t),c,u),p.gridPadding=l-o-t,p.updatePosition()}}shouldFlipXY(){return!this.series.some((e=>!(e instanceof Zh&&e.shouldFlipXY())))}};$h.className="CartesianChart",$h.type="cartesian";var Xh=class e{constructor(e,t,i){this.factoryApi=t,this.licenseManager=i,this.chart=e,e.publicApi=this}static isInstance(t){return t instanceof e||("AgChartInstanceProxy"===t.constructor?.name&&null!=t.chart||null!=t.chart&&this.validateImplementation(t))}static validateImplementation(e){const t=Object.keys(Object.getPrototypeOf(e)??{});return["getOptions","destroy"].every((e=>t.includes(e)))}async update(e){this.factoryApi.createOrUpdate(e,this),await this.chart.waitForUpdate()}async updateDelta(e){this.factoryApi.updateUserDelta(this,e),await this.chart.waitForUpdate()}getOptions(){const e=Ct(this.chart.getOptions());for(const t in e)t.startsWith("_")&&delete e[t];return e}waitForUpdate(){return this.chart.waitForUpdate()}async download(e){const t=await this.prepareResizedChart(this,e);try{t.chart.download(e?.fileName,e?.fileFormat)}finally{t.destroy()}}async getImageDataURL(e){const t=await this.prepareResizedChart(this,e);try{return t.chart.getCanvasDataURL(e?.fileFormat)}finally{t.destroy()}}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}async setState(e){this.factoryApi.caretaker.restore(e,this.chart.ctx.annotationManager),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}async prepareResizedChart(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{chart:i}=e,n=t.width??i.width??i.ctx.scene.canvas.width,a=t.height??i.height??i.ctx.scene.canvas.height,s=e.getState(),r=zr.hasEnterpriseModules(),o={},l=i.chartOptions.getOptions();r&&(o.animation={enabled:!1},tc(l)&&(o.toolbar={enabled:!1}),this.licenseManager?.isDisplayWatermark()&&(o.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const c=yt({container:document.createElement("div"),width:n,height:a},o,l),h=await this.factoryApi.createOrUpdate(c);return await h.setState(s),h.chart.ctx.zoomManager.updateZoom("agChartV2",i.ctx.zoomManager.getZoom()),i.series.forEach(((e,t)=>{e.visible||(h.chart.series[t].visible=!1)})),i.update(0,{forceNodeDataRefresh:!0}),await h.waitForUpdate(),h}};Xh.chartInstances=new WeakMap,l([is({oldValue(e){Xh.chartInstances.delete(e)},newValue(e){Xh.chartInstances.set(e,this)}})],Xh.prototype,"chart",2);var Qh=Xh,qh=class extends xn{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){const e=this.tickCount??xn.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();const[t,i]=this.getDomain();if(this.interval){const e=Math.abs(this.interval);if(!qn((i-t)/e,this.getPixelRange()))return Qn(t,i,e)}return Hn(t,i,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){return this.interval??Kn(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){const e=this.tickCount;if(e<1)return void(this.niceDomain=[...this.domain]);let[t,i]=this.domain;if(1===e)[t,i]=function(e,t){const i=Math.abs(t-e),n=10**Math.floor(Math.log10(i));let a=1/0,s=[e,t];for(const r of Wn){const o=r*n,l=Math.floor(e/o)*o,c=Math.ceil(t/o)*o,h=1-i/Math.abs(c-l);a>h&&(a=h,s=[l,c])}return s}(t,i);else{const e=t>i?Math.ceil:Math.floor,n=i<t?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const a=t,s=i,r=this.getTickStep(t,i),[o,l]=this.domain;if(r>=1)t=e(o/r)*r,i=n(l/r)*r;else{const a=1/r;t=e(o*a)/a,i=n(l*a)/a}if(t===a&&i===s)break}}this.niceDomain=[t,i]}tickFormat(e){let{ticks:t,specifier:i}=e;return Xn(t??this.ticks(),i)}};function Jh(e,t,i){let[n,a]=xe(e);n=function(e,t,i){const n=Math.abs(t-e)/(i-1),a=Math.floor(Math.log10(n)),s=Math.pow(10,a);return Math.floor(e/s)*s}(Math.floor(n),a,t);const s=function(e,t,i){const n=i-1,a=(t-e)/n;return function(e){const t=Math.floor(Math.log10(e)),i=Math.pow(10,t),n=e/i*10;if(n>0&&n<=1)return i/10;if(n>1&&n<=2)return 2*i/10;if(n>1&&n<=5)return 5*i/10;if(n>5&&n<=10)return 10*i/10;if(n>10&&n<=20)return 20*i/10;if(n>20&&n<=40)return 40*i/10;if(n>40&&n<=50)return 50*i/10;if(n>50&&n<=100)return 100*i/10;return n}(a)}(n,a,t);a=n+(t-1)*s;const r=i?[a,n]:[n,a],o=function(e,t,i){const n=Math.floor(Math.log10(t)),a=t>0&&t<1?Math.abs(n):0,s=Math.pow(10,a),r=[];for(let o=0;o<i;o++){const i=e+t*o;r[o]=Math.round(i*s)/s}return r}(n,s,t);return{domain:r,ticks:o}}var eu=class extends br{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qh),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:a}=On(e,t,i);return{domain:n,clipped:a}}updateSecondaryAxisTicks(e){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(0===this.dataDomain.domain.length)return[];const{domain:t,ticks:i}=Jh(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),i}};eu.className="NumberAxis",eu.type="number",l([fi(yi(Ai,Ri("max"))),er(NaN)],eu.prototype,"min",2),l([fi(yi(Ai,Oi("min"))),er(NaN)],eu.prototype,"max",2);var tu=cn((e=>ht(e)&&0!==e),"a non-zero number"),iu=class extends eu{constructor(e){super(e,new ea),this.min=NaN,this.max=NaN}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:n,clipped:a}=On(e,t,i),s=n[0]>n[1],r=n[0]<0&&n[1]>0,o=0===n[0]&&0===n[1];return(s||r||o)&&(r?y.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):o&&y.warn("the data domain has 0 extent, no data is rendered.")),0===n[0]&&(n[0]=1),0===n[1]&&(n[1]=-1),{domain:n,clipped:a}}set base(e){this.scale.base=e}get base(){return this.scale.base}};iu.className="LogAxis",iu.type="log",l([fi(yi(Ai,tu,Ri("max"))),er(NaN)],iu.prototype,"min",2),l([fi(yi(Ai,tu,Oi("min"))),er(NaN)],iu.prototype,"max",2);var nu=class extends br{constructor(e){super(e,new ta),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:i}=this,n=!1;return"number"===typeof t&&(t=new Date(t)),"number"===typeof i&&(i=new Date(i)),e.length>2&&(e=(En(e)??[0,1e3]).map((e=>new Date(e)))),t instanceof Date&&(n||(n=t>e[0]),e=[t,e[1]]),i instanceof Date&&(n||(n=i<e[1]),e=[e[0],i]),e[0]>e[1]&&(e=[]),{domain:e,clipped:n}}onFormatChange(e,t,i,n){n?super.onFormatChange(e,t,i,n):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:i}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:i,formatOffset:1}))}calculatePadding(){return[0,0]}};nu.className="TimeAxis",nu.type="time",l([fi(yi(ji,Ri("max")),{optional:!0})],nu.prototype,"min",2),l([fi(yi(ji,Oi("min")),{optional:!0})],nu.prototype,"max",2);var au=(e,t,i,n)=>{let{x0:a,y0:s,x1:r,y1:o,cx:l,cy:c}=t;if(n&&e.moveTo(a,s),a!==r||s!==o){const t=Math.atan2(s-c,a-l),n=Math.atan2(o-c,r-l);e.arc(l,c,i,t,n)}else e.lineTo(a,s)},su=1e-6,ru=(e,t,i,n,a)=>{let s=!1,r=!1,o=n-Math.sqrt(Math.max(a**2-i**2,0)),l=0,c=0,h=i-Math.sqrt(Math.max(a**2-n**2,0));return o>e?(s=!0,o=e,l=i-Math.sqrt(Math.max(a**2-(n-e)**2))):o<su&&(o=0),h>t?(r=!0,c=n-Math.sqrt(Math.max(a**2-(i-t)**2)),h=t):h<su&&(h=0),{leading0:o,leading1:l,trailing0:c,trailing1:h,leadingClipped:s,trailingClipped:r}},ou=(e,t,i,n,a,s,r)=>{let{topLeft:o,topRight:l,bottomRight:c,bottomLeft:h}=s;const u=Math.max(o+h,l+c),d=Math.max(o+l,h+c);if(u<=0&&d<=0)return void(null==r?e.rect(t,i,n,a):e.rect(r.x,r.y,r.width,r.height));if(null==r&&o===l&&o===c&&o===h)return void e.roundRect(t,i,n,a,o);if(n<0&&(t+=n,n=Math.abs(n)),a<0&&(i+=a,a=Math.abs(a)),n<=0||a<=0)return;if(null==r)r=new Ae(t,i,n,a);else{const e=Math.max(t,r.x),s=Math.min(t+n,r.x+r.width),o=Math.max(i,r.y),l=Math.min(i+a,r.y+r.height);r=new Ae(e,o,s-e,l-o)}const p=Math.max(u/a,d/n,1);p>1&&(o/=p,l/=p,c/=p,h/=p);let g,f,m,y,x=!0,b=!0,v=!0,M=!0;if(x){const e=ru(r.height,r.width,Math.max(t+o-r.x,0),Math.max(i+o-r.y,0),o);e.leadingClipped&&(M=!1),e.trailingClipped&&(b=!1);g={x0:Math.max(r.x+e.leading1,r.x),y0:Math.max(r.y+e.leading0,r.y),x1:Math.max(r.x+e.trailing1,r.x),y1:Math.max(r.y+e.trailing0,r.y),cx:t+o,cy:i+o}}if(b){const e=ru(r.width,r.height,Math.max(i+l-r.y,0),Math.max(r.x+r.width-(t+n-l),0),l);e.leadingClipped&&(x=!1),e.trailingClipped&&(v=!1);f={x0:Math.min(r.x+r.width-e.leading0,r.x+r.width),y0:Math.max(r.y+e.leading1,r.y),x1:Math.min(r.x+r.width-e.trailing0,r.x+r.width),y1:Math.max(r.y+e.trailing1,r.y),cx:t+n-l,cy:i+l}}if(v){const e=ru(r.height,r.width,Math.max(r.x+r.width-(t+n-c),0),Math.max(r.y+r.height-(i+a-c),0),c);e.leadingClipped&&(b=!1),e.trailingClipped&&(M=!1);m={x0:Math.min(r.x+r.width-e.leading1,r.x+r.width),y0:Math.min(r.y+r.height-e.leading0,r.y+r.height),x1:Math.min(r.x+r.width-e.trailing1,r.x+r.width),y1:Math.min(r.y+r.height-e.trailing0,r.y+r.height),cx:t+n-c,cy:i+a-c}}if(M){const e=ru(r.width,r.height,Math.max(r.y+r.height-(i+a-h),0),Math.max(t+h-r.x,0),h);e.leadingClipped&&(v=!1),e.trailingClipped&&(x=!1);y={x0:Math.max(r.x+e.leading0,r.x),y0:Math.min(r.y+r.height-e.leading1,r.y+r.height),x1:Math.max(r.x+e.trailing0,r.x),y1:Math.min(r.y+r.height-e.trailing1,r.y+r.height),cx:t+h,cy:i+a-h}}let S=!1;x&&null!=g&&(au(e,g,o,!S),S||(S=!0)),b&&null!=f&&(au(e,f,l,!S),S||(S=!0)),v&&null!=m&&(au(e,m,c,!S),S||(S=!0)),M&&null!=y&&(au(e,y,h,!S),S||(S=!0)),e.closePath()},lu=class extends Mo{constructor(){super(...arguments),this.borderPath=new bo,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Fa.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Fa.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){const{path:e,borderPath:t,crisp:i,topLeftCornerRadius:n,topRightCornerRadius:a,bottomRightCornerRadius:s,bottomLeftCornerRadius:r}=this;let{x:o,y:l,width:c,height:h,strokeWidth:u,clipBBox:d}=this;const p=1/(this.layerManager?.canvas.pixelRatio??1);let g=1;if(e.clear(!0),t.clear(!0),i&&(c<=p&&(g*=c/p),h<=p&&(g*=h/p),c=this.align(o,c),h=this.align(l,h),o=this.align(o),l=this.align(l),d=null!=d?new Ae(this.align(d.x),this.align(d.y),this.align(d.x,d.width),this.align(d.y,d.height)):void 0),u)if(c<p){const e=o+p/2;t.moveTo(e,l),t.lineTo(e,l+h),u=p,this.borderClipPath=void 0}else if(h<p){const e=l+p/2;t.moveTo(o,e),t.lineTo(o+c,e),u=p,this.borderClipPath=void 0}else if(u<c&&u<h){const i=u/2;o+=i,l+=i,c-=u,h-=u;const p=d?.clone().shrink(i),g={topLeft:n>0?n-u:0,topRight:a>0?a-u:0,bottomRight:s>0?s-u:0,bottomLeft:r>0?r-u:0};this.borderClipPath=void 0,c>0&&h>0&&(null==p||p?.width>0&&p?.height>0)&&(ou(e,o,l,c,h,g,p),ou(t,o,l,c,h,g,p))}else this.borderClipPath=this.borderClipPath??new bo,this.borderClipPath.clear(!0),this.borderClipPath.rect(o,l,c,h),t.rect(o,l,c,h);else{const t={topLeft:n,topRight:a,bottomRight:s,bottomLeft:r};this.borderClipPath=void 0,ou(e,o,l,c,h,t,d)}[n,a,s,r].every((e=>0===e))?(this.hittester=(e,t)=>{const i=this.transformPoint(e,t);return this.getBBox().containsPoint(i.x,i.y)},this.distanceSquared=(e,t)=>this.getBBox().distanceSquared(e,t)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=u,this.lastUpdatePathStrokeWidth=u,this.microPixelEffectOpacity=g}computeBBox(){const{x:e,y:t,width:i,height:n,clipBBox:a}=this;return a?.clone()??new Ae(e,t,i,n)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){const{fillOpacity:t,microPixelEffectOpacity:i,opacity:n}=this;e.globalAlpha*=n*t*i}renderStroke(e){const{stroke:t,effectiveStrokeWidth:i}=this;if(t&&i){const{globalAlpha:n}=e,{strokeOpacity:a,lineDash:s,lineDashOffset:r,lineCap:o,lineJoin:l,borderPath:c,borderClipPath:h,opacity:u,microPixelEffectOpacity:d}=this;h&&e.clip(h.getPath2D()),e.strokeStyle=t,e.globalAlpha*=u*a*d,e.lineWidth=i,s&&e.setLineDash(s),r&&(e.lineDashOffset=r),o&&(e.lineCap=o),l&&(e.lineJoin=l),e.stroke(c.getPath2D()),e.globalAlpha=n}}};lu.className="Rect",l([vo()],lu.prototype,"x",2),l([vo()],lu.prototype,"y",2),l([vo()],lu.prototype,"width",2),l([vo()],lu.prototype,"height",2),l([vo()],lu.prototype,"topLeftCornerRadius",2),l([vo()],lu.prototype,"topRightCornerRadius",2),l([vo()],lu.prototype,"bottomRightCornerRadius",2),l([vo()],lu.prototype,"bottomLeftCornerRadius",2),l([vo()],lu.prototype,"clipBBox",2),l([vo()],lu.prototype,"crisp",2);var cu=class extends Rr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this.zIndex=t,this.layer=i,this.rectNode=new lu,this.textNode=new Ka,this.fill="white",this.node=new ca({name:"background",zIndex:this.zIndex,layer:this.layer}),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(e.scene.attachNode(this.node),e.layoutService.addListener("layout-complete",(e=>this.onLayoutComplete(e))))}onLayoutComplete(e){const{width:t,height:i}=e.chart;this.rectNode.width=t,this.rectNode.height=i}};l([fi(Mi),ts("node","visible")],cu.prototype,"visible",2),l([fi(Bi,{optional:!0}),ts("rectNode","fill")],cu.prototype,"fill",2),l([fi(bi,{optional:!0})],cu.prototype,"image",2),l([fi(Ii,{optional:!0}),ts("textNode")],cu.prototype,"text",2);var hu={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:e=>new cu(e)},uu=class{constructor(){this.offscreenCanvas=new OffscreenCanvas(1,1);const e=this.offscreenCanvas.getContext("2d");if(null==e)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:e,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize(e){let{spritePixelRatio:t,spriteWidth:i,spriteHeight:n}=e;this.offscreenCanvas.width=Math.max(i,0)*t,this.offscreenCanvas.height=Math.max(n,0)*t}renderSprite(e,t){e=ce(e);const{renderCtx:i,renderCtx:{ctx:n},offscreenCanvas:a}=this,{scale:s=1,translateX:r=0,translateY:o=0}=t??{};n.resetTransform(),n.clearRect(0,0,a.width,a.height),n.save(),n.beginPath(),n.setTransform(s,0,0,s,r,o);for(const l of e)l.render(i);return n.closePath(),n.restore(),a.transferToImageBitmap()}};function du(e,t,i,n){t.addEventListener(i,n),e.push((()=>t.removeEventListener(i,n)))}function pu(e,t,i){du(e,t,"keydown",(e=>{"Escape"===e.key&&i(e)}))}function gu(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&(e.key===t||n.some((t=>e.key===t)))}function fu(e,t,i,n){i&&du(e,t,"keydown",(e=>{gu(e,n)&&i.focus()}))}function mu(e,t,i,n,a,s){fu(e,t,a,s),fu(e,t,i,n),du(e,t,"keydown",(e=>{gu(e,n,s)&&e.preventDefault()}))}var yu={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function xu(e){const{orientation:t,toolbar:i,buttons:n,onEscape:a,onFocus:s,onBlur:r}=e,{nextKey:o,prevKey:l}=yu[t],c=0===n.length;i.role="toolbar",i.ariaOrientation=t,i.ariaHidden=c.toString();const h=e=>{e.target&&"tabIndex"in e.target&&(n.forEach((e=>e.tabIndex=-1)),e.target.tabIndex=0)},u=[];for(let d=0;d<n.length;d++){const e=n[d-1],t=n[d],i=n[d+1];du(u,t,"focus",h),s&&du(u,t,"focus",s),r&&du(u,t,"blur",r),a&&pu(u,t,a),mu(u,t,e,l,i,o),t.tabIndex=0===d?0:-1}return u}function bu(e){const{orientation:t,menu:i,buttons:n,onEscape:a}=e,{nextKey:s,prevKey:r}=yu[t];i.role="menu",i.ariaOrientation=t;const o=[];for(let l=0;l<n.length;l++){const e=n[(n.length+l-1)%n.length],t=n[l],i=n[(n.length+l+1)%n.length];a&&pu(o,t,a),mu(o,t,e,r,i,s),t.tabIndex=-1}return i.tabIndex=-1,a&&pu(o,i,a),du(o,i,"keydown",(e=>{e.target!==i||e.key!==s&&e.key!==r||(e.preventDefault(),n[0]?.focus())})),o}function vu(e,t){return i=>{if("true"===e.ariaDisabled)return i.preventDefault();t(i)}}function Mu(e){let{orientation:t,bboxes:i,maxHeight:n,maxWidth:a,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}=e;const l="horizontal"===t,c={max:l?a:n,fn:l?e=>e.width:e=>e.height,padding:l?r:s},h={max:l?n:a,fn:l?e=>e.height:e=>e.width,padding:l?s:r};let u=0;const d=[];for(;u<i.length;){const e=Su(i.slice(u),u,c,h,o);if(!e)return;u+=e.processedBBoxCount,d.push(e.pageIndices)}return function(e,t,i,n,a){let s=0,r=0;const o=e.map((e=>{"horizontal"===t&&(e=function(e){const t=[];for(const i of e[0])t.push([]);return e.forEach(((e,i)=>{e.forEach(((e,n)=>{t[n][i]=e}))})),t}(e));let o=0;const l=e.map((e=>{const t=e.map((e=>(o=Math.max(e,o),i[e])));let s=0,r=0;return t.forEach((e=>{s+=e.height+n,r=Math.max(r,e.width+a)})),{indices:e,bboxes:t,columnHeight:Math.ceil(s),columnWidth:Math.ceil(r)}}));let c=0,h=0;return l.forEach((e=>{c+=e.columnWidth,h=Math.max(h,e.columnHeight)})),s=Math.max(c,s),r=Math.max(h,r),{columns:l,startIndex:e[0][0],endIndex:o,pageWidth:c,pageHeight:h}}));return{pages:o,maxPageWidth:s,maxPageHeight:r}}(d,t,i,s,r)}function Su(e,t,i,n,a){let s=function(e,t){const i=e.length;let n=0;for(let a=0;a<i;a++)if(n+=t.fn(e[a])+t.padding,n>t.max){return i/a<2?Math.ceil(i/2):a}return i}(e,i);if(s<1){if(!a)return;s=1}let r=s;for(;r>=1;){const s=Iu(e,t,r,i,n,a);if(null==s&&r<=1)return;if(null==s){r--;continue}if("number"===typeof s){if(s<=1)return;r=s<r&&s>1?s:r,r--;continue}return{processedBBoxCount:s.length*s[0].length,pageIndices:s}}}function Iu(e,t,i,n,a,s){const r=[];let o=0,l=0,c=[];const h=[];for(let u=0;u<e.length;u++){const d=(u+i)%i;0===d&&(o+=l,l=0,c.length>0&&r.push(c),c=[]);const p=n.fn(e[u])+n.padding;h[d]=Math.max(h[d]??0,p),l=Math.max(l,a.fn(e[u])+a.padding);const g=o+l,f=!s||r.length>0;if(g>a.max&&f){c=[];break}if(h.reduce(((e,t)=>e+t),0)>n.max&&!s)return h.length<i?h.length:void 0;c.push(u+t)}return c.length>0&&r.push(c),r.length>0?r:void 0}var Du=class extends Be{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(e,t,i,n){this.sourceImage=e,this.width=e.width/t,this.height=e.height/t,this.x=i/t,this.y=n/t,this.markDirty(this,3)}render(e){const{ctx:t,forceRender:i,stats:n}=e;if(0===this.dirty&&!i)return void(n&&n.nodesSkipped++);const a=this.sourceImage;a&&(this.transformRenderContext(e),t.globalAlpha=this.opacity,t.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),super.render(e))}};l([Te({redraw:3})],Du.prototype,"x",2),l([Te({redraw:3})],Du.prototype,"y",2),l([Te({redraw:3})],Du.prototype,"width",2),l([Te({redraw:3})],Du.prototype,"height",2),l([Te({redraw:3})],Du.prototype,"opacity",2);var wu=class extends ca{constructor(){super({name:"markerLabelGroup"}),this.label=new Ka,this.symbolsGroup=new ca({name:"legend-markerLabel-symbols"}),this.bitmap=new Du,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];const{markers:e,label:t,lines:i}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.updateSymbols(e,i),this.append(ue(this.symbolsGroup,t))}destroy(){super.destroy(),this.proxyButton?.remove()}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(e,t){zn(this._markers,e)&&zn(this._lines,t)||(this.bitmapDirty=!0,this._markers=e,this._lines=t,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...e,...t]))}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e,this.bitmap.opacity=e,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(e){const{lines:t,markers:i}=this;[t,i].forEach((t=>t.forEach((t=>t.visible=!e)))),this.bitmap.visible=e}update(e,t,i){let{spriteAAPadding:n,spritePixelRatio:a}=t;const{markers:s,lines:r}=this;let o=0,l=0,c=0;for(let x=0;x<Math.max(s.length,r.length);x++){const{length:e,spacing:t}=i[x]??0,n=s[x],a=r[x],h=n?.size??0;let u=1/0,d=1/0,p=1/0;if(n){const t=n.constructor.center,i=(h+n.strokeWidth)/2;n.x=(t.x-.5)*h+e/2+c,n.y=(t.y-.5)*h,d=n.y-i,p=n.x-i}a&&(a.x1=c,a.x2=c+e,a.y1=0,a.y2=0,a.markDirtyTransform(),u=-a.strokeWidth/2),c+=t+Math.max(e,h),o=Math.min(o,a.x1,a.x2,p),l=Math.min(l,u,d)}const h=i.at(-1),u=this.lines.at(-1),d=this.markers.at(-1),p=u?u.x2:-1/0,g=(d?.x??0)+(d?.size??0)/2;if(this.label.x=Math.max(p,g)+(h?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);const t=(n+o)*a,i=(n-l)*a,s=e.renderSprite(this.symbolsGroup,{scale:a,translateX:Math.floor(t),translateY:Math.floor(i)});this.bitmap.updateBitmap(s,a,Math.ceil(-t),Math.ceil(-i)),this.bitmapDirty=!1,this.refreshVisibilities()}if(i.length<2)return;const f=this.symbolsGroup.getBBox(),m=Math.max(d?.size??0,h?.length??0),y=new Ae(f.x+m/2,f.y,m,f.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(y)}computeBBox(){const{label:e,lines:t,markers:i}=this;return ca.computeBBox(he([e],t,i),{skipInvisible:!1})}};wu.className="MarkerLabel",l([ts("label")],wu.prototype,"text",2),l([ts("label")],wu.prototype,"fontStyle",2),l([ts("label")],wu.prototype,"fontWeight",2),l([ts("label")],wu.prototype,"fontSize",2),l([ts("label")],wu.prototype,"fontFamily",2),l([ts("label","fill")],wu.prototype,"color",2);var ku=class extends wt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};l([fi(Bi)],ku.prototype,"color",2),l([fi($i,{optional:!0})],ku.prototype,"fontStyle",2),l([fi(Xi,{optional:!0})],ku.prototype,"fontWeight",2),l([fi(ki)],ku.prototype,"fontSize",2),l([fi(Ii)],ku.prototype,"fontFamily",2);var Nu=class extends wt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};l([fi(ki)],Nu.prototype,"size",2),l([fi(Bi,{optional:!0})],Nu.prototype,"fill",2),l([fi(Ni,{optional:!0})],Nu.prototype,"fillOpacity",2),l([fi(Bi,{optional:!0})],Nu.prototype,"stroke",2),l([fi(ki)],Nu.prototype,"strokeWidth",2),l([fi(Ni)],Nu.prototype,"strokeOpacity",2);var Lu=class extends wt{constructor(e){super(),this.parent=e,this.shape=Th,this.size=15,this.padding=8}};l([is({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Lu.prototype,"shape",2),l([fi(ki)],Lu.prototype,"size",2),l([fi(ki)],Lu.prototype,"padding",2);var Au=class extends wt{constructor(e,t,i,n){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.regionManager=i,this.cursorManager=n,this.id=oe(this),this.marker=new Lu(this),this.activeStyle=new Nu,this.inactiveStyle=new Nu,this.highlightStyle=new Nu,this.label=new ku,this.group=new ca({name:"pagination"}),this.labelNode=new Ka,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Th,this._previousButton=new Th,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const a=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(a.addListener("click",(e=>this.onPaginationClick(e))),a.addListener("hover",(e=>this.onPaginationMouseMove(e)))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach((e=>e()))}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){if(this._orientation=e,"horizontal"===e)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:e,totalPages:t,labelNode:i,label:{color:n,fontStyle:a,fontWeight:s,fontSize:r,fontFamily:o}}=this;i.text=`${e+1} / ${t}`,i.fill=n,i.fontStyle=a,i.fontWeight=s,i.fontSize=r,i.fontFamily=o}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:i,previousButtonDisabled:n,activeStyle:a,inactiveStyle:s,highlightStyle:r,highlightActive:o}=this,l=(e,t)=>t?s:e===o?r:a;this.updateMarker(e,l("next",i)),this.updateMarker(t,l("previous",n))}updateMarker(e,t){const{size:i}=this.marker;e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,i=0===t,n=e===t-1,a=0===e;this.nextButtonDisabled=n||i,this.previousButtonDisabled=a||i}nextButtonContainsPoint(e,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,t)}previousButtonContainsPoint(e,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,t)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(e){e=me(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}onPaginationClick(e){const{offsetX:t,offsetY:i}=e;e.preventDefault(),this.nextButtonContainsPoint(t,i)?this.clickNext():this.previousButtonContainsPoint(t,i)&&this.clickPrevious()}onPaginationMouseMove(e){const{offsetX:t,offsetY:i}=e;this.nextButtonContainsPoint(t,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const e=zh(this.marker.shape||Th);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox(!0)}computeCSSBounds(){return{prev:this._previousButton.computeTransformedBBox(),next:this._nextButton.computeTransformedBBox()}}};Au.className="Pagination",l([fi(bi)],Au.prototype,"marker",2),l([fi(bi)],Au.prototype,"activeStyle",2),l([fi(bi)],Au.prototype,"inactiveStyle",2),l([fi(bi)],Au.prototype,"highlightStyle",2),l([fi(bi)],Au.prototype,"label",2);var Cu=class extends wt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};l([fi(ki,{optional:!0})],Cu.prototype,"maxLength",2),l([fi(Bi)],Cu.prototype,"color",2),l([fi($i,{optional:!0})],Cu.prototype,"fontStyle",2),l([fi(Xi,{optional:!0})],Cu.prototype,"fontWeight",2),l([fi(ki)],Cu.prototype,"fontSize",2),l([fi(Ii)],Cu.prototype,"fontFamily",2),l([fi(Si,{optional:!0})],Cu.prototype,"formatter",2);var Tu=class extends wt{constructor(){super(...arguments),this.size=15,this.padding=8}};l([ns((e=>e.parent?.onMarkerShapeChange()))],Tu.prototype,"shape",2),l([fi(ki)],Tu.prototype,"size",2),l([fi(ki)],Tu.prototype,"padding",2),l([fi(ki,{optional:!0})],Tu.prototype,"strokeWidth",2),l([fi(Mi)],Tu.prototype,"enabled",2);var Eu=class extends wt{};l([fi(ki,{optional:!0})],Eu.prototype,"strokeWidth",2),l([fi(ki,{optional:!0})],Eu.prototype,"length",2);var Ru=class extends wt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Tu,this.label=new Cu,this.line=new Eu}};l([fi(ki,{optional:!0})],Ru.prototype,"maxWidth",2),l([fi(ki)],Ru.prototype,"paddingX",2),l([fi(ki)],Ru.prototype,"paddingY",2),l([fi(Mi)],Ru.prototype,"showSeriesStroke",2),l([fi(bi)],Ru.prototype,"marker",2),l([fi(bi)],Ru.prototype,"label",2),l([fi(bi)],Ru.prototype,"line",2);var Ou=class extends wt{};l([fi(Si,{optional:!0})],Ou.prototype,"legendItemClick",2),l([fi(Si,{optional:!0})],Ou.prototype,"legendItemDoubleClick",2);var zu="legend-visibility",ju="legend-other-series",Pu=class extends wt{constructor(e){super(),this.ctx=e,this.id=oe(this),this.group=new ca({name:"legend",layer:!0,zIndex:13}),this.itemSelection=Ma.select(this.group,wu),this.spriteRenderer=new uu,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Ru,this.listeners=new Ou,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Au((t=>e.updateService.update(t)),(e=>this.updatePageNumber(e)),e.regionManager,e.cursorManager),this.pagination.attachPagination(this.group),e.contextMenuRegistry.registerDefaultAction({id:zu,type:"legend",label:"contextMenuToggleSeriesVisibility",action:e=>this.contextToggleVisibility(e)}),e.contextMenuRegistry.registerDefaultAction({id:ju,type:"legend",label:"contextMenuToggleOtherSeries",action:e=>this.contextToggleOtherSeries(e)});const{Default:t,Animation:i,ContextMenu:n}=Go,a=t|i,s=t|i|n,r=e.regionManager.addRegion("legend",this.group);this.destroyFns.push(r.addListener("contextmenu",(e=>this.checkContextClick(e)),s),r.addListener("click",(e=>this.checkLegendClick(e)),a),r.addListener("dblclick",(e=>this.checkLegendDoubleClick(e)),a),r.addListener("hover",(e=>this.handleLegendMouseMove(e)),a),r.addListener("leave",(()=>this.handleLegendMouseExit()),a),r.addListener("enter",(e=>this.handleLegendMouseEnter(e)),a),e.layoutService.addListener("start-layout",(e=>this.positionLegend(e))),e.localeManager.addListener("locale-changed",(()=>this.onLocaleChanged())),(()=>this.group.parent?.removeChild(this.group))),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0})}set data(e){this._data=e,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach((e=>e())),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each(((e,t,i)=>{e.proxyButton??(e.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`ag-charts-legend-item-${i}`,textContent:this.getItemAriaText(i),parent:this.proxyLegendToolbar,focusable:e,onclick:()=>{this.doClick(e.datum),e.proxyButton.textContent=this.getItemAriaText(i,!e.datum.enabled)},onblur:()=>this.handleLegendMouseExit(),onfocus:()=>{const t=e?.computeTransformedBBox(),i=th(this.ctx.focusIndicator,{bounds:t,showFocusBox:!0});this.doHover(i,e.datum),this.pagination.setPage(e.pageIndex)}}))}));const e=this.itemSelection.nodes().map((e=>e.proxyButton)).filter((e=>!!e));xu({orientation:this.getOrientation(),buttons:e,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{ctx:{callbackCache:t}}=this,{formatter:i}=this.item.label;return i?t.call(i,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){const{paddingX:i,paddingY:n,label:a,maxWidth:s,label:{maxLength:r=1/0,fontStyle:o,fontWeight:l,fontSize:c,fontFamily:h}}=this.item,u=[...this.data];this.reverseOrder&&u.reverse();const d=0===this.itemSelection.nodes().length;this.itemSelection.update(u),d&&this.initLegendItemToolbar();const p=[],g=Va.toFontString(a),f=s??.8*e,m=this.calculateSpriteDimensions();if(this.spriteRenderer.resize(m),this.itemSelection.each(((e,t)=>{e.fontStyle=o,e.fontWeight=l,e.fontSize=c,e.fontFamily=h;const i=this.updateMarkerLabel(e,t,m),n=t.itemId??t.id,a=(this.getItemLabel(t)??"<unknown>").replace(/\r?\n/g," ");e.text=this.truncate(a,r,f,i,g,n),p.push(e.getBBox())})),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};const y=this.size,x=this.oldSize;y[0]=e,y[1]=t,y[0]===x[0]&&y[1]===x[1]||(x[0]=y[0],x[1]=y[1]);const{pages:b,maxPageHeight:v,maxPageWidth:M}=this.updatePagination(p,e,t),S=this.pages;this.pages=b,this.maxPageSize=[M-i,v-n];const I=this.pagination.currentPage,D=this.pages[I];return this.pages.length<1||!D?(this.visible=!1,{oldPages:S}):(this.visible=!0,this.updatePositions(I),this.update(),{oldPages:S})}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:i}=this.item;return{markerEnabled:!!i.enabled||!t||(e.marker.enabled??!0),lineEnabled:!(!e.line||!t)}}calcSymbolsLengths(e){const{marker:t,line:i}=this.item,{markerEnabled:n,lineEnabled:a}=this.calcSymbolsEnabled(e),{strokeWidth:s}=this.getMarkerStyles(e),{strokeWidth:r}=a?this.getLineStyles(e):{strokeWidth:0};return{markerLength:n?t.size:0,markerStrokeWidth:s,lineLength:a?i.length??25:0,lineStrokeWidth:r}}calculateSpriteDimensions(){let e=0,t=0,i=0,n=0;this.itemSelection.each(((a,s)=>{s.symbols.forEach((a=>{const{markerLength:s,markerStrokeWidth:r,lineLength:o,lineStrokeWidth:l}=this.calcSymbolsLengths(a),c=s+r;n=Math.max(n,o,s),t=Math.max(t,o,c),i=Math.max(i,l,c),e=Math.max(e,r+.5)}))})),t+=2*e,i+=2*e;return{spritePixelRatio:da().devicePixelRatio,spriteAAPadding:e,spriteWidth:t,spriteHeight:i,markerWidth:n}}updateMarkerLabel(e,t,i){const{marker:n,paddingX:a}=this.item,{markerWidth:s}=i,r=[];let o=a;if(e.markers.length!==t.symbols.length&&e.lines.length!==t.symbols.length){const i=[],a=[];t.symbols.forEach((e=>{const{shape:t=e.marker.shape}=n,s=zh(t);a.push(new Ga),i.push(new s)})),e.updateSymbols(i,a)}return t.symbols.forEach(((t,i)=>{const a=t.marker.padding??n.padding,{markerEnabled:l,lineEnabled:c}=this.calcSymbolsEnabled(t);e.markers[i].size=l||!c?n.size:0,r.push({length:s,spacing:a}),(l||c)&&(o+=a+s);const h=e.markers[i],u=e.lines[i];if(h){const{strokeWidth:e,fill:i,stroke:n,fillOpacity:a,strokeOpacity:s}=this.getMarkerStyles(t);h.fill=i,h.stroke=n,h.strokeWidth=e,h.fillOpacity=a,h.strokeOpacity=s}if(u){const e=this.getLineStyles(t);u.stroke=e.stroke,u.strokeOpacity=e.strokeOpacity,u.strokeWidth=e.strokeWidth,u.lineDash=e.lineDash}})),e.update(this.spriteRenderer,i,r),o}truncate(e,t,i,n,a,s){let r=!1;e.length>t&&(e=e.substring(0,t),r=!0);const o=Ua.getMeasurer({font:a}),l=ls.truncateLine(e,o,i-n,r);return l.endsWith(Va.EllipsisChar)?this.truncatedItems.add(s):this.truncatedItems.delete(s),l}updatePagination(e,t,i){const n=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=n,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:s,maxPageHeight:r,maxPageWidth:o,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,i),h=s.findIndex((e=>e.endIndex>=a));this.pagination.currentPage=me(0,h,s.length-1);const{paddingX:u,paddingY:d}=this.item,p=o-u,g=r-d;let f=0,m=-l.y-this.item.marker.size/2;c?m+=g+8:(f+=-l.x+p+8,m+=(g-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers();let y=0;return this.itemSelection.each(((e,t,i)=>{i>(s[y]?.endIndex??1/0)&&y++,e.pageIndex=y})),{maxPageHeight:r,maxPageWidth:o,pages:s}}updateItemProxyButtons(){this.itemSelection.each((e=>{const t=e.computeTransformedBBox()?.clone();t.translate(this.group.translationX,this.group.translationY),xa(e.proxyButton,t)}))}updatePaginationProxyButtons(e){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";const t=(e?.length??this.pages.length)>1,i=this.pages.length>1;t!==i&&(i?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}))):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]));const{prev:n,next:a}=this.pagination.computeCSSBounds();xa(this.proxyPrevButton,n),xa(this.proxyNextButton,a)}calculatePagination(e,t,i){const{paddingX:n,paddingY:a}=this.item,s=this.getOrientation(),r=["left","right"].includes(this.position);let o=this.pagination.getBBox(),l=new Ae(0,0,0,0),c=[],h=0,u=0,d=0;const p=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{if(d++>10){y.warn("unable to find stable legend layout.");break}o=l;const g=t-(r?0:o.width),f=Mu({orientation:s,bboxes:e,maxHeight:i-(r?o.height:0),maxWidth:g,itemPaddingY:a,itemPaddingX:n,forceResult:p});c=f?.pages??[],h=f?.maxPageWidth??0,u=f?.maxPageHeight??0;const m=c.length;if(this.pagination.visible=m>1,this.pagination.totalPages=m,this.pagination.update(),l=this.pagination.getBBox(),!this.pagination.visible)break}while((g=l).width!==o.width||g.height!==o.height);var g;return{maxPageWidth:h,maxPageHeight:u,pages:c,paginationBBox:o,paginationVertical:r}}updatePositions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:t},itemSelection:i,pages:n}=this;if(n.length<1||!n[e])return;const{columns:a,startIndex:s,endIndex:r}=n[e];let o=0,l=0;const c=a.length,h=a[0].indices.length,u="horizontal"===this.getOrientation(),d=a[0].bboxes[0].height+t,p=[];i.each(((e,t,i)=>{if(i<s||i>r)return void(e.visible=!1);const n=i-s;let g,f;u?(g=n%c,f=Math.floor(n/c)):(g=Math.floor(n/h),f=n%h),e.visible=!0;const m=a[g];m&&(l=Math.floor(d*f),o=Math.floor(p[f]??0),p[f]=(p[f]??0)+m.columnWidth,e.translationX=o,e.translationY=l)}))}updatePageNumber(e){const{pages:t}=this,{startIndex:i,endIndex:n}=t[e];0===i?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((i+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.ctx.updateService.update(6)}update(){const{label:{color:e}}=this.item;this.itemSelection.each(((t,i)=>{t.setEnabled(i.enabled),t.color=e})),this.updateContextMenu()}updateContextMenu(){const{toggleSeries:e}=this;this.ctx.contextMenuRegistry.setActionVisiblity(zu,e),this.ctx.contextMenuRegistry.setActionVisiblity(ju,e)}getLineStyles(e){const{stroke:t,strokeOpacity:i=1,strokeWidth:n,lineDash:a}=e.line??{},s=Math.min(2,n??1);return{stroke:t,strokeOpacity:i,strokeWidth:this.item.line.strokeWidth??s,lineDash:a}}getMarkerStyles(e){const{fill:t,stroke:i,strokeOpacity:n=1,fillOpacity:a=1,strokeWidth:s}=e.marker,r=Math.min(2,s??1);return{fill:t,stroke:i,strokeOpacity:n,fillOpacity:a,strokeWidth:this.item.marker.strokeWidth??r}}getDatumForPoint(e,t){const i=[],n={dist:1/0,datum:void 0};for(const a of this.group.children){if(!a.visible)continue;if(!(a instanceof wu))continue;const s=a.getBBox().clone();if(s.grow(this.item.paddingX/2,"horizontal"),s.grow(this.item.paddingY/2,"vertical"),s.containsPoint(e,t))return a.datum;const r=e-s.x-this.item.paddingX/2,o=t-s.y-this.item.paddingY/2,l=r**2+o**2;r>=0&&o>=0&&l<n.dist&&(n.dist=l,n.datum=a.datum),i.push(s)}if(Ae.merge(i).containsPoint(e,t))return n.datum}computePagedBBox(){let e=this.group.getBBox();if(this.pages.length<=1)return e;const[t,i]=this.maxPageSize;return e=e.clone(),e.height=Math.max(i,e.height),e.width=Math.max(t,e.width),e}contextToggleVisibility(e){const t=this.data.find((t=>t.itemId===e.itemId));this.doClick(t)}contextToggleOtherSeries(e){const t=this.data.find((t=>t.itemId===e.itemId));this.doDoubleClick(t)}checkContextClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(zu):this.ctx.contextMenuRegistry.enableAction(zu),this.ctx.contextMenuRegistry.dispatchContext("legend",e,{legendItem:t})}checkLegendClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doClick(t)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap((e=>e.getLegendData("category"))).filter((e=>e.enabled)).length}doClick(e){const{listeners:{legendItemClick:t},ctx:{chartService:i,highlightManager:n},preventHidingAll:a,toggleSeries:s}=this;if(!e)return!1;const{id:r,itemId:o,enabled:l}=e,c=i.series.find((e=>e.id===r));if(!c)return!1;let h=l;if(s){if(h=!l,a&&!h){this.getVisibleItemCount()<2&&(h=!0)}const t=h?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(t),this.ctx.chartEventManager.legendItemClick(c,o,h,e.legendItemName)}return h?n.updateHighlight(this.id,{series:c,itemId:o,datum:void 0}):n.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"click",enabled:h,itemId:o,seriesId:c.id}),!0}checkLegendDoubleClick(e){const t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doDoubleClick(t)&&e.preventDefault()}doDoubleClick(e){const{listeners:{legendItemDoubleClick:t},ctx:{chartService:i},toggleSeries:n}=this;if("integrated"===i.mode)return!1;if(!e)return!1;const{id:a,itemId:s,seriesId:r}=e,o=i.series.find((e=>e.id===a));if(!o)return!1;if(n){const e=i.series.flatMap((e=>e.getLegendData("category"))),t=e.filter((e=>e.enabled)).length,n=e.find((e=>e.itemId===s&&e.seriesId===r));this.ctx.chartEventManager.legendItemDoubleClick(o,s,n?.enabled??!1,t,n?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"dblclick",enabled:!0,itemId:s,seriesId:o.id}),!0}handleLegendMouseMove(e){if(!this.enabled)return;const{offsetX:t,offsetY:i}=e;e.preventDefault();const n=this.getDatumForPoint(t,i);this.doHover(e,n)}doHover(e,t){const{toggleSeries:i,listeners:n}=this;if(void 0===e||void 0===t)return this.ctx.cursorManager.updateCursor(this.id),void this.updateHighlight();const a=t?this.ctx.chartService.series.find((e=>e.id===t?.id)):void 0;if(t&&this.truncatedItems.has(t.itemId??t.id)){const{offsetX:i,offsetY:n}=e;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:i,offsetY:n,lastPointerEvent:e,showArrow:!1},ms({content:this.getItemLabel(t)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(i||null!=n.legendItemClick||null!=n.legendItemDoubleClick)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),t?.enabled&&a?this.updateHighlight({series:a,itemId:t?.itemId,datum:void 0}):this.updateHighlight()}handleLegendMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){const t=this.ctx.interactionManager.getState();16===t?this.ctx.highlightManager.updateHighlight(this.id,e):1===t&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop((()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)})))}handleLegendMouseEnter(e){const{enabled:t,toggleSeries:i,listeners:{legendItemClick:n,legendItemDoubleClick:a}}=this,s=this.getDatumForPoint(e.offsetX,e.offsetY);t&&void 0!==s&&(i||null!=n||null!=a)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(((e,t,i)=>{let{proxyButton:n}=e;null!=n&&(n.textContent=this.getItemAriaText(i))}))}getItemAriaText(e,t){const i=this.data[e],n=i&&this.getItemLabel(i);t??(t=i.enabled);const a=this.ctx.localeManager;if(e>=0&&n){const i=e+1,s=this.data.length;return[a.t("ariaLabelLegendItem",{label:n,index:i,count:s}),a.t(t?"ariaAnnounceVisible":"ariaAnnounceHidden")].join("")}return a.t("ariaLabelLegendItemUnknown")}positionLegend(e){const{shrinkRect:t}=e,i=t.clone();if(!this.enabled||!this.data.length)return{...e,shrinkRect:i};const[n,a]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0;const{oldPages:s}=this.calcLayout(n,a),r=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-r.height;default:return t.width-r.width}};if(this.visible){const e=this.spacing;let n,a;switch(this.position){case"top":case"bottom":n=(t.width-r.width)/2,a=o(),i.shrink(r.height+e,this.position);break;default:n=o(),a=(t.height-r.height)/2,i.shrink(r.width+e,this.position)}this.group.translationX=Math.floor(-r.x+t.x+n),this.group.translationY=Math.floor(-r.y+t.y+a),this.proxyLegendToolbar.style.removeProperty("display"),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";return this.updateItemProxyButtons(),this.updatePaginationProxyButtons(s),{...e,shrinkRect:i}}calculateLegendDimensions(e){const{width:t,height:i}=e,n=t/i;let a,s;switch(this.position){case"top":case"bottom":const e=n<1?Math.min(.5,1/n*.2):.2;a=this.maxWidth?Math.min(this.maxWidth,t):t,s=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*e);break;default:const r=n>1?Math.min(.5,.25*n):.25;a=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*r),s=this.maxHeight?Math.min(this.maxHeight,i):i}return[a,s]}};Pu.className="Legend",l([fi(Mi)],Pu.prototype,"toggleSeries",2),l([fi(bi)],Pu.prototype,"pagination",2),l([fi(bi)],Pu.prototype,"item",2),l([fi(bi)],Pu.prototype,"listeners",2),l([ns((e=>e.updateGroupVisibility())),fi(Mi)],Pu.prototype,"enabled",2),l([fi(Ki)],Pu.prototype,"position",2),l([fi(ki,{optional:!0})],Pu.prototype,"maxWidth",2),l([fi(ki,{optional:!0})],Pu.prototype,"maxHeight",2),l([fi(Mi,{optional:!0})],Pu.prototype,"reverseOrder",2),l([fi(rn(["horizontal","vertical"],"an orientation"),{optional:!0})],Pu.prototype,"orientation",2),l([fi(Mi,{optional:!0})],Pu.prototype,"preventHidingAll",2),l([fi(ki)],Pu.prototype,"spacing",2);var Bu={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:e=>new Pu(e),packageType:"community"},Fu=class extends Rr{constructor(e){super(),this.ctx=e,this.localeText=void 0}};l([ns((e=>{e.ctx.localeManager.setLocaleText(e.localeText)})),fi(vi,{optional:!0})],Fu.prototype,"localeText",2),l([ns((e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)})),fi(Si,{optional:!0})],Fu.prototype,"getLocaleText",2);var Gu={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],moduleFactory:e=>new Fu(e)},_u=class extends Mo{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(e,t){this.dirtyPath=!0,this.centerX=e,this.centerY=t}static align(e,t,i,n,a,s,r,o){const l=e.strokeWidth/2,c=e.align(i+a*r)+l,h=c+e.align(i+a*r,a*(o-r))-2*l,u=e.align(n+s/2)+l;e.setCenter(c,u),t.setCenter(h,u)}computeBBox(){const{centerX:e,centerY:t,width:i,height:n}=this;return new Ae(e-i/2,t-n/2,i,n)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(e,t){const i=this.transformPoint(e,t);return this.getBBox().containsPoint(i.x,i.y)}updatePath(){const{centerX:e,centerY:t,path:i,strokeWidth:n,gripLineGap:a,gripLineLength:s}=this,r=this.layerManager?.canvas?.pixelRatio??1;i.clear();const o=Math.floor(this.width/2*r)/r,l=Math.floor(this.height/2*r)/r;i.moveTo(e-o,t-l),i.lineTo(e+o,t-l),i.lineTo(e+o,t+l),i.lineTo(e-o,t+l),i.closePath();const c=Math.floor((a+n)/2*r)/r,h=Math.floor(s/2*r)/r;i.moveTo(e-c,t-h),i.lineTo(e-c,t+h),i.moveTo(e+c,t-h),i.lineTo(e+c,t+h)}};_u.className="RangeHandle",l([fi(ki),Te({redraw:3,type:"path"})],_u.prototype,"width",2),l([fi(ki),Te({redraw:3,type:"path"})],_u.prototype,"height",2),l([fi(ki),Te({redraw:3,type:"path"})],_u.prototype,"gripLineGap",2),l([fi(ki),Te({redraw:3,type:"path"})],_u.prototype,"gripLineLength",2);var Uu=class extends Mo{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n,this.dirtyPath=!0}update(e,t){this.min=isNaN(e)?this.min:e,this.max=isNaN(t)?this.max:t,this.dirtyPath=!0}computeBBox(){const{x:e,y:t,width:i,height:n}=this;return new Ae(e,t,i,n)}computeVisibleRangeBBox(){const{x:e,y:t,width:i,height:n,min:a,max:s}=this,r=e+i*a;return new Ae(r,t,e+i*s-r,n)}updatePath(){const{path:e,x:t,y:i,width:n,height:a,min:s,max:r,strokeWidth:o}=this,l=o/2;e.clear();const c=this.align(t)+l,h=this.align(i)+l,u=c+this.align(t,n)-2*l,d=h+this.align(i,a)-2*l;e.moveTo(c,h),e.lineTo(u,h),e.lineTo(u,d),e.lineTo(c,d),e.closePath();const p=this.align(t+n*s)+l,g=p+this.align(t+n*s,n*(r-s))-2*l;e.moveTo(p,h),e.lineTo(p,d),e.lineTo(g,d),e.lineTo(g,h),e.closePath()}};Uu.className="RangeMask";var Yu=class extends ca{constructor(e){super({name:"rangeSelectorGroup",layer:!0,zIndex:14}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new ca({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(e)}layout(e,t,i,n,a,s){this.x=e,this.y=t,this.width=i,this.height=n,this.lOffset=a,this.rOffset=s,this.background.translationX=e,this.background.translationY=t}updateBackground(e,t){null!=e&&this.background.removeChild(e),null!=t&&this.background.appendChild(t)}computeBBox(){const{x:e,y:t,width:i,height:n,lOffset:a,rOffset:s}=this;return new Ae(e-a,t,i+(a+s),n)}},Vu=class extends Rr{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new Uu,this.minHandle=new _u,this.maxHandle=new _u,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new Yu([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;const t=e.regionManager.addRegion("navigator",this.rangeSelector);this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",(e=>this.onHover(e)),25),t.addListener("drag-start",(e=>this.onDragStart(e)),25),t.addListener("drag",(e=>this.onDrag(e)),25),t.addListener("drag-end",(()=>this.onDragEnd()),25),t.addListener("leave",(e=>this.onLeave(e)),25),this.ctx.localeManager.addListener("locale-changed",(()=>this.updateZoom())),e.zoomManager.addListener("zoom-change",(e=>this.onZoomChange(e)))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:e=>this.onMinSliderChange(e)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:e=>this.onPanSliderChange(e)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:e=>this.onMaxSliderChange(e)})],xu({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push((()=>{this.proxyNavigatorElements.forEach((e=>e.remove())),this.proxyNavigatorToolbar.remove()}))}updateBackground(e,t){this.rangeSelector?.updateBackground(e,t)}updateGroupVisibility(){const{enabled:e}=this;null!=this.rangeSelector&&e!==this.rangeSelector.visible&&(this.rangeSelector.visible=e,this.proxyNavigatorToolbar.ariaHidden=(!e).toString(),e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}async performLayout(e){const{shrinkRect:t}=e;if(this.enabled){const e=this.height+this.spacing;t.shrink(e,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0;return{...e,shrinkRect:t}}async performCartesianLayout(e){const{x:t,width:i}=e.seriesRect;if(this.enabled){const{y:e,height:n}=this;this.layoutNodes(t,e,i,n),xa(this.proxyNavigatorToolbar,{x:t,y:e,width:i,height:n}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=i}onHover(e){if(!this.enabled)return;const{mask:t,minHandle:i,maxHandle:n}=this,{offsetX:a,offsetY:s}=e;i.containsPoint(a,s)||n.containsPoint(a,s)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(a,s)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;const{mask:t,minHandle:i,maxHandle:n,x:a,width:s,_min:r}=this,{offsetX:o,offsetY:l}=e;i.zIndex<n.zIndex?n.containsPoint(o,l)?this.dragging="max":i.containsPoint(o,l)&&(this.dragging="min"):i.containsPoint(o,l)?this.dragging="min":n.containsPoint(o,l)&&(this.dragging="max"),null==this.dragging&&t.computeVisibleRangeBBox().containsPoint(o,l)&&(this.dragging="pan",this.panStart=(o-a)/s-r),null!=this.dragging&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||null==this.dragging)return;const{dragging:t,minRange:i,panStart:n,x:a,width:s}=this;let{_min:r,_max:o}=this;const{offsetX:l}=e,c=(l-a)/s;if("min"===t)r=me(0,c,o-i);else if("max"===t)o=me(r+i,c,1);else if("pan"===t&&null!=n){const e=o-r;r=me(0,c-n,1-e),o=r+e}this._min=r,this._max=o,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){const{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max),this.setPanSliderValue(t.min,t.max),this.setSliderRatio(this.proxyNavigatorElements[0],t.min),this.setSliderRatio(this.proxyNavigatorElements[2],t.max))}onPanSliderChange(e){const t=this.getSliderRatio(this.proxyNavigatorElements[1]),i=this._max-this._min;this._min=me(0,t,1-i),this._max=this._min+i,this.updateZoom()}onMinSliderChange(e){const t=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(t,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){const t=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(t,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value=`${Math.round(100*e)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,i){const n=this.getSliderRatio(e),a=me(t,n,i);return a!==n&&this.setSliderRatio(e,a),a}setSliderRatio(e,t){const i=Math.round(100*t);e.value=`${i}`,e.ariaValueText=Ne(i)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,i,n){const{rangeSelector:a,mask:s,minHandle:r,maxHandle:o,_min:l,_max:c}=this;a.layout(e,t,i,n,r.width/2,o.width/2),s.layout(e,t,i,n),_u.align(r,o,e,t,i,n,l,c),l+(c-l)/2<.5?(r.zIndex=3,o.zIndex=4):(r.zIndex=4,o.zIndex=3),[r,this.maskVisibleRange,o].forEach(((i,n)=>{const a=i.getBBox(),s={x:a.x-e,y:a.y-t,height:a.height,width:a.width};xa(this.proxyNavigatorElements[n],s)}))}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;const{_min:e,_max:t}=this;if(null==e||null==t)return;return this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t}},!1,(e=>{null==this.min&&null==this.max||y.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${e}] has modified the initial zoom state.`)}))}};l([fi(bi,{optional:!0})],Vu.prototype,"miniChart",2),l([fi(Mi),ns((e=>e.updateGroupVisibility()))],Vu.prototype,"enabled",2),l([fi(ki)],Vu.prototype,"height",2),l([fi(ki)],Vu.prototype,"spacing",2),l([is({newValue(e){this._min=e,this.updateZoom()}}),fi(yi(Ni,Ri("max")),{optional:!0})],Vu.prototype,"min",2),l([is({newValue(e){this._max=e,this.updateZoom()}}),fi(yi(Ni,Oi("min")),{optional:!0})],Vu.prototype,"max",2);var Wu={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new Vu(e),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function Hu(e){let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}}function Zu(e){return{marker:Hu(e)}}var Ku=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(Ku||{}),$u=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))($u||{}),Xu=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(Xu||{}),Qu=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(Qu||{}),qu=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(qu||{}),Ju=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(Ju||{}),ed=Symbol("is-dark-theme"),td=Symbol("default-font"),id=Symbol("default-label-colour"),nd=Symbol("default-inverted-label-colour"),ad=Symbol("default-inside-series-label-colour"),sd=Symbol("default-muted-label-colour"),rd=Symbol("default-axis-grid-colour"),od=Symbol("default-axis-line-colour"),ld=Symbol("default-cross-lines-colour"),cd=Symbol("default-background-colour"),hd=Symbol("default-shadow-colour"),ud=Symbol("default-colours"),dd=Symbol("default-padding"),pd=Symbol("default-caption-layout-style"),gd=Symbol("default-caption-alignment"),fd=Symbol("palette-up-stroke"),md=Symbol("palette-down-stroke"),yd=Symbol("palette-up-fill"),xd=Symbol("palette-down-fill"),bd=Symbol("palette-neutral-stroke"),vd=Symbol("palette-neutral-fill"),Md=Symbol("palette-alt-up-stroke"),Sd=Symbol("palette-alt-down-stroke"),Id=Symbol("palette-alt-up-fill"),Dd=Symbol("palette-alt-down-fill"),wd=Symbol("palette-gray-fill"),kd=Symbol("palette-gray-stroke"),Nd=Symbol("default-polar-series-stroke"),Ld=Symbol("default-diverging-series-colour-range"),Ad=Symbol("default-hierarchy-fills"),Cd=Symbol("default-hierarchy-strokes"),Td=Symbol("default-annotation-stroke"),Ed=Symbol("default-text-annotation-color"),Rd=Symbol("default-annotation-background-fill"),Od=Symbol("default-annotation-handle-fill"),zd=Symbol("default-textbox-fill"),jd=Symbol("default-textbox-stroke"),Pd=Symbol("default-textbox-color"),Bd=Symbol("default-toolbar-position"),Fd=Symbol("default-gridline-enabled");function Gd(e,t,i,n,a){const{addPhaseFn:s,updatePhaseFn:r,removePhaseFn:o}=a,l=(n,a,s)=>{i.animate({id:`${e}_${t}_${a.id}_${n}`,groupId:e,from:0,to:1,ease:Ft,collapsable:!1,onUpdate(e,t){t&&"removed"!==n||(a.path.clear(!0),s(e,a),a.checkPathDirty())},onStop(){"added"===n&&(a.path.clear(!0),s(1,a),a.checkPathDirty())},phase:Qt[n]})};for(const c of n)i.isSkipped()||(l("removed",c,o),l("updated",c,r)),l("added",c,s)}var _d=null;function Ud(e){if(null!=e)return""===e?"":(_d??(_d=pa("div")),_d.textContent=String(e),_d.innerHTML)}function Yd(e,t,i){let{id:n}=e;for(var a=arguments.length,s=new Array(a>3?a-3:0),r=3;r<a;r++)s[r-3]=arguments[r];Jt(n,t,i,s,{opacity:0},{opacity:1},{phase:"trailing"})}function Vd(e,t,i){let{id:n}=e;for(var a=arguments.length,s=new Array(a>3?a-3:0),r=3;r<a;r++)s[r-3]=arguments[r];Jt(n,t,i,s,{opacity:1},{opacity:0},{phase:"remove"})}function Wd(e){return{opacity:1}}var Hd=class extends wt{constructor(){super(...arguments),this._dirty=3}markDirty(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},Zd=class extends Hd{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};l([fi(Mi),Te({redraw:3})],Zd.prototype,"enabled",2),l([fi(Bi),Te({redraw:3})],Zd.prototype,"color",2),l([fi(Di),Te({redraw:3})],Zd.prototype,"xOffset",2),l([fi(Di),Te({redraw:3})],Zd.prototype,"yOffset",2),l([fi(ki),Te({redraw:3})],Zd.prototype,"blur",2);var Kd=cn((e=>Oh(e)||"function"===typeof e&&Object.create(e.prototype)instanceof xh),"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),$d=class extends Hd{constructor(){super(...arguments),this.enabled=!0,this.shape=bh,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:n,stroke:a,strokeWidth:s,strokeOpacity:r}=this;return{size:e,shape:t,fill:i,fillOpacity:n,stroke:a,strokeWidth:s,strokeOpacity:r}}getDiameter(){return this.size+this.strokeWidth}};l([fi(Mi),Te({redraw:3})],$d.prototype,"enabled",2),l([fi(Kd),Te({redraw:3})],$d.prototype,"shape",2),l([fi(ki),Te({redraw:3})],$d.prototype,"size",2),l([fi(Bi,{optional:!0}),Te({redraw:3})],$d.prototype,"fill",2),l([fi(Ni),Te({redraw:3})],$d.prototype,"fillOpacity",2),l([fi(Bi,{optional:!0}),Te({redraw:3})],$d.prototype,"stroke",2),l([fi(ki),Te({redraw:3})],$d.prototype,"strokeWidth",2),l([fi(Ni),Te({redraw:3})],$d.prototype,"strokeOpacity",2),l([fi(Si,{optional:!0}),Te({redraw:3})],$d.prototype,"itemStyler",2);var Xd=class extends wt{constructor(){super(...arguments),this.enabled=!1}};l([fi(Mi)],Xd.prototype,"enabled",2);var Qd=class extends wt{constructor(){super(...arguments),this.enabled=!0,this.interaction=new Xd,this.position=new ys,this.range=void 0}toTooltipHtml(e,t){return this.renderer?ms(this.renderer(t),e):ms(e)}};l([fi(Mi)],Qd.prototype,"enabled",2),l([fi(Mi,{optional:!0})],Qd.prototype,"showArrow",2),l([fi(Si,{optional:!0})],Qd.prototype,"renderer",2),l([fi(bi)],Qd.prototype,"interaction",2),l([fi(bi)],Qd.prototype,"position",2),l([fi(an,{optional:!0})],Qd.prototype,"range",2);var qd=rn(["linear","smooth","step"],"a line style"),Jd=rn(["start","middle","end"]),ep=class extends wt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};l([fi(qd)],ep.prototype,"type",2),l([fi(Ni)],ep.prototype,"tension",2),l([fi(Jd)],ep.prototype,"position",2);var tp=class extends Hh{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new ep,this.shadow=new Zd,this.marker=new $d,this.label=new Ms,this.tooltip=new Qd,this.connectMissingData=!1}};function ip(e,t,i,n,a){return(1-a)**3*e+3*(1-a)**2*a*t+3*(1-a)+a**2*i+a**3*n}function np(e,t,i,n,a){if(a<=Math.min(e,n))return e<n?0:1;if(a>=Math.max(e,n))return e<n?1:0;let s=0,r=1,o=NaN;for(let l=0;l<8;l+=1){o=(s+r)/2;(1-o)**3*e+3*(1-o)**2*o*t+3*(1-o)*o**2*i+o**3*n<a?s=o:r=o}return o}function ap(e,t,i,n,a,s,r,o,l){const c=(1-l)*e+l*i,h=(1-l)*t+l*n,u=(1-l)*i+l*a,d=(1-l)*n+l*s,p=(1-l)*a+l*r,g=(1-l)*s+l*o,f=(1-l)*c+l*u,m=(1-l)*h+l*d,y=(1-l)*u+l*p,x=(1-l)*d+l*g,b=(1-l)*f+l*y,v=(1-l)*m+l*x;return[[{x:e,y:t},{x:c,y:h},{x:f,y:m},{x:b,y:v}],[{x:b,y:v},{x:y,y:x},{x:p,y:g},{x:r,y:o}]]}function sp(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function rp(e){switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:e.x1,y0:e.y1,x1:e.x0,y1:e.y0};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:e.cp3x,cp0y:e.cp3y,cp1x:e.cp2x,cp1y:e.cp2y,cp2x:e.cp1x,cp2y:e.cp1y,cp3x:e.cp0x,cp3y:e.cp0y};case"step":return{type:"step",moveTo:e.moveTo,x0:e.x1,y0:e.y1,x1:e.x0,y1:e.y0,stepX:e.stepX}}}function op(e,t){const{x:i,y:n}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n};case"step":return{type:"step",moveTo:e.moveTo,x0:i,y0:n,x1:i,y1:n,stepX:i};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:i,cp0y:n,cp1x:i,cp1y:n,cp2x:i,cp2y:n,cp3x:i,cp3y:n}}}function lp(e,t,i){const[n,a]=sp(e),s=a.x!==n.x?(i.x-t.x)/(a.x-n.x):0,r=a.y!==n.y?(i.y-t.y)/(a.y-n.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:i.x-(e.cp2x-n.x)*s,cp1y:i.y-(e.cp2y-n.y)*r,cp2x:i.x-(e.cp1x-n.x)*s,cp2y:i.y-(e.cp1y-n.y)*r,cp3x:i.x,cp3y:i.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:i.x,y1:i.y,stepX:i.x-(e.stepX-n.x)*s}}}function cp(e,t){return e.moveTo!==t?{...e,moveTo:t}:e}function hp(e,t){const[i,n]=sp(e);let a,s,r,o;if(i.x<n.x?(a=i.x,s=i.y,r=n.x,o=n.y):(a=n.x,s=n.y,r=i.x,o=i.y),t<a)return[lp(e,i,i),cp(e,!1)];if(t>r)return[e,cp(lp(e,n,n),!1)];switch(e.type){case"linear":{const i=s===o?s:(o-s)/(r-a)*(t-a)+s;return[{type:"linear",moveTo:e.moveTo,x0:a,y0:s,x1:t,y1:i},{type:"linear",moveTo:!1,x0:t,y0:i,x1:r,y1:o}]}case"step":return t<e.stepX?[{type:"step",moveTo:e.moveTo,x0:a,y0:s,x1:t,y1:s,stepX:t},{type:"step",moveTo:!1,x0:t,y0:s,x1:r,y1:o,stepX:e.stepX}]:[{type:"step",moveTo:e.moveTo,x0:a,y0:s,x1:t,y1:o,stepX:e.stepX},{type:"step",moveTo:!1,x0:t,y0:o,x1:r,y1:o,stepX:t}];case"cubic":{const i=np(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t),[n,a]=ap(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,i);return[{type:"cubic",moveTo:e.moveTo,cp0x:n[0].x,cp0y:n[0].y,cp1x:n[1].x,cp1y:n[1].y,cp2x:n[2].x,cp2y:n[2].y,cp3x:n[3].x,cp3y:n[3].y},{type:"cubic",moveTo:!1,cp0x:a[0].x,cp0y:a[0].y,cp1x:a[1].x,cp1y:a[1].y,cp2x:a[2].x,cp2y:a[2].y,cp3x:a[3].x,cp3y:a[3].y}]}}}function up(e,t,i){const{moveTo:n}=e,[a,s]=sp(e);let r,o,l,c;if(a.x<s.x?(r=a.x,o=a.y,l=s.x,c=s.y):(r=s.x,o=s.y,l=a.x,c=a.y),i<r)return lp(e,a,a);if(t>l)return lp(e,s,s);switch(e.type){case"linear":{const e=o===c?void 0:(c-o)/(l-r);return{type:"linear",moveTo:n,x0:t,y0:null==e?o:e*(t-r)+o,x1:i,y1:null==e?o:e*(i-r)+o}}case"step":if(i<=e.stepX){const a=e.y0;return{type:"step",moveTo:n,x0:t,y0:a,x1:i,y1:a,stepX:i}}if(t>=e.stepX){const a=e.y1;return{type:"step",moveTo:n,x0:t,y0:a,x1:i,y1:a,stepX:t}}{const{y0:a,y1:s,stepX:r}=e;return{type:"step",moveTo:n,x0:t,y0:a,x1:i,y1:s,stepX:r}}case"cubic":{const a=np(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[s,r]=ap(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,a);const o=np(r[0].x,r[1].x,r[2].x,r[3].x,i);return[r,s]=ap(r[0].x,r[0].y,r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y,o),{type:"cubic",moveTo:n,cp0x:r[0].x,cp0y:r[0].y,cp1x:r[1].x,cp1y:r[1].y,cp2x:r[2].x,cp2y:r[2].y,cp3x:r[3].x,cp3y:r[3].y}}}}function dp(e,t,i){if("cubic"===e.type&&"cubic"===t.type)return{type:"cubic",moveTo:e.moveTo,cp0x:(t.cp0x-e.cp0x)*i+e.cp0x,cp0y:(t.cp0y-e.cp0y)*i+e.cp0y,cp1x:(t.cp1x-e.cp1x)*i+e.cp1x,cp1y:(t.cp1y-e.cp1y)*i+e.cp1y,cp2x:(t.cp2x-e.cp2x)*i+e.cp2x,cp2y:(t.cp2y-e.cp2y)*i+e.cp2y,cp3x:(t.cp3x-e.cp3x)*i+e.cp3x,cp3y:(t.cp3y-e.cp3y)*i+e.cp3y};if("step"===e.type&&"step"===t.type)return{type:"step",moveTo:e.moveTo,x0:(t.x0-e.x0)*i+e.x0,y0:(t.y0-e.y0)*i+e.y0,x1:(t.x1-e.x1)*i+e.x1,y1:(t.y1-e.y1)*i+e.y1,stepX:(t.stepX-e.stepX)*i+e.stepX};const[n,a]=sp(e),[s,r]=sp(t);return{type:"linear",moveTo:e.moveTo,x0:(s.x-n.x)*i+n.x,y0:(s.y-n.y)*i+n.y,x1:(r.x-a.x)*i+a.x,y1:(r.y-a.y)*i+a.y}}function pp(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.moveTo?1:0;const[n]=sp(t);switch(i){case 1:e.moveTo(n.x,n.y);break;case 2:e.lineTo(n.x,n.y)}switch(t.type){case"linear":e.lineTo(t.x1,t.y1);break;case"cubic":e.cubicCurveTo(t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y);break;case"step":e.lineTo(t.stepX,t.y0),e.lineTo(t.stepX,t.y1),e.lineTo(t.x1,t.y1)}}l([fi(Ii)],tp.prototype,"xKey",2),l([fi(Ii,{optional:!0})],tp.prototype,"xName",2),l([fi(Ii)],tp.prototype,"yKey",2),l([fi(Ii,{optional:!0})],tp.prototype,"yName",2),l([fi(ki,{optional:!0})],tp.prototype,"normalizedTo",2),l([fi(Bi)],tp.prototype,"fill",2),l([fi(Ni)],tp.prototype,"fillOpacity",2),l([fi(Bi)],tp.prototype,"stroke",2),l([fi(ki)],tp.prototype,"strokeWidth",2),l([fi(Ni)],tp.prototype,"strokeOpacity",2),l([fi(Zi)],tp.prototype,"lineDash",2),l([fi(ki)],tp.prototype,"lineDashOffset",2),l([fi(bi)],tp.prototype,"interpolation",2),l([fi(bi)],tp.prototype,"shadow",2),l([fi(bi)],tp.prototype,"marker",2),l([fi(bi)],tp.prototype,"label",2),l([fi(bi)],tp.prototype,"tooltip",2),l([fi(Mi)],tp.prototype,"connectMissingData",2);var gp={start:0,middle:.5,end:1};var fp=.05;function mp(e,t,i){let{id:n}=e;const a={phase:i?Qt[i]:"trailing"};for(var s=arguments.length,r=new Array(s>3?s-3:0),o=3;o<s;o++)r[o-3]=arguments[o];Jt(n,"markers",t,r,{opacity:0},{opacity:1},a),r.forEach((e=>e.cleanup()))}function yp(e,t){let{id:i}=e;for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];Jt(i,"markers",t,a,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),a.forEach((e=>e.cleanup()))}function xp(e,t){let{id:i,nodeDataDependencies:n}=e;const a=n.seriesRectWidth;for(var s=arguments.length,r=new Array(s>2?s-2:0),o=2;o<s;o++)r[o-2]=arguments[o];qt(i,"markers",t,r,{fromFn:(e,t)=>{const i=t.midPoint?.x??a;let n=me(0,Vt(i/a),1);return isNaN(n)&&(n=0),{scalingX:0,scalingY:0,delay:n,duration:Wt,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function bp(e){return{opacity:1,scalingX:1,scalingY:1}}function vp(e,t){return{translationX:t.point?.x??NaN,translationY:t.point?.y??NaN}}function Mp(e,t){const i=(t,i)=>{const n=e[i][t];return Array.isArray(n)?n[0]:n},n=t=>{const{xValue:n}=t;return e.moved[n]?{point:i(n,"moved"),status:"updated"}:e.removed[n]?{point:i(n,"removed"),status:"removed"}:e.added[n]?{point:i(n,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(e,i)=>{const{status:a,point:s}=n(i);if("unknown"===a)return{opacity:0};const r={translationX:s?.from?.x??e.translationX,translationY:s?.from?.y??e.translationY,opacity:e.opacity,phase:Qt[a]};return"added"===t?{...r,opacity:0,translationX:s?.to?.x,translationY:s?.to?.y,phase:Qt.added}:("added"===a&&(r.opacity=0),r)},toFn:(e,i)=>{const{status:a,point:s}=n(i);if("unknown"===a)return{opacity:0};const r={translationX:i.point.x,translationY:i.point.y,opacity:1,phase:Qt[a]};return"removed"===a||"removed"===t?{...r,translationX:s?.to?.x,translationY:s?.to?.y,opacity:0,phase:Qt.removed}:r}}}function Sp(e,t){let{datumIndex:i}=t;const n=e.getNodeData();if(void 0===n)return;const a=n[i];if(void 0===a||void 0===a.point)return;const s=e.getFormattedMarkerStyle(a).size,r=s/2,{x:o,y:l}=e.contentGroup.inverseTransformPoint(a.point.x-r,a.point.y-r);return new Ae(o,l,s,s)}var Ip=.05;function Dp(e){return e.reduce(((e,t)=>{let{min:i,max:n}=e;return(null==i||i.point.x>t.point.x)&&(i=t),(null==n||n.point.x<t.point.x)&&(n=t),{min:i,max:n}}),{})}function wp(e,t,i){const n=(t.y-e.y)/(t.x-e.x);return{x:i,y:(i-e.x)*n+e.y}}function kp(e,t,i,n){let a=-1,s=0;const r=[];for(;s<e.length;)e[s].change!==t?e[s].change!==i?(r.length>0&&(n(r,a,s),r.length=0),a=s,s++):s++:(r.push(e[s]),s++);r.length>0&&n(r,a,s)}function Np(e,t){kp(e,"out","in",((i,n,a)=>{-1===n&&e[a]?i.forEach((t=>t.to=e[a].from)):a===e.length&&e[n]?i.forEach((t=>t.to=e[n].from)):"intersect"===t&&e[n]?.from&&e[a]?.from?i.forEach((t=>t.to=wp(e[n].from,e[a].from,t.from.x))):i.forEach((e=>e.to=e.from))})),kp(e,"in","out",((i,n,a)=>{-1===n&&e[a]?i.forEach((t=>t.from=e[a].to)):a===e.length&&e[n]?i.forEach((t=>t.from=e[n].to)):"intersect"===t&&e[n]?.to&&e[a]?.to?i.forEach((t=>t.from=wp(e[n].to,e[a].to,t.to.x))):i.forEach((e=>e.from=e.to))}))}function Lp(e,t,i){const n=isNaN(e.x)?t.x:e.x,a=isNaN(e.y)?t.y:e.y,s=t.x-e.x,r=t.y-e.y;return{x:n+(isNaN(s)?0:s*i),y:a+(isNaN(r)?0:r*i)}}var Ap={start:0,middle:.5,end:1};function Cp(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{path:a}=t;"smooth"===i?.type?function(e,t,i,n){const a=Array.isArray(t)?t:Array.from(t);if(0===a.length)return;if(n?e.lineTo(a[0].x,a[0].y):e.moveTo(a[0].x,a[0].y),a.length<=1)return;const s=a.map(((e,t)=>{const i=0===t?e:a[t-1],n=t===a.length-1?e:a[t+1],s=0===t||t===a.length-1;if(Math.sign(i.y-e.y)===Math.sign(n.y-e.y))return 0;if(!s){const t=Math.abs(i.y-n.y),a=Math.abs(e.y-i.y)/t,s=Math.abs(e.y-n.y)/t;if(a<=Ip||1-a<=Ip||s<=Ip||1-s<=Ip)return 0}return(n.y-i.y)/(n.x-i.x)}));0===s[1]&&(s[0]*=2),0===s[s.length-2]&&(s[s.length-1]*=2);for(let r=1;r<a.length;r+=1){const t=a[r-1],n=s[r-1],o=a[r],l=s[r],c=o.x-t.x,h=o.y-t.y;let u=c*i/3,d=c*n*i/3,p=c*i/3,g=c*l*i/3;0===l&&Math.abs(d)>Math.abs(h)&&(u*=Math.abs(h/d),d=Math.sign(d)*Math.abs(h)),0===n&&Math.abs(g)>Math.abs(h)&&(p*=Math.abs(h/g),g=Math.sign(g)*Math.abs(h)),e.cubicCurveTo(t.x+u,t.y+d,o.x-p,o.y-g,o.x,o.y)}}(a,e,i.tension??1,n):"step"===i?.type?function(e,t,i,n){let a;for(const s of t){if(null!=a){const t=a.x<s.x?i:1-i,n=(s.x-a.x)*t+a.x;e.lineTo(n,a?.y??s.y),e.lineTo(n,s.y),e.lineTo(s.x,s.y)}else n?e.lineTo(s.x,s.y):e.moveTo(s.x,s.y);a=s}}(a,e,Ap[i.position??"end"],n):function(e,t,i){let n=i;for(const{x:a,y:s}of t)n?e.lineTo(a,s):(e.moveTo(a,s),n=!0)}(a,e,n)}function Tp(e,t){let i,n;const a=[],s=()=>{null!=n&&(a.push(n),n=void 0)};for(const r of e){const{from:e,to:a}=r,o=t[r.change];if(null==o||null==e||null==a)continue;const l=Lp(e,a,o);if(!1===r.moveTo)n??(n=[]),n.push(l);else if(!0!==r.moveTo&&i){if(i){const e="in"===r.moveTo?o:1-o,{x:t,y:a}=Lp(i,l,e);n??(n=[]),n.push({x:t,y:a}),s(),n=[l]}}else s(),n=[l];i=l}return s(),a}function Ep(e,t,i,n){Tp(e,t).forEach((e=>{Cp(e,i,n)}))}function Rp(e,t){let{id:i,visible:n,nodeDataDependencies:a}=e;const{seriesRectWidth:s,seriesRectHeight:r}=a;for(var o=arguments.length,l=new Array(o>2?o-2:0),c=2;c<o;c++)l[c-2]=arguments[c];Jt(i,"path_properties",t,l,{clipX:0},{clipX:s},{phase:"initial",start:{clipMode:"normal",clipY:r,visible:n},finish:{clipMode:void 0,visible:n}})}function Op(e,t,i){let{id:n}=e,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var s=arguments.length,r=new Array(s>4?s-4:0),o=4;o<s;o++)r[o-4]=arguments[o];Jt(n,t,i,r,{opacity:0},{opacity:1},{phase:a})}function zp(e,t,i){let{id:n}=e;for(var a=arguments.length,s=new Array(a>3?a-3:0),r=3;r<a;r++)s[r-3]=arguments[r];Jt(n,t,i,s,{opacity:1},{opacity:0},{phase:"remove"})}function jp(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function Pp(e,t){let{nodeDataDependencies:i}=e;const n=e=>isFinite(e)?e:0;t.clipX=n(i.seriesRectWidth),t.clipY=n(i.seriesRectHeight)}function Bp(e){return"continuous"===e.type||"log"===e.type}function Fp(e){return"category"===e.type}function Gp(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every(((e,i)=>e===t.domain[i]))&&e.range.every(((e,i)=>e===t.range[i]))}function _p(e,t){return void 0===e||void 0===t?void 0!==e||void 0!==t:Bp(e)&&Bp(t)?e.type===t.type&&Gp(e,t):!(!Fp(e)||!Fp(t))&&Gp(e,t)}function Up(e){return null!=e&&(!!e.range.every((e=>Number.isFinite(e)))&&("category"===e.type?e.domain.every((e=>null!=e)):e.domain.every((e=>Number.isFinite(e)||e instanceof Date))))}function*Yp(e){let t=-1,i=0;for(const{point:n}of e){if(n.moveTo){const e=t>=0?{start:t,end:i}:void 0;t=i,i=t,void 0!==e&&(yield e)}i+=1}-1!==t&&(yield{start:t,end:i})}function Vp(e,t){let{start:i,end:n}=t;return function*(){for(let t=i;t<n;t+=1)yield e[t].point}()}function Wp(e,t){let{start:i,end:n}=t;return function*(){for(let t=n-1;t>=i;t-=1)yield e[t].point}()}function Hp(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),"continuous"===t.type&&"number"===typeof e){return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0]}if("log"===t.type&&"number"===typeof e)return t.convert(e);const i=t.domain.findIndex((t=>t===e));if(i>=0)return t.range[i];const n=t.domain.findIndex((t=>{return n=t,null!=(i=e)&&null!=n&&"object"===typeof i&&"object"===typeof n&&("id"in i&&"id"in n?i.id===n.id:i.toString()===n.toString());var i,n}));return n>=0?t.range[n]:NaN}function Zp(e,t){const i=Number(e),n=Number(t);return isNaN(i)||isNaN(n)?e===t:Math.abs(n-i)<.25}function Kp(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?Boolean(e):e?"in":"out"}function $p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{backfillSplitMode:n="intersect"}=i,a=[],s={added:{},moved:{},removed:{}},r=function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"move";e&&(isNaN(e.point.x)||isNaN(e.point.y))&&(e=t);const r={from:e?.point,to:t?.point,moveTo:Kp(e?.point.moveTo,t?.point.moveTo),change:n};"move"===n?(s.moved[i]=r,u++,d++):"in"===n?(s.added[i]=r,d++):"out"===n&&(s.removed[i]=r,u++),a.push(r)},{min:o,max:l}=Dp(t.nodeData),{min:c,max:h}=Dp(e.nodeData);let u=0,d=0;for(;u<t.nodeData.length||d<e.nodeData.length;){const i=t.nodeData[u],n=e.nodeData[d],a=i?Hp(i.xValue??NaN,e.scales.x):void 0,s=n?Hp(n.xValue??NaN,t.scales.x):void 0,p=void 0;if(null!=a&&Zp(a,n?.point.x))r(i,n,n.xValue,"move");else if(null!=a&&a<(c?.point.x??-1/0))r(i,p,i.xValue,"out");else if(null!=a&&a>(h?.point.x??1/0))r(i,p,i.xValue,"out");else if(null!=s&&s<(o?.point.x??-1/0))r(p,n,n.xValue,"in");else if(null!=s&&s>(l?.point.x??1/0))r(p,n,n.xValue,"in");else if(null!=a&&a<n?.point.x)r(i,p,i.xValue,"out");else if(null!=s&&s<i?.point.x)r(p,n,n.xValue,"in");else if(i)r(i,p,i.xValue,"out");else{if(!n)throw new Error("Unable to process points");r(p,n,n.xValue,"in")}}return Np(a,n),{result:a,resultMap:s}}function Xp(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{backfillSplitMode:a="intersect",multiDatum:s=!1}=n,r=[],o={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"};let h,u;const d=(e,t)=>{var i;const n=c[t.change];s?((i=l[n])[e]??(i[e]=[]),l[n][e].push(t)):o[n][e]=t,h=t,u=Cs(e)};let p=0,g=0,f=!1;for(;p<t.nodeData.length||g<e.nodeData.length;){const n=t.nodeData[p],a=e.nodeData[g],o=Cs(n?.xValue),l=Cs(a?.xValue);let c;if(o===l)c={change:"move",moveTo:Kp(n.point.moveTo??!1,a.point.moveTo),from:n.point,to:a.point},d(n?.xValue,c),p++,g++;else if(i?.removed.has(String(o)))c={change:"out",moveTo:n.point.moveTo??!1,from:n.point},d(n?.xValue,c),p++;else if(i?.added.has(String(l)))c={change:"in",moveTo:a.point.moveTo??!1,to:a.point},d(a?.xValue,c),g++;else if(s&&h&&u===o)c={...h},d(n?.xValue,c),p++;else{if(!s||!h||u!==l){f=!0;break}c={...h},d(a?.xValue,c),g++}r.push(c)}let m=-1/0;return f||(f=r.some((e=>{const{change:t,to:{x:i=-1/0}={}}=e;if("out"===t)return;const n=i<m;return m=i,n}))),f?{result:void 0,resultMap:void 0}:(Np(r,a),{result:r,resultMap:s?l:o})}function Qp(e,t,i){let n="updated";const a=e=>e.visible;if(!a(t)&&a(e))n="added";else if(a(t)&&!a(e))n="removed";else for(let s=0;s<i.length&&"move"===i[s].change&&i[s].from?.x===i[s].to?.x&&i[s].from?.y===i[s].to?.y;s++)if(s===i.length-1)return"no-op";return n}function qp(e,t){const i="none"===t?"updated":e,n={fromFn:t=>{let n;return n="removed"===e?{finish:{visible:!1}}:"added"===e?{start:{visible:!0}}:{},{phase:Qt[i],...n}},toFn:e=>({phase:Qt[i]})};return"fade"===t?{fromFn:t=>({opacity:"added"===e?0:t.opacity,...n.fromFn(t)}),toFn:t=>({opacity:"removed"===e?0:1,...n.toFn(t)})}:n}function Jp(e,t,i,n,a,s){const r=Qp(e,t,i);return{status:r,path:{addPhaseFn:(e,t)=>{s(i,{move:1,in:e},t,a)},updatePhaseFn:(e,t)=>{s(i,{move:e},t,a)},removePhaseFn:(e,t)=>{s(i,{move:0,out:e},t,a)}},pathProperties:qp(r,n)}}function eg(e,t,i,n){const a="category"===e.scales.x?.type;if(a!==("category"===t.scales.x?.type)||!Up(e.scales.x)||!Up(t.scales.x))return;const{result:s,resultMap:r}=a?Xp(e,t,i):$p(e,t);let o="updated";if(t.visible&&!e.visible?o="removed":!t.visible&&e.visible&&(o="added"),void 0===s||void 0===r)return;const l=(i?.changed??!0)||function(e,t){return!_p(e.scales.x,t.scales.x)||!_p(e.scales.y,t.scales.y)}(e,t)||"updated"!==o;return{...Jp(e,t,s,"fade",n,Ep),marker:Mp(r,o),hasMotion:l}}function tg(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return e===t||1-Math.min(e,t)/Math.max(e,t)<i?0:e<t?-1:1}function ig(e,t,i){if(e===t)return!0;const n=Number(e),a=Number(t);return Number.isFinite(n)&&Number.isFinite(a)&&0===tg(n,a,i)}function ng(e,t){let i,{x:n,y:a}=t;const s=[];let r=1/0,o=-1/0;for(const l of e){const e=Hp(l.xValue0,n),t=Hp(l.yValue0,a),c=Hp(l.xValue1,n),h=Hp(l.yValue1,a),u=Number.isFinite(e),d=Number.isFinite(c);if(u&&d&&null==i){const i=l.span,n={unshifted:i,shifted:lp(i,{x:e,y:t},{x:c,y:h})};r=Math.min(r,e),o=Math.max(o,c),s.push(n)}else if(u&&!d&&null==i)i=[l];else if(u||d||null==i)if(!u&&d&&null!=i){i.push(l);const e=i.at(0),t=i.at(-1),c={x:Hp(e.xValue0,n),y:Hp(e.yValue0,a)},h={x:Hp(t.xValue1,n),y:Hp(t.yValue1,a)},u=(h.x-c.x)/(i.length-1);for(let n=0;n<i.length;n+=1){const{span:e,yValue0:t,yValue1:r}=i[n],o=lp(e,{x:c.x+u*(n+0),y:Hp(t,a)},{x:c.x+u*(n+1),y:Hp(r,a)});s.push({unshifted:e,shifted:o})}r=Math.min(r,c.x),o=Math.max(o,h.x),i=void 0}else if(!u&&d&&null==i){const e=l.span,i=lp(e,{x:c,y:t},{x:c,y:h});s.push({unshifted:e,shifted:i})}else i=void 0;else null!=i&&i.push(l)}if(null!=i){const e=Hp(i.at(0).xValue0,n);for(const{span:t,yValue0:n,yValue1:r}of i){const i=lp(t,{x:e,y:Hp(n,a)},{x:e,y:Hp(r,a)});s.push({unshifted:t,shifted:i})}}return{interpolatingInvalidSpans:s,shiftedXRange:[r,o]}}function ag(e,t,i){const n=ng(t.data,e.scales),a=ng(e.data,t.scales),[s,r]=n.shiftedXRange,[o,l]=a.shiftedXRange,c=[],h=[];for(const d of n.interpolatingInvalidSpans){const e=d.unshifted,n=d.shifted,[{x:s,y:r},{x:u,y:p}]=sp(e);let g=!1;for(const t of a.interpolatingInvalidSpans){const i=t.shifted,a=t.unshifted,[{x:r},{x:o}]=sp(i);if(-1===tg(s,o)&&1===tg(u,r)){if(ig(s,r)&&ig(u,o))c.push({from:e,to:e}),h.push({from:e,to:a});else if(s<=r&&u>=o)c.push({from:e,to:e}),h.push({from:e,to:n});else{const[{x:t},{x:l}]=sp(n),[{x:d},{x:p}]=sp(a),g=Math.max(s,r),f=Math.min(u,o),m=up(e,g,f),y=up(i,g,f),x=up(a,Math.max(t,d),Math.min(l,p));c.push({from:m,to:y}),h.push({from:y,to:x})}g=!0}}if(!g)if(1!==tg(u,o))c.push({from:e,to:lp(e,{x:o,y:r},{x:o,y:p})});else if(-1!==tg(s,l))c.push({from:e,to:lp(e,{x:l,y:r},{x:l,y:p})});else if(0===i){const i=Hp(0,t.scales.y);c.push({from:e,to:lp(e,{x:s,y:i},{x:u,y:i})})}else if(1===i){const[t,i]=hp(e,(s+u)/2);c.push({from:t,to:op(t,{x:s,y:r})},{from:i,to:op(i,{x:u,y:p})})}}const u=[];for(const d of e.data){const t=d.span,[{x:a,y:o},{x:l,y:c}]=sp(t);let h=!1;for(const e of n.interpolatingInvalidSpans){const i=e.shifted,[{x:n},{x:s}]=sp(i);if(-1===tg(n,l)&&1===tg(s,a)){if(ig(n,a)&&ig(s,l))u.push({from:t,to:t});else if(n<=a&&s>=l){const e=up(i,a,l);u.push({from:e,to:t})}else u.push({from:t,to:t});h=!0}}if(!h)if(1!==tg(l,s))u.push({from:lp(t,{x:s,y:o},{x:s,y:c}),to:t});else if(-1!==tg(a,r))u.push({from:lp(t,{x:r,y:o},{x:r,y:c}),to:t});else if(0===i){const i=Hp(0,e.scales.y);u.push({from:lp(t,{x:a,y:i},{x:l,y:i}),to:t})}else if(1===i){const[e,i]=hp(t,(a+l)/2);u.push({from:op(e,{x:a,y:o}),to:t},{from:op(i,{x:l,y:c}),to:t})}}return{added:u,moved:h,removed:c}}var sg=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(sg||{});function rg(e,t,i,n){for(let a=0;a<i.length;a+=1){const s=i[a],r=n[a];pp(t.path,dp(s.from,s.to,e),1),pp(t.path,rp(dp(r.from,r.to,e)),2),t.path.closePath()}}function og(e,t,i){const n="category"===e.scales.x?.type,a="category"===t.scales.x?.type;if(n!==a||!Up(e.scales.x)||!Up(t.scales.x))return;let s="updated";t.visible&&!e.visible?s="removed":!t.visible&&e.visible&&(s="added");const r=ag({scales:e.scales,data:e.fillData.spans,visible:e.visible},{scales:t.scales,data:t.fillData.spans,visible:t.visible},0),o=ag({scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible},{scales:t.scales,data:t.fillData.phantomSpans,visible:t.visible},0),{resultMap:l}=n?Xp(e,t,i,{backfillSplitMode:"static",multiDatum:!0}):$p(e,t,{backfillSplitMode:"static"});if(void 0===l)return;const c=function(e,t,i,n){return{status:e,path:{addPhaseFn:(e,n)=>rg(e,n,t.added,i.added),updatePhaseFn:(e,n)=>rg(e,n,t.moved,i.moved),removePhaseFn:(e,n)=>rg(e,n,t.removed,i.removed)},pathProperties:qp(e,n)}}(s,r,o,"none");return{status:s,fill:c,marker:Mp(l,s)}}var lg=class extends Zh{constructor(e){super({moduleCtx:e,directionKeys:Yh,directionNames:Vh,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:jp({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Wd,marker:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...vp(0,t)})}}),this.properties=new tp}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:r,connectMissingData:o,normalizedTo:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,u=this.axes.y?.scale,{isContinuousX:d,xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:u}),f={value:`area-stack-${n}-yValue`,values:`area-stack-${n}-yValues`,stack:`area-stack-${n}-yValue-stack`,marker:`area-stack-${n}-yValues-marker`},m=[];Je(l)&&m.push(kc(Object.values(f),l,"range")),!d&&c&&this.processedData&&m.push(zc(this.processedData)),c&&m.push(Ac());const y={invalidValue:null};o&&a>1&&(y.invalidValue=0),i||(y.forceValue=0),await this.requestDataModel(e,t,{props:[Uc(s,p,{id:"xValue"}),Yc(r,g,{id:"yValueRaw",...y}),...Kc(r,g,{id:"yValueStack",...y,groupId:f.stack}),Yc(r,g,{id:"yValue",...y,groupId:f.value}),...Zc(r,"window","current",{id:"yValueEnd",...y,groupId:f.values},g),...Zc(r,"normal","current",{id:"yValueCumulative",...y,groupId:f.marker},g),...m],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||0===t.data.length)return[];const a=n.x,s=n.y,r=i.resolveProcessedDataDefById(this,"xValue"),o=i.getDomain(this,"xValue","key",t),l=i.getDomain(this,"yValueEnd","value",t);if("x"===e)return"key"===r?.def.type&&"category"===r.def.valueType?o:Ll(En(o),a);if(s instanceof iu||s instanceof nu)return Ll(l,s);return Ll([l[0]>0?0:l[0],l[1]<0?0:l[1]],s)}async createNodeData(){const{axes:e,data:t,processedData:{data:i}={},dataModel:n}=this,a=e.x,s=e.y;if(!a||!s||!t||!n||!this.properties.isValid())return;const{yKey:r,xKey:o,marker:l,label:c,fill:h,stroke:u,connectMissingData:d}=this.properties,{scale:p}=a,{scale:g}=s,{isContinuousY:f}=this.getScaleInformation({xScale:p,yScale:g}),m=(p.bandwidth??0)/2,y=n.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),x=n.resolveProcessedDataIndexById(this,"yValueStack"),b=(e,t,i)=>{let n;return(Je(this.properties.normalizedTo)?f&&Ls(i):!isNaN(i))&&(n=t),{x:p.convert(e)+m,y:g.convert(n),size:l.size}},v=r,M=[],S=[],{visibleSameStackCount:I}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let D=-1;i?.forEach((e=>{const{keys:t,keys:[i],datum:a,values:s}=e;s.forEach(((e,s)=>{D++;const d=a[s],p=n.resolveProcessedDataDefsValues(y,{keys:t,values:e}),{yValueRaw:g,yValueCumulative:f,yValueEnd:m}=p,x=Number.isFinite(g),I=b(i,+f,g);if(x&&l&&S.push({index:D,series:this,itemId:v,datum:d,midPoint:{x:I.x,y:I.y},cumulativeValue:m,yValue:g,xValue:i,yKey:r,xKey:o,point:I,fill:l.fill??h,stroke:l.stroke??u,strokeWidth:l.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth)}),x&&c){const e=this.getLabelText(c,{value:g,datum:d,xKey:o,yKey:r,xName:this.properties.xName,yName:this.properties.yName},(e=>ut(e)?e.toFixed(2):String(e)));M.push({index:D,series:this,itemId:r,datum:d,x:I.x,y:I.y,label:e?{text:e,fontStyle:c.fontStyle,fontWeight:c.fontWeight,fontSize:c.fontSize,fontFamily:c.fontFamily,textAlign:"center",textBaseline:"bottom",fill:c.color}:void 0})}}))}));const{interpolation:w}=this.properties,k=e=>{let t;const i=e.map((e=>e.point));switch(w.type){case"linear":t=function(e){const t=[];let i=0,n=NaN,a=NaN;for(const{x:s,y:r}of e){if(i>0){const e=1===i;t.push({type:"linear",moveTo:e,x0:n,y0:a,x1:s,y1:r})}i+=1,n=s,a=r}return t}(i);break;case"smooth":t=function(e,t){const i=Array.isArray(e)?e:Array.from(e);if(i.length<=1)return[];const n=i.map(((e,t)=>{const n=0===t?e:i[t-1],a=t===i.length-1?e:i[t+1],s=0===t||t===i.length-1;if(Math.sign(n.y-e.y)===Math.sign(a.y-e.y))return 0;if(!s){const t=Math.abs(n.y-a.y),i=Math.abs(e.y-n.y)/t,s=Math.abs(e.y-a.y)/t;if(i<=fp||1-i<=fp||s<=fp||1-s<=fp)return 0}return(a.y-n.y)/(a.x-n.x)}));0===n[1]&&(n[0]*=2),0===n[n.length-2]&&(n[n.length-1]*=2);const a=[];for(let s=1;s<i.length;s+=1){const e=i[s-1],r=n[s-1],o=i[s],l=n[s],c=o.x-e.x,h=o.y-e.y;let u=c*t/3,d=c*r*t/3,p=c*t/3,g=c*l*t/3;0===l&&Math.abs(d)>Math.abs(h)&&(u*=Math.abs(h/d),d=Math.sign(d)*Math.abs(h)),0===r&&Math.abs(g)>Math.abs(h)&&(p*=Math.abs(h/g),g=Math.sign(g)*Math.abs(h)),a.push({type:"cubic",moveTo:1===s,cp0x:e.x,cp0y:e.y,cp1x:e.x+u,cp1y:e.y+d,cp2x:o.x-p,cp2y:o.y-g,cp3x:o.x,cp3y:o.y})}return a}(i,w.tension);break;case"step":t=function(e,t){const i=[];let n=0,a=NaN,s=NaN;const r="number"===typeof t?t:gp[t];for(const{x:o,y:l}of e){if(n>0){const e=1===n,t=a+(o-a)*r;i.push({type:"step",moveTo:e,x0:a,y0:s,x1:o,y1:l,stepX:t})}n+=1,a=o,s=l}return i}(i,w.position)}return t.map(((t,i)=>({span:t,xValue0:e[i].xDatum,yValue0:e[i].yDatum,xValue1:e[i+1].xDatum,yValue1:e[i+1].yDatum})))},N=i?.flatMap((e=>{const{keys:[t],values:i}=e;return i.map((e=>({xDatum:t,values:e})))})),L=(e,t)=>({point:{x:p.convert(e)+m,y:g.convert(t)},xDatum:e,yDatum:t}),A=e=>{const t=[];if(null==N)return[];for(let i=0;i<N.length;i+=1){const{xDatum:n,values:a}=N[i],s=a[x],r=s[e],o=Number.isFinite(r);if(d&&!o)continue;const l=N[i-1]?.values[x],c=N[i+1]?.values[x];let h=0,u=0;for(let t=0;t<=e;t+=1){const e=s[t];if(Number.isFinite(e)){(null==l||Number.isFinite(l[t]))&&(h+=e),(null==c||Number.isFinite(c[t]))&&(u+=e)}}const p=t[t.length-1];if(d||h===u&&o){const e=Math.max(h,u),i=L(n,e);Array.isArray(p)?p.push(i):null!=p?(p.skip+=1,t.push([i])):t.push([i])}else if(!o&&Array.isArray(p)&&1===p.length)t[t.length-1]={skip:1};else{const e=L(n,h),i=L(n,u);Array.isArray(p)?p.push(e):null!=p&&(p.skip+=1),t.push(o?[i]:{skip:0})}}return(e=>e.flatMap((e=>Array.isArray(e)?k(e):new Array(e.skip).fill(null))))(t)},C=this.seriesGrouping?.stackIndex??0,T=()=>{if(null==N)return[];const e=N.map((e=>{let{xDatum:t,values:i}=e;const n=i[x][C];if(!d||Number.isFinite(n))return L(t,0)})).filter((e=>null!=e));return k(e)},E=A(C),R=E.map((()=>null));for(let j=C-1;j>=-1;j-=1){let e;for(let t=0;t<R.length;t+=1)null==R[t]&&(e??(e=-1!==j?A(j):T()),R[t]=e[t])}const O=E.map(((e,t)=>e??R[t])),z=E.filter((e=>null!=e));return{itemId:v,fillData:{itemId:v,spans:O,phantomSpans:R},strokeData:{itemId:v,spans:z},labelData:M,nodeData:S,scales:this.calculateScaling(),visible:this.visible,stackVisible:I>0}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(zh(e))}async updatePathNodes(e){const{opacity:t,visible:i,animationEnabled:n}=e,[a,s]=e.paths,r=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({tag:1,fill:void 0,lineJoin:s.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:r,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:i}),a.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:t,visible:i||n,strokeWidth:r}),Pp(this,s),Pp(this,a)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){this.updateFillPath(e,t),this.updateStrokePath(e,t)}updateFillPath(e,t){const{spans:i,phantomSpans:n}=t.fillData,[a]=e,{path:s}=a;s.clear(!0);for(let r=0;r<i.length;r+=1){const{span:e}=i[r],t=n[r].span;pp(s,e,1),pp(s,rp(t),2),s.closePath()}a.checkPathDirty()}updateStrokePath(e,t){const{spans:i}=t.strokeData,[,n]=e,{path:a}=n;a.clear(!0);for(const{span:s}of i)pp(a,s);n.checkPathDirty()}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:a,marker:s,fill:r,stroke:o,strokeWidth:l,fillOpacity:c,strokeOpacity:h,highlightStyle:u}=this.properties,d=yt(i&&u.item,s.getStyle(),{fill:r,stroke:o,strokeWidth:l,fillOpacity:c,strokeOpacity:h});t.each(((e,t)=>{this.updateMarkerStyle(e,s,{datum:t,highlighted:i,xKey:n,yKey:a},d)})),i||this.properties.marker.markClean()}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,(e=>{e.tag=3}))}async updateLabelNodes(e){const{labelSelection:t}=e,{enabled:i,fontStyle:n,fontWeight:a,fontSize:s,fontFamily:r,color:o}=this.properties.label;t.each(((e,t)=>{const{x:l,y:c,label:h}=t;h&&i&&this.visible?(e.fontStyle=n,e.fontWeight=a,e.fontSize=s,e.fontFamily=r,e.textAlign=h.textAlign,e.textBaseline=h.textBaseline,e.text=h.text,e.x=l,e.y=c-10,e.fill=o,e.visible=!0):e.visible=!1}))}getTooltipHtml(e){const{id:t,axes:i,dataModel:n}=this,{xKey:a,xName:s,yName:r,tooltip:o,marker:l}=this.properties,{yKey:c,xValue:h,yValue:u,datum:d,itemId:p}=e,g=i.x,f=i.y;if(!this.properties.isValid()||!(g&&f&&ut(u))||!n)return gs;const m=g.formatDatum(h),y=f.formatDatum(u),x=Ud(r),b=Ud(m+": "+y),v=yt({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:M}=this.getMarkerStyle(l,{datum:e,xKey:a,yKey:c,highlighted:!1},v);return o.toTooltipHtml({title:x,content:b,backgroundColor:M},{datum:d,itemId:p,xKey:a,xName:s,yKey:c,yName:r,color:M,title:x,seriesId:t})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||"category"!==e)return[];const{yKey:t,yName:i,fill:n,stroke:a,fillOpacity:s,strokeOpacity:r,strokeWidth:o,lineDash:l,marker:c,visible:h,legendItemName:u}=this.properties,d=!c.enabled||void 0===c.fill;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:h,label:{text:u??i??t},symbols:[{marker:{shape:c.shape,fill:d?n:c.fill,fillOpacity:d?s:c.fillOpacity,stroke:c.stroke??a,strokeOpacity:c.strokeOpacity??r,strokeWidth:c.strokeWidth??0,enabled:c.enabled||o<=0},line:{stroke:a,strokeOpacity:r,strokeWidth:o,lineDash:l}}],legendItemName:u}]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,contextData:n,paths:a}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(a,n),Rp(this,s,...a),mn([t],vp),xp(this,s,t),Yd(this,"labels",s,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,contextData:a,paths:s,previousContextData:r}=e,[o,l]=s;if(null==o&&null==l)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(s,a),this.updateStrokePath(s,a)};if(null==a||null==r)return c(),mp(this,t,"added",i),Op(this,"fill_path_properties",t,"add",o),Op(this,"stroke",t,"trailing",l),void Yd(this,"labels",t,n);const h=og(a,r,this.processedData?.reduced?.diff);if(void 0===h)return t.skipCurrentBatch(),void c();"no-op"!==h.status&&(mp(this,t,void 0,i),qt(this.id,"fill_path_properties",t,[o],h.fill.pathProperties),Gd(this.id,"fill_path_update",t,[o],h.fill.path),this.updateStrokePath(s,a),Op(this,"stroke",t,"trailing",l),Yd(this,"labels",t,n))}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ca}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return Sp(this,e)}};lg.className="AreaSeries",lg.type="area";var cg={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new lg(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:hd,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:td,color:id}}},paletteFactory:e=>{const{marker:t}=Zu(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function*hg(e){for(const t of e.children)yield t}function ug(e,t){for(const i of t){const t=i.datum;void 0===t?y.error("undefined datum"):e.addValue(i,t)}}function dg(e,t){const{x:i,y:n}=e.contentGroup.transformPoint(t.x,t.y),{nearest:a,distanceSquared:s}=e.getQuadTree().find(i,n);if(void 0!==a)return{datum:a.value,distance:Math.sqrt(s)}}var pg=class extends Hh{constructor(){super(...arguments),this.direction="vertical"}};l([fi(tn)],pg.prototype,"direction",2);var gg=class extends Zh{constructor(){super(...arguments),this.groupScale=new gi,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}updateGroupScale(e){const{groupScale:t,smallestDataInterval:i,ctx:{seriesStateManager:n}}=this,a=e.scale,s=xn.is(a)?a.calcBandwidth(i):a.bandwidth,r=[],{index:o,visibleGroupCount:l}=n.getVisiblePeerGroupIndex(this);for(let c=0;c<l;c++)r.push(String(c));t.domain=r,t.range=[0,s??0],e instanceof vr?t.paddingInner=e.groupPaddingInner:t.padding=e instanceof Er?.1:0,t.round=0!==t.padding;return{barWidth:t.bandwidth>=1?t.bandwidth:t.rawBandwidth,groupIndex:o}}resolveKeyDirection(e){return"x"===this.getBarDirection()?"x"===e?"y":"x":e}initQuadTree(e){ug(e,this.datumNodesIter())}pickNodeClosestDatum(e){return dg(this,e)}},fg=class extends Ms{constructor(){super(...arguments),this.placement="inside"}};l([fi(nn)],fg.prototype,"placement",2);var mg=class extends pg{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Zd,this.label=new fg,this.tooltip=new Qd}};function yg(e,t){e.crisp=t.crisp??!0,e.fill=t.fill,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.fillOpacity=t.fillOpacity,e.strokeOpacity=t.strokeOpacity,e.lineDash=t.lineDash,e.lineDashOffset=t.lineDashOffset,e.fillShadow=t.fillShadow,e.topLeftCornerRadius=!1!==t.topLeftCornerRadius?t.cornerRadius??0:0,e.topRightCornerRadius=!1!==t.topRightCornerRadius?t.cornerRadius??0:0,e.bottomRightCornerRadius=!1!==t.bottomRightCornerRadius?t.cornerRadius??0:0,e.bottomLeftCornerRadius=!1!==t.bottomLeftCornerRadius?t.cornerRadius??0:0,e.visible=t.visible??!0}function xg(e){let{datum:t,isHighlighted:i,style:n,highlightStyle:a,itemStyler:s,seriesId:r,ctx:{callbackCache:o},...l}=e;const{fill:c,fillOpacity:h,stroke:u,strokeWidth:d,strokeOpacity:p,lineDash:g,lineDashOffset:f,cornerRadius:m=0}=yt(i&&a,n);let y;return s&&(y=o.call(s,{datum:t.datum,xKey:t.xKey,fill:c,fillOpacity:h,stroke:u,strokeWidth:d,strokeOpacity:p,lineDash:g,lineDashOffset:f,cornerRadius:m,highlighted:i,seriesId:r,...l})),{fill:y?.fill??c,fillOpacity:y?.fillOpacity??h,stroke:y?.stroke??u,strokeWidth:y?.strokeWidth??d,strokeOpacity:y?.strokeOpacity??p,lineDash:y?.lineDash??g,lineDashOffset:y?.lineDashOffset??f,cornerRadius:y?.cornerRadius??m,topLeftCornerRadius:n.topLeftCornerRadius,topRightCornerRadius:n.topRightCornerRadius,bottomRightCornerRadius:n.bottomRightCornerRadius,bottomLeftCornerRadius:n.bottomLeftCornerRadius,fillShadow:n.fillShadow}}function bg(e,t,i,n){if(null!=t){const[e,i]=t;if(0!==e||1!==i)return!1}if(xn.is(e)){const t=e.calcBandwidth(n)-e.calcBandwidth(i);if(t>0&&t<1)return!1}return!0}l([fi(Ii)],mg.prototype,"xKey",2),l([fi(Ii,{optional:!0})],mg.prototype,"xName",2),l([fi(Ii)],mg.prototype,"yKey",2),l([fi(Ii,{optional:!0})],mg.prototype,"yName",2),l([fi(Ii,{optional:!0})],mg.prototype,"yFilterKey",2),l([fi(Ii,{optional:!0})],mg.prototype,"stackGroup",2),l([fi(Di,{optional:!0})],mg.prototype,"normalizedTo",2),l([fi(Bi)],mg.prototype,"fill",2),l([fi(Ni)],mg.prototype,"fillOpacity",2),l([fi(Bi)],mg.prototype,"stroke",2),l([fi(ki)],mg.prototype,"strokeWidth",2),l([fi(Ni)],mg.prototype,"strokeOpacity",2),l([fi(Zi)],mg.prototype,"lineDash",2),l([fi(ki)],mg.prototype,"lineDashOffset",2),l([fi(ki)],mg.prototype,"cornerRadius",2),l([fi(Mi,{optional:!0})],mg.prototype,"crisp",2),l([fi(Si,{optional:!0})],mg.prototype,"itemStyler",2),l([fi(bi,{optional:!0})],mg.prototype,"shadow",2),l([fi(bi)],mg.prototype,"label",2),l([fi(bi)],mg.prototype,"tooltip",2);var vg=e=>Me(e.yValue??0);function Mg(e,t,i){const{startingX:n,startingY:a}=function(e,t){const i=t[e?"y":"x"];let n=1/0,a=0;if(!i)return{startingX:n,startingY:a};e?a=i.scale.convert(xn.is(i.scale)?0:Math.max(...i.range)):n=i.scale.convert(xn.is(i.scale)?0:Math.min(...i.range));return{startingX:n,startingY:a}}(e,t);return{isVertical:e,calculate:(t,i)=>{let s=e?t.x:n,r=e?a:t.y,o=e?t.width:0,l=e?0:t.height;const{opacity:c}=t;let h;return i&&(isNaN(s)||isNaN(r))&&(({x:s,y:r}=i),o=e?i.width:0,l=e?0:i.height,e&&!vg(i)?r+=i.height:!e&&vg(i)&&(s+=i.width)),h=null==t.clipBBox?void 0:vg(t)?e?new Ae(s,r-l,o,l):new Ae(s-o,r,o,l):new Ae(s,r,o,l),{x:s,y:r,width:o,height:l,clipBBox:h,opacity:c}},mode:i}}function Sg(e,t){return{isVertical:e,calculate:t=>({x:e?t.x:t.x+t.width/2,y:e?t.y+t.height/2:t.y,width:e?t.width:0,height:e?0:t.height,clipBBox:t.clipBBox,opacity:t.opacity}),mode:t}}function Ig(e){const t=e=>null==e||isNaN(e.x)||isNaN(e.y);return{toFn:(i,n,a)=>{let s;return s="removed"===a&&null==i.datum&&"fade"===e.mode?{...Dg(i,n),opacity:0}:"removed"===a||t(n)?e.calculate(n,i.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity},s},fromFn:(i,n,a)=>{let s;"updated"===a&&t(n)?a="removed":"updated"===a&&t(i.previousDatum)&&(a="added"),s="added"===a&&null==i.previousDatum&&"fade"===e.mode?{...Dg(i,n),opacity:0}:"unknown"===a||"added"===a?e.calculate(n,i.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity};const r=Qt[a];return{...s,phase:r}}}}function Dg(e,t){let{x:i,y:n,width:a,height:s,clipBBox:r,opacity:o}=t;return{x:i,y:n,width:a,height:s,clipBBox:r,opacity:o}}function wg(e,t,i){if(void 0===e)return;const{x:n,y:a,width:s,height:r}=e;return t.inverseTransformBBox(new Ae(n,a,s,r)).clip(i)}function kg(e,t,i){if(t.enabled&&i){const{x:n,y:a,text:s,textAlign:r,textBaseline:o}=i,{color:l,fontStyle:c,fontWeight:h,fontSize:u,fontFamily:d}=t;e.setProperties({visible:!0,x:n,y:a,text:s,fill:l,fontStyle:c,fontWeight:h,fontSize:u,fontFamily:d,textAlign:r,textBaseline:o})}else e.visible=!1}function Ng(e){let{isPositive:t,isVertical:i,placement:n,padding:a=0,rect:s}=e,r=s.x+s.width/2,o=s.y+s.height/2,l="center",c="middle";switch(n){case"start":i?(o=t?s.y+s.height+a:s.y-a,c=t?"top":"bottom"):(r=t?s.x-a:s.x+s.width+a,l=t?"start":"end");break;case"outside":case"end":i?(o=t?s.y-a:s.y+s.height+a,c=t?"bottom":"top"):(r=t?s.x+s.width+a:s.x-a,l=t?"start":"end")}return{x:r,y:o,textAlign:l,textBaseline:c}}var Lg=class extends gg{constructor(e){super({moduleCtx:e,directionKeys:Yh,directionNames:Vh,pickModes:[3,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Dg,label:Wd}}),this.properties=new mg}crossFilteringEnabled(){return null!=this.properties.yFilterKey&&(null==this.seriesGrouping||0===this.seriesGrouping.stackIndex)}async processData(e){if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:t=this.id}={},data:i=[]}=this,{xKey:n,yKey:a,yFilterKey:s,normalizedTo:r}=this.properties,o=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:h,xScaleType:u,yScaleType:d}=this.getScaleInformation({xScale:l,yScale:c}),p=`bar-stack-${t}-yValues`,g=`${p}-trailing`,f=[];ut(r)&&f.push(kc([p,g],Math.abs(r),"range")),o&&this.processedData&&f.push(zc(this.processedData)),o&&f.push(Ac());const m=this.visible?{}:{forceValue:0},{processedData:y}=await this.requestDataModel(e,i,{props:[Uc(n,u,{id:"xValue"}),Yc(a,d,{id:"yValue-raw",invalidValue:null,...m}),...this.crossFilteringEnabled()?[Yc(s,d,{id:"yFilterValue",invalidValue:null,...m})]:[],...Zc(a,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:p,separateNegative:!0,...m},d),...Zc(a,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0,...m},d),...h?[Sc,Ic]:[],...f],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=y.reduced?.smallestKeyInterval,this.largestDataInterval=y.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,smallestDataInterval:n}=this;if(!t||!i||0===t.data.length)return[];const a=this.getCategoryAxis(),s=this.getValueAxis(),r=i.resolveProcessedDataDefById(this,"xValue"),o=i.getDomain(this,"xValue","key",t);let l=i.getDomain(this,"yValue-end","value",t);const c=this.crossFilteringEnabled()?i.getDomain(this,"yFilterValue","value",t):void 0;if(null!=c&&(l=[Math.min(l[0],c[0]),Math.max(l[1],c[1])]),e===this.getCategoryDirection()){if("key"===r?.def.type&&"category"===r.def.valueType)return o;const e=ut(n)?.5*n:0,t=En(o)??[NaN,NaN];return Ll([t[0]+-e,t[1]+e],a)}if(this.getValueAxis()instanceof iu)return Ll(l,s);return Ll([Math.min(0,l[0]),Math.max(0,l[1])],s)}async createNodeData(){const{dataModel:e}=this,t=this.getCategoryAxis(),i=this.getValueAxis();if(!e||!t||!i||!this.properties.isValid())return;const n=t.scale,a=i.scale,{xKey:s,yKey:r,xName:o,yName:l,fill:c,stroke:h,strokeWidth:u,cornerRadius:d,legendItemName:p,label:g}=this.properties,f=i.isReversed(),{barWidth:m,groupIndex:y}=this.updateGroupScale(t),x=xn.is(n)?-.5*m:0,b=e.resolveProcessedDataIndexById(this,"xValue"),v=e.resolveProcessedDataIndexById(this,"yValue-raw"),M=this.crossFilteringEnabled()?e.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,S=e.resolveProcessedDataIndexById(this,"yValue-start"),I=e.resolveProcessedDataIndexById(this,"yValue-end"),D=e.resolveProcessedDataIndexById(this,"yValue-range"),w=!this.ctx.animationManager.isSkipped(),k=e=>{let{datum:t,valueIndex:i,xValue:o,yValue:l,cumulativeValue:p,phantom:b,currY:v,prevY:M,isPositive:S,yRange:I,labelText:D,crossScale:w=1}=e;const k=n.convert(o),L=S!==f,A=k+N.convert(String(y))+x,C=a.convert(v),T=a.convert(M),E="x"===this.getBarDirection(),R=a.convert(I),O=a.convert(0),z=.5*m*(1-w),j={x:E?Math.min(C,T):A+z,y:E?A+z:Math.min(C,T),width:E?Math.abs(T-C):m*w,height:E?m*w:Math.abs(T-C)},P=new Ae(j.x,j.y,j.width,j.height),B={x:E?Math.min(O,R):A+z,y:E?A+z:Math.min(O,R),width:E?Math.abs(O-R):m*w,height:E?m*w:Math.abs(O-R)},{fontStyle:F,fontWeight:G,fontSize:_,fontFamily:U,color:Y,placement:V}=g,W=this.shouldFlipXY()?j.height:j.width;return{series:this,itemId:b?jc(r,b):r,datum:t,valueIndex:i,cumulativeValue:p,phantom:b,xValue:o,yValue:l,yKey:r,xKey:s,capDefaults:{lengthRatioMultiplier:W,lengthMax:W},x:B.x,y:B.y,width:B.width,height:B.height,midPoint:{x:j.x+j.width/2,y:j.y+j.height/2},fill:c,stroke:h,opacity:1,strokeWidth:u,cornerRadius:d,topLeftCornerRadius:E!==L,topRightCornerRadius:L,bottomRightCornerRadius:E===L,bottomLeftCornerRadius:!L,clipBBox:P,label:null!=D?{text:D,fill:Y,fontStyle:F,fontWeight:G,fontSize:_,fontFamily:U,...Ng({isPositive:S,isVertical:!E,placement:V,rect:j})}:void 0,missing:null==l,focusable:!b}},{groupScale:N,processedData:L}=this,A=[],C=[],T=[];return L?.data.forEach((e=>{let{keys:t,datum:i,values:n,aggValues:a}=e;n.forEach(((e,n)=>{const c=t[b],h=e[v],u=Number(e[S]),d=null!=M?Number(e[M]):void 0,g=Number(e[I]),f=h>=0&&!Object.is(h,-0),m=a?.[D][f?1:0]??0;if(!Number.isFinite(g))return;if(null!=d&&!Number.isFinite(d))return;const y=null!=h?this.getLabelText(this.properties.label,{datum:i[n],value:d??h,xKey:s,yKey:r,xName:o,yName:l,legendItemName:p},(e=>ut(e)?e.toFixed(2):String(e))):void 0,x=null!=d&&d>h,w=k({datum:i[n],valueIndex:n,xValue:c,yValue:d??h,cumulativeValue:d??g,phantom:!1,currY:null!=d?u+d:g,prevY:u,isPositive:f,yRange:Math.max(u+(d??-1/0),m),labelText:y,crossScale:x?.6:void 0});if(C.push(w),T.push(w),null!=d){const e=k({datum:i[n],valueIndex:n,xValue:c,yValue:d,cumulativeValue:d,phantom:!0,currY:g,prevY:u,isPositive:f,yRange:m,labelText:void 0,crossScale:void 0});A.push(e)}}))})),{itemId:r,nodeData:A.length>0?[...A,...C]:C,labelData:T,scales:this.calculateScaling(),visible:this.visible||w}}nodeFactory(){return new lu}getHighlightData(e,t){const i=e.find((e=>e.datum===t.datum&&!e.phantom));return null!=i?[i]:void 0}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,(e=>jc(e.xValue,e.valueIndex,e.phantom)))}async updateDatumNodes(e){if(!this.properties.isValid())return;const{yKey:t,stackGroup:i,fill:n,fillOpacity:a,stroke:s,strokeWidth:r,strokeOpacity:o,lineDash:l,lineDashOffset:c,itemStyler:h,shadow:u,highlightStyle:{item:d}}=this.properties,p=this.axes.x,g=this.properties.crisp??bg(p?.scale,p?.visibleRange,this.smallestDataInterval,this.largestDataInterval),f="x"===this.getCategoryDirection(),m={fill:n,stroke:s,lineDash:l,lineDashOffset:c,fillShadow:u,strokeWidth:this.getStrokeWidth(r),fillOpacity:0,strokeOpacity:0},y={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:d,yKey:t,style:m,itemStyler:h,stackGroup:i};e.datumSelection.each(((e,t)=>{m.fillOpacity=a*(t.phantom?.2:1),m.strokeOpacity=o*(t.phantom?.2:1),m.cornerRadius=t.cornerRadius,m.topLeftCornerRadius=t.topLeftCornerRadius,m.topRightCornerRadius=t.topRightCornerRadius,m.bottomRightCornerRadius=t.bottomRightCornerRadius,m.bottomLeftCornerRadius=t.bottomLeftCornerRadius;const i=f?(t.clipBBox?.width??t.width)>0:(t.clipBBox?.height??t.height)>0;y.datum=t;const n=xg(y);n.crisp=g,n.visible=i,yg(e,n)}))}async updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,(e=>{e.pointerEvents=1}))}async updateLabelNodes(e){e.labelSelection.each(((e,t)=>{kg(e,this.properties.label,t.label)}))}getTooltipHtml(e){const{id:t,processedData:i,ctx:{callbackCache:n}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!i||!this.properties.isValid()||!a||!s)return gs;const{xKey:r,yKey:o,xName:l,yName:c,fill:h,stroke:u,strokeWidth:d,tooltip:p,itemStyler:g,stackGroup:f,legendItemName:m}=this.properties,{xValue:y,yValue:x,datum:b,itemId:v}=e,M=a.formatDatum(y),S=s.formatDatum(x),I=Ud(c),D=Ud(M+": "+S);let w;g&&(w=n.call(g,{seriesId:t,datum:b,xKey:r,yKey:o,stackGroup:f,fill:h,stroke:u,strokeWidth:this.getStrokeWidth(d),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));const k=w?.fill??h;return p.toTooltipHtml({title:I,content:D,backgroundColor:k},{seriesId:t,itemId:v,datum:b,xKey:r,yKey:o,xName:l,yName:c,stackGroup:f,title:I,color:k,legendItemName:m,...this.getModuleTooltipParams()})}getLegendData(e){const{showInLegend:t}=this.properties;if("category"!==e||!this.data?.length||!this.properties.isValid()||!t)return[];const{yKey:i,yName:n,fill:a,stroke:s,strokeWidth:r,fillOpacity:o,strokeOpacity:l,legendItemName:c,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:h,label:{text:c??n??i},symbols:[{marker:{fill:a,fillOpacity:o,stroke:s,strokeWidth:r,strokeOpacity:l}}],legendItemName:c}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i,annotationSelections:n}=e;const a=Ig(Mg(this.isVertical(),this.axes,"normal"));qt(this.id,"nodes",this.ctx.animationManager,[t],a),Yd(this,"labels",this.ctx.animationManager,i),Yd(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,annotationSelections:n,previousContextData:a}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const s=this.processedData?.reduced?.diff,r=null==a?"fade":"normal",o=Ig(Mg(this.isVertical(),this.axes,r));qt(this.id,"nodes",this.ctx.animationManager,[t],o,((e,t)=>jc(t.xValue,t.valueIndex,t.phantom)),s);(s?.changed??!0)&&(Yd(this,"labels",this.ctx.animationManager,i),Yd(this,"annotations",this.ctx.animationManager,...n))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;const n=this.contextNodeData?.nodeData[t].clipBBox;return wg(n,this.contentGroup,i)}};Lg.className="BarSeries",Lg.type="bar";var Ag={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new Lg(e),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:e=>"horizontal"===e?.direction,themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:td,color:ad,placement:"inside"},shadow:{enabled:!1,color:hd,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:Hu},Cg=e=>{const t=Ye.fromString(e),[i,n,a]=Ye.RGBtoOKLCH(t.r,t.g,t.b);return{l:i,c:n,h:a,a:t.a}},Tg=1e-6,Eg=e=>e.c<Tg||e.l<Tg||e.l>1-Tg,Rg=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Cg)}update(){const{domain:e,range:t}=this;e.length<2&&(y.warnOnce("`colorDomain` should have at least 2 values."),0===e.length?e.push(0,1):1===e.length&&e.push(e[0]+1));for(let i=1;i<e.length;i++){if(e[i-1]>=e[i]){y.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort(((e,t)=>e-t));break}}if(t.length<e.length)for(let i=t.length;i<e.length;i++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Cg)}convert(e){this.refresh();const{domain:t,range:i,parsedRange:n}=this,a=t[0],s=t.at(-1),r=i[0],o=i[i.length-1];if(e<=a)return r;if(e>=s)return o;let l,c;if(2===t.length){const t=(e-a)/(s-a),n=1/(i.length-1);l=i.length<=2?0:Math.min(Math.floor(t*(i.length-1)),i.length-2),c=(t-l*n)/n}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const i=t[l];c=(e-i)/(t[l+1]-i)}return((e,t,i)=>{let n;if(i=me(0,i,1),Eg(e))n=t.h;else if(Eg(t))n=e.h;else{const a=e.h;let s=t.h;const r=t.h-e.h;r>180?s-=360:r<-180&&(s+=360),n=a*(1-i)+s*i}const a=e.c*(1-i)+t.c*i,s=e.l*(1-i)+t.l*i,r=e.a*(1-i)+t.a*i;return Ye.fromOKLCH(s,a,n,r)})(n[l],n[l+1],c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&y.warnOnce("Expected update to not invalidate scale"))}};l([di],Rg.prototype,"domain",2),l([di],Rg.prototype,"range",2);var Og=class extends $d{constructor(){super(...arguments),this.maxSize=30}};l([fi(ki),Te({redraw:3})],Og.prototype,"maxSize",2),l([fi(_i,{optional:!0}),Te({redraw:3})],Og.prototype,"domain",2);var zg=class extends Ms{constructor(){super(...arguments),this.placement="top"}};l([fi(sn)],zg.prototype,"placement",2);var jg=class extends Hh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new zg,this.tooltip=new Qd,this.marker=new Og}};l([fi(Ii)],jg.prototype,"xKey",2),l([fi(Ii)],jg.prototype,"yKey",2),l([fi(Ii)],jg.prototype,"sizeKey",2),l([fi(Ii,{optional:!0})],jg.prototype,"labelKey",2),l([fi(Ii,{optional:!0})],jg.prototype,"colorKey",2),l([fi(Ii,{optional:!0})],jg.prototype,"xName",2),l([fi(Ii,{optional:!0})],jg.prototype,"yName",2),l([fi(Ii,{optional:!0})],jg.prototype,"sizeName",2),l([fi(Ii,{optional:!0})],jg.prototype,"labelName",2),l([fi(Ii,{optional:!0})],jg.prototype,"colorName",2),l([fi(_i,{optional:!0})],jg.prototype,"colorDomain",2),l([fi(Fi)],jg.prototype,"colorRange",2),l([fi(Ii,{optional:!0})],jg.prototype,"title",2),l([Ja("marker.shape")],jg.prototype,"shape",2),l([Ja("marker.size")],jg.prototype,"size",2),l([Ja("marker.maxSize")],jg.prototype,"maxSize",2),l([Ja("marker.domain",{optional:!0})],jg.prototype,"domain",2),l([Ja("marker.fill",{optional:!0})],jg.prototype,"fill",2),l([Ja("marker.fillOpacity")],jg.prototype,"fillOpacity",2),l([Ja("marker.stroke",{optional:!0})],jg.prototype,"stroke",2),l([Ja("marker.strokeWidth")],jg.prototype,"strokeWidth",2),l([Ja("marker.strokeOpacity")],jg.prototype,"strokeOpacity",2),l([Ja("marker.itemStyler",{optional:!0})],jg.prototype,"itemStyler",2),l([fi(bi)],jg.prototype,"label",2),l([fi(bi)],jg.prototype,"tooltip",2);var Pg=class extends Wh{constructor(e,t,i,n){super(e,t,i,n),this.sizeKey=n.properties.sizeKey}},Bg=class extends Zh{constructor(e){super({moduleCtx:e,directionKeys:Yh,directionNames:Vh,pickModes:[2,3,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Wd,marker:bp}}),this.NodeEvent=Pg,this.properties=new jg,this.sizeScale=new qh,this.colorScale=new Rg}async processData(e){if(!this.properties.isValid()||null==this.data||!this.visible)return;const t=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:a}=this.getScaleInformation({xScale:t,yScale:i}),s=this.colorScale.type,r=this.sizeScale.type,{xKey:o,yKey:l,sizeKey:c,labelKey:h,colorDomain:u,colorRange:d,colorKey:p,marker:g}=this.properties,{dataModel:f,processedData:m}=await this.requestDataModel(e,this.data,{props:[Uc(o,n,{id:"xKey-raw"}),Uc(l,a,{id:"yKey-raw"}),...h?[Uc(h,"band",{id:"labelKey-raw"})]:[],Yc(o,n,{id:"xValue"}),Yc(l,a,{id:"yValue"}),Yc(c,r,{id:"sizeValue"}),...p?[Yc(p,s,{id:"colorValue"})]:[],...h?[Yc(h,"band",{id:"labelValue"})]:[]]}),y=f.resolveProcessedDataIndexById(this,"sizeValue"),x=m.domain.values[y]??[];if(this.sizeScale.domain=g.domain?g.domain:x,p){const e=f.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=u??m.domain.values[e]??[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",a=t.resolveProcessedDataDefById(this,n),s=t.getDomain(this,n,"value",i);if("value"===a?.def.type&&"category"===a?.def.valueType)return s;const r=this.axes[e];return Ll(En(s),r)}async createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:n,sizeScale:a}=this,{xKey:s,yKey:r,sizeKey:o,labelKey:l,xName:c,yName:h,sizeName:u,labelName:d,label:p,colorKey:g,marker:f,visible:m}=this.properties,y=zh(f.shape),{placement:x}=p,b=e.x,v=e.y;if(!(t&&i&&m&&b&&v))return;const M=t.resolveProcessedDataIndexById(this,"xValue"),S=t.resolveProcessedDataIndexById(this,"yValue"),I=o?t.resolveProcessedDataIndexById(this,"sizeValue"):-1,D=g?t.resolveProcessedDataIndexById(this,"colorValue"):-1,w=l?t.resolveProcessedDataIndexById(this,"labelValue"):-1,k=b.scale,N=v.scale,L=(k.bandwidth??0)/2,A=(N.bandwidth??0)/2,C=[];a.range=[f.size,f.maxSize];const T=p.getFont(),E=Ua.getMeasurer({font:T});for(const{values:R,datum:O}of i.data??[]){const e=R[M],t=R[S],i=k.convert(e)+L,m=N.convert(t)+A,b=this.getLabelText(p,{value:l?R[w]:t,datum:O,xKey:s,yKey:r,sizeKey:o,labelKey:l,xName:c,yName:h,sizeName:u,labelName:d}),v=E.measureText(String(b)),T=o?a.convert(R[I]):f.size,z=g?n.convert(R[D]):void 0;C.push({series:this,itemId:r,yKey:r,xKey:s,datum:O,xValue:e,yValue:t,sizeValue:R[I],point:{x:i,y:m,size:T},midPoint:{x:i,y:m},fill:z,label:{text:b,...v},marker:y,placement:x})}return{itemId:r,nodeData:C,labelData:C,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:e}=this.properties.marker;return new(zh(e))}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;this.properties.marker.isDirty()&&(i.clear(),i.cleanup());const n=this.properties.marker.enabled?t:[];return i.update(n,void 0,(e=>jc([e.xValue,e.yValue,e.label.text])))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:a,sizeKey:s,labelKey:r,marker:o}=this.properties,{size:l,shape:c,fill:h,fillOpacity:u,stroke:d,strokeWidth:p,strokeOpacity:g}=yt(i&&this.properties.highlightStyle.item,o.getStyle()),f={size:l,shape:c,fill:h,fillOpacity:u,stroke:d,strokeWidth:p,strokeOpacity:g};this.sizeScale.range=[o.size,o.maxSize],t.each(((e,t)=>{this.updateMarkerStyle(e,o,{datum:t,highlighted:i,xKey:n,yKey:a,sizeKey:s,labelKey:r},f)})),i||this.properties.marker.markClean()}async updateLabelSelection(e){const t=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map((e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}}))))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each(((e,i)=>{e.text=i.label.text,e.fill=t.color,e.x=i.point?.x??0,e.y=i.point?.y??0,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.textAlign="left",e.textBaseline="top"}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return gs;const{xKey:n,yKey:a,sizeKey:s,labelKey:r,xName:o,yName:l,sizeName:c,labelName:h,marker:u,tooltip:d}=this.properties,p=this.properties.title??l,g=yt({fill:e.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:f="gray"}=this.getMarkerStyle(u,{datum:e,highlighted:!1,xKey:n,yKey:a,sizeKey:s,labelKey:r},g),{datum:m,xValue:y,yValue:x,sizeValue:b,label:{text:v},itemId:M}=e,S=Ud(t.formatDatum(y)),I=Ud(i.formatDatum(x));let D=`<b>${Ud(o??n)}</b>: ${S}<br><b>${Ud(l??a)}</b>: ${I}`;return s&&(D+=`<br><b>${Ud(c??s)}</b>: ${Ud(String(b))}`),r&&(D=`<b>${Ud(h??r)}</b>: ${Ud(v)}<br>`+D),d.toTooltipHtml({title:p,content:D,backgroundColor:f},{datum:m,itemId:M,xKey:n,xName:o,yKey:a,yName:l,sizeKey:s,sizeName:c,labelKey:r,labelName:h,title:p,color:f,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];const{yKey:e,yName:t,title:i,marker:n,visible:a}=this.properties,{shape:s,fill:r,stroke:o,fillOpacity:l,strokeOpacity:c,strokeWidth:h}=n;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:a,label:{text:i??t??e},symbols:[{marker:{shape:s,fill:r??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:h??0}}]}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:i}=e;yp(this,this.ctx.animationManager,t),Yd(this,"labels",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ca}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,sizeKey:n,labelKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,sizeKey:n,labelKey:a,highlighted:!1})}computeFocusBounds(e){return Sp(this,e)}};Bg.className="BubbleSeries",Bg.type="bubble";var Fg={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new Bg(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:td,color:id}}},paletteFactory:Hu},Gg=class extends Hh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Zd,this.label=new Ms,this.tooltip=new Qd}};l([fi(Ii)],Gg.prototype,"xKey",2),l([fi(Ii,{optional:!0})],Gg.prototype,"yKey",2),l([fi(Ii,{optional:!0})],Gg.prototype,"xName",2),l([fi(Ii,{optional:!0})],Gg.prototype,"yName",2),l([fi(Bi,{optional:!0})],Gg.prototype,"fill",2),l([fi(Ni)],Gg.prototype,"fillOpacity",2),l([fi(Bi,{optional:!0})],Gg.prototype,"stroke",2),l([fi(ki)],Gg.prototype,"strokeWidth",2),l([fi(Ni)],Gg.prototype,"strokeOpacity",2),l([fi(Zi)],Gg.prototype,"lineDash",2),l([fi(ki)],Gg.prototype,"lineDashOffset",2),l([fi(ki)],Gg.prototype,"cornerRadius",2),l([fi(Mi)],Gg.prototype,"areaPlot",2),l([fi(Ci,{optional:!0})],Gg.prototype,"bins",2),l([fi(rn(["count","sum","mean"],"a histogram aggregation"))],Gg.prototype,"aggregation",2),l([fi(ki,{optional:!0})],Gg.prototype,"binCount",2),l([fi(bi)],Gg.prototype,"shadow",2),l([fi(bi)],Gg.prototype,"label",2),l([fi(bi)],Gg.prototype,"tooltip",2);var _g=class extends Zh{constructor(e){super({moduleCtx:e,directionKeys:Yh,directionNames:Vh,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Dg,label:Wd}}),this.properties=new Gg,this.calculatedBins=[]}deriveBins(e){const t=Hn(e[0],e[1],10),i=Kn(e[0],e[1],10),[n]=t;return[[n-i,n],...t.map((e=>[e,e+i]))]}calculateNiceBins(e,t){const i=Math.floor(e[0]),n=e[1],a=t||1,{start:s,binSize:r}=this.calculateNiceStart(i,n,a);return this.getBins(s,n,r,a)}getBins(e,t,i,n){const a=[],s=this.calculatePrecision(i);for(let r=0;r<n;r++){const o=Math.round((e+r*i)*s)/s;let l=Math.round((e+(r+1)*i)*s)/s;r===n-1&&(l=Math.max(l,t)),a[r]=[o,l]}return a}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,i){const n=Math.abs(t-e)/i,a=Math.floor(Math.log10(n)),s=Math.pow(10,a);return{start:Math.floor(e/s)*s,binSize:n}}async processData(e){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:i,areaPlot:n,aggregation:a}=this.properties,s=this.axes.x?.scale,r=this.axes.y?.scale,{xScaleType:o,yScaleType:l}=this.getScaleInformation({yScale:r,xScale:s}),c=[Uc(t,o),Dc];if(i){let e=fc("groupAgg");"count"===a||("sum"===a?e=pc("groupAgg"):"mean"===a&&(e=mc("groupAgg"))),n&&(e=yc("groupAgg",e)),c.push(Yc(i,l,{invalidValue:void 0}),e)}else{let e=fc("groupAgg");n&&(e=yc("groupAgg",e)),c.push(e)}!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(zc(this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:e=>{const t=Ll(e.domain.keys[0]);if(0===t.length)return e.domain.groups=[],()=>[];const i=ht(this.properties.binCount)?this.calculateNiceBins(t,this.properties.binCount):this.properties.bins??this.deriveBins(t),n=i.length;return this.calculatedBins=[...i],e=>{const t=e.keys[0];for(let a=0;a<n;a++){const e=i[a];if(t>=e[0]&&t<e[1])return e;if(a===n-1&&t<=e[1])return e}return[]}}}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i||!this.calculatedBins.length)return[];const n=i.getDomain(this,"groupAgg","aggregate",t),a=this.calculatedBins?.[0][0],s=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return Ll("x"===e?[a,s]:n)}async createNodeData(){const{id:e,axes:t,processedData:i,ctx:{callbackCache:n}}=this,a=t.x,s=t.y;if(!a||!s)return;const{scale:r}=a,{scale:o}=s,{xKey:l,yKey:c,xName:h,yName:u,fill:d,stroke:p,strokeWidth:g,cornerRadius:f}=this.properties,{formatter:m=e=>String(e.value),fontStyle:y,fontWeight:x,fontSize:b,fontFamily:v,color:M}=this.properties.label,S=[],I={itemId:this.properties.yKey??this.id,nodeData:S,labelData:S,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&i&&"grouped"===i.type?(i.data.forEach((t=>{const{aggValues:[[i,a]]=[[0,0]],datum:I,datum:{length:D},keys:w,keys:[k,N]}=t,L=r.convert(k),A=r.convert(N),C=i+a,T=o.convert(0),E=o.convert(C),R=Math.abs(A-L),O=Math.abs(E-T),z=Math.min(L,A),j=Math.min(T,E);let P;0!==C&&(P={text:n.call(m,{value:C,datum:I,seriesId:e,xKey:l,yKey:c,xName:h,yName:u})??String(C),fontStyle:y,fontWeight:x,fontSize:b,fontFamily:v,fill:M,x:z+R/2,y:j+O/2});const B={x:z+R/2,y:j+O/2},F=s.isReversed();S.push({series:this,datum:I,aggregatedValue:C,frequency:D,domain:w,yKey:c,xKey:l,x:z,y:j,xValue:L,yValue:E,width:R,height:O,midPoint:B,fill:d,stroke:p,cornerRadius:f,topLeftCornerRadius:!F,topRightCornerRadius:!F,bottomRightCornerRadius:F,bottomLeftCornerRadius:F,opacity:1,strokeWidth:g,label:P})})),S.sort(((e,t)=>e.x-t.x)),I):I}nodeFactory(){return new lu}async updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e;return i.update(t,(e=>{e.tag=0,e.crisp=!0}),(e=>e.domain.join("_")))}async updateDatumNodes(e){const{isHighlight:t}=e,{fillOpacity:i,strokeOpacity:n,lineDash:a,lineDashOffset:s,shadow:r,highlightStyle:{item:{fill:o,fillOpacity:l=i,stroke:c,strokeWidth:h}}}=this.properties;e.datumSelection.each(((e,u,d)=>{const{cornerRadius:p,topLeftCornerRadius:g,topRightCornerRadius:f,bottomRightCornerRadius:m,bottomLeftCornerRadius:y}=u,x=t&&void 0!==h?h:u.strokeWidth,b=t?l:i;e.fill=(t?o:void 0)??u.fill,e.stroke=(t?c:void 0)??u.stroke,e.fillOpacity=b,e.strokeOpacity=n,e.strokeWidth=x,e.lineDash=a,e.lineDashOffset=s,e.topLeftCornerRadius=g?p:0,e.topRightCornerRadius=f?p:0,e.bottomRightCornerRadius=m?p:0,e.bottomLeftCornerRadius=y?p:0,e.fillShadow=r,e.zIndex=t?Qc.highlightedZIndex:d,e.visible=u.height>0}))}async updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,(e=>{e.tag=1,e.pointerEvents=1,e.textAlign="center",e.textBaseline="middle"}))}async updateLabelNodes(e){const t=this.isLabelEnabled();e.labelSelection.each(((e,i)=>{const n=i.label;n&&t?(e.text=n.text,e.x=n.x,e.y=n.y,e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.fontSize=n.fontSize,e.fontFamily=n.fontFamily,e.fill=n.fill,e.visible=!0):e.visible=!1}))}initQuadTree(e){ug(e,hg(this.contentGroup.children[0]))}pickNodeClosestDatum(e){return dg(this,e)}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return gs;const{xKey:n,yKey:a,xName:s,yName:r,fill:o,aggregation:l,tooltip:c}=this.properties,{aggregatedValue:h,frequency:u,domain:[d,p],itemId:g}=e,f=`${Ud(s??n)}: ${t.formatDatum(d)} - ${t.formatDatum(p)}`;let m=a?`<b>${Ud(r??a)} (${l})</b>: ${i.formatDatum(h)}<br>`:"";m+=`<b>Frequency</b>: ${u}`;const y={title:f,backgroundColor:o,content:m};return c.toTooltipHtml(y,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:g,xKey:n,xName:s,yKey:a,yName:r,color:o,title:f,seriesId:this.id})}getLegendData(e){if(!this.data?.length||"category"!==e)return[];const{xKey:t,yName:i,fill:n,fillOpacity:a,stroke:s,strokeWidth:r,strokeOpacity:o,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:i??t??"Frequency"},symbols:[{marker:{fill:n??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:a,strokeOpacity:o,strokeWidth:r}}]}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:i}=e;const n=Ig(Mg(!0,this.axes,"normal"));qt(this.id,"datums",this.ctx.animationManager,[t],n),Yd(this,"labels",this.ctx.animationManager,i)}animateWaitingUpdateReady(e){const t=this.processedData?.reduced?.diff,i=Ig(Mg(!0,this.axes,"normal"));qt(this.id,"datums",this.ctx.animationManager,[e.datumSelection],i,((e,t)=>jc(t.domain)),t),Yd(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){let{datumIndex:t,seriesRect:i}=e;return wg(this.contextNodeData?.nodeData[t],this.contentGroup,i)}};_g.className="HistogramSeries",_g.type="histogram";var Ug={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new _g(e),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:td,color:ad},shadow:{enabled:!1,color:hd,xOffset:3,yOffset:3,blur:5}}},paletteFactory:e=>{let{takeColors:t}=e;const{fills:[i],strokes:[n]}=t(1);return{fill:i,stroke:n}}},Yg=class extends Hh{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new ep,this.marker=new $d,this.label=new Ms,this.tooltip=new Qd,this.connectMissingData=!1}};l([fi(Ii)],Yg.prototype,"xKey",2),l([fi(Ii)],Yg.prototype,"yKey",2),l([fi(Ii,{optional:!0})],Yg.prototype,"xName",2),l([fi(Ii,{optional:!0})],Yg.prototype,"yName",2),l([fi(Ii,{optional:!0})],Yg.prototype,"stackGroup",2),l([fi(ki,{optional:!0})],Yg.prototype,"normalizedTo",2),l([fi(Ii,{optional:!0})],Yg.prototype,"title",2),l([fi(Bi)],Yg.prototype,"stroke",2),l([fi(ki)],Yg.prototype,"strokeWidth",2),l([fi(Ni)],Yg.prototype,"strokeOpacity",2),l([fi(Zi)],Yg.prototype,"lineDash",2),l([fi(ki)],Yg.prototype,"lineDashOffset",2),l([fi(bi)],Yg.prototype,"interpolation",2),l([fi(bi)],Yg.prototype,"marker",2),l([fi(bi)],Yg.prototype,"label",2),l([fi(bi)],Yg.prototype,"tooltip",2),l([fi(Mi)],Yg.prototype,"connectMissingData",2);var Vg=class extends Zh{constructor(e){super({moduleCtx:e,directionKeys:Yh,directionNames:Vh,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:jp({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Wd,marker:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...vp(0,t)})}}),this.properties=new Yg}async processData(e){if(null==this.data||!this.properties.isValid())return;const{data:t,visible:i,seriesGrouping:{groupIndex:n=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:r,connectMissingData:o,normalizedTo:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,u=this.axes.y?.scale,{isContinuousX:d,xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:u}),f={invalidValue:null};o&&a>1&&(f.invalidValue=0),i||(f.forceValue=0);const m=[];if(d||m.push(Uc(s,p,{id:"xKey"})),m.push(Yc(s,p,{id:"xValue"}),Yc(r,g,{id:"yValueRaw",...f,invalidValue:void 0})),a>1){const e=[`line-stack-${n}-yValues`,`line-stack-${n}-yValues-trailing`,`line-stack-${n}-yValues-marker`];m.push(...Zc(r,"window","current",{id:"yValueEnd",...f,groupId:e[0]},g),...Zc(r,"window-trailing","current",{id:"yValueStart",...f,groupId:e[1]},g),...Zc(r,"normal","current",{id:"yValueCumulative",...f,groupId:e[2]},g)),Je(l)&&m.push(kc([e[0],e[1],e[2]],l,"range"))}c&&(m.push(Ac(d?["xValue"]:void 0)),this.processedData&&m.push(zc(this.processedData))),await this.requestDataModel(e,t,{props:m}),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,axes:n}=this;if(!t||!i||0===t.data.length)return[];const a=n.x,s=n.y,r=i.resolveProcessedDataDefById(this,"xValue");if("x"===e){const e=i.getDomain(this,"xValue","value",t);return"value"===r?.def.type&&"category"===r.def.valueType?e:Ll(En(e),a)}return Ll((this.seriesGrouping?.stackCount??1)>1?i.getDomain(this,"yValueEnd","value",t):i.getDomain(this,"yValueRaw","value",t),s)}async createNodeData(){const{processedData:e,dataModel:t,axes:i}=this,n=i.x,a=i.y;if(!e||!t||!n||!a)return;const{xKey:s,yKey:r,xName:o,yName:l,marker:c,label:h,connectMissingData:u,legendItemName:d}=this.properties,p=(this.seriesGrouping?.stackCount??1)>1,g=n.scale,f=a.scale,m=(g.bandwidth??0)/2,y=(f.bandwidth??0)/2,x=[],b=c.enabled?c.size:0,v=t.resolveProcessedDataIndexById(this,"xValue"),M=t.resolveProcessedDataIndexById(this,"yValueRaw"),S=p?t.resolveProcessedDataIndexById(this,"yValueCumulative"):M,I=p?t.resolveProcessedDataIndexById(this,"yValueEnd"):void 0;let D=!0;return e.data?.forEach((e=>{let{datum:t,values:i}=e;const n=i[v],a=i[M],c=i[S],p=null!=I?i[I]:void 0;if(null==a)return void(D||(D=!u));const w=g.convert(n)+m;if(isNaN(w))return void(D||(D=!u));const k=f.convert(c)+y,N=this.getLabelText(h,{value:a,datum:t,xKey:s,yKey:r,xName:o,yName:l,legendItemName:d},(e=>ut(e)?e.toFixed(2):String(e)));x.push({series:this,datum:t,yKey:r,xKey:s,point:{x:w,y:k,moveTo:D,size:b},midPoint:{x:w,y:k},cumulativeValue:p,yValue:a,xValue:n,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:N?{text:N,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0}),D=!1})),{itemId:r,nodeData:x,labelData:x,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:e}=this.properties.marker;return new(zh(e))}async updatePathNodes(e){const{paths:[t],opacity:i,visible:n,animationEnabled:a}=e;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:i,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),a||(t.visible=n),Pp(this,t)}async updateMarkerSelection(e){let{nodeData:t}=e;const{markerSelection:i}=e,{shape:n,enabled:a}=this.properties.marker;return t=n&&a?t:[],this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(t,void 0,(e=>jc(e.xValue)))}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:a,stroke:s,strokeWidth:r,strokeOpacity:o,marker:l,highlightStyle:c}=this.properties,h=yt(i&&c.item,l.getStyle(),{stroke:s,strokeWidth:r,strokeOpacity:o}),u=this.ctx.animationManager.isSkipped();t.each(((e,t)=>{this.updateMarkerStyle(e,l,{datum:t,highlighted:i,xKey:n,yKey:a},h,{applyTranslation:u})})),i||l.markClean()}async updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}async updateLabelNodes(e){const{enabled:t,fontStyle:i,fontWeight:n,fontSize:a,fontFamily:s,color:r}=this.properties.label;e.labelSelection.each(((e,o)=>{const{point:l,label:c}=o;o&&c&&t?(e.fontStyle=i,e.fontWeight=n,e.fontSize=a,e.fontFamily=s,e.textAlign=c.textAlign,e.textBaseline=c.textBaseline,e.text=c.text,e.x=l.x,e.y=l.y-10,e.fill=r,e.visible=!0):e.visible=!1}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return gs;const{xKey:n,yKey:a,xName:s,yName:r,strokeWidth:o,marker:l,tooltip:c}=this.properties,{datum:h,xValue:u,yValue:d,itemId:p}=e,g=t.formatDatum(u),f=i.formatDatum(d),m=Ud(this.properties.title??r),y=Ud(g+": "+f),x=yt({fill:l.stroke},l.getStyle(),{strokeWidth:o}),{fill:b}=this.getMarkerStyle(l,{datum:e,xKey:n,yKey:a,highlighted:!1},x);return c.toTooltipHtml({title:m,content:y,backgroundColor:b},{datum:h,itemId:p,xKey:n,xName:s,yKey:a,yName:r,title:m,color:b,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||"category"!==e)return[];const{yKey:t,yName:i,stroke:n,strokeOpacity:a,strokeWidth:s,lineDash:r,title:o,marker:l,visible:c,legendItemName:h}=this.properties,u="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:h,seriesId:this.id,enabled:c,label:{text:h??o??i??t},symbols:[{marker:{shape:l.shape,fill:l.fill??u,stroke:l.stroke??n??u,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??a??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:n??u,strokeOpacity:a,strokeWidth:s,lineDash:r}}]}]}async updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const{interpolation:i}=this.properties,{nodeData:n}=t,[a]=e;a.path.clear(!0);for(const s of Yp(n))Cp(Vp(n,s),a,i);a.checkPathDirty()}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n,contextData:a,paths:s}=e,{animationManager:r}=this.ctx;this.updateLinePaths(s,a),Rp(this,r,...s),mn([t],vp),xp(this,r,t),Yd(this,"labels",r,i),Yd(this,"annotations",r,...n)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateLinePaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{markerSelection:i,labelSelection:n,annotationSelections:a,contextData:s,paths:r,previousContextData:o}=e,[l]=r;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(r,s)};if(null==s||null==o)return c(),mp(this,t,"added",i),Op(this,"path_properties",t,"add",l),Yd(this,"labels",t,n),void Yd(this,"annotations",t,...a);const h=eg(s,o,this.processedData?.reduced?.diff,this.properties.interpolation);if(void 0===h)return t.skipCurrentBatch(),void c();"no-op"!==h.status&&(mp(this,t,void 0,i),qt(this.id,"path_properties",t,[l],h.pathProperties),Gd(this.id,"path_update",t,[l],h.path),h.hasMotion&&(Yd(this,"labels",t,n),Yd(this,"annotations",t,...a)))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ca}getFormattedMarkerStyle(e){const{xKey:t,yKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,highlighted:!0})}computeFocusBounds(e){return Sp(this,e)}};Vg.className="LineSeries",Vg.type="line";var Wg={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new Vg(e),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:td,color:id},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{const{marker:t}=Zu(e);return{stroke:t.fill,marker:t}}},Hg=class extends Ms{constructor(){super(...arguments),this.placement="top"}};l([fi(sn)],Hg.prototype,"placement",2);var Zg=class extends Hh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new Hg,this.tooltip=new Qd,this.marker=new $d}};l([fi(Ii)],Zg.prototype,"xKey",2),l([fi(Ii)],Zg.prototype,"yKey",2),l([fi(Ii,{optional:!0})],Zg.prototype,"labelKey",2),l([fi(Ii,{optional:!0})],Zg.prototype,"colorKey",2),l([fi(Ii,{optional:!0})],Zg.prototype,"xName",2),l([fi(Ii,{optional:!0})],Zg.prototype,"yName",2),l([fi(Ii,{optional:!0})],Zg.prototype,"labelName",2),l([fi(Ii,{optional:!0})],Zg.prototype,"colorName",2),l([fi(_i,{optional:!0})],Zg.prototype,"colorDomain",2),l([fi(Fi)],Zg.prototype,"colorRange",2),l([fi(Ii,{optional:!0})],Zg.prototype,"title",2),l([Ja("marker.shape")],Zg.prototype,"shape",2),l([Ja("marker.size")],Zg.prototype,"size",2),l([Ja("marker.fill")],Zg.prototype,"fill",2),l([Ja("marker.fillOpacity")],Zg.prototype,"fillOpacity",2),l([Ja("marker.stroke")],Zg.prototype,"stroke",2),l([Ja("marker.strokeWidth")],Zg.prototype,"strokeWidth",2),l([Ja("marker.strokeOpacity")],Zg.prototype,"strokeOpacity",2),l([Ja("marker.itemStyler",{optional:!0})],Zg.prototype,"itemStyler",2),l([fi(bi)],Zg.prototype,"label",2),l([fi(bi)],Zg.prototype,"tooltip",2);var Kg=class extends Zh{constructor(e){super({moduleCtx:e,directionKeys:Yh,directionNames:Vh,pickModes:[2,3,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:bp,label:Wd}}),this.properties=new Zg,this.colorScale=new Rg}async processData(e){if(!this.properties.isValid()||null==this.data||!this.visible)return;const t=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:n,yScaleType:a}=this.getScaleInformation({xScale:t,yScale:i}),s=this.colorScale.type,{xKey:r,yKey:o,labelKey:l,colorKey:c,colorDomain:h,colorRange:u}=this.properties,{dataModel:d,processedData:p}=await this.requestDataModel(e,this.data,{props:[Uc(r,n,{id:"xKey-raw"}),Uc(o,a,{id:"yKey-raw"}),...l?[Uc(l,"band",{id:"labelKey-raw"})]:[],Yc(r,n,{id:"xValue"}),Yc(o,a,{id:"yValue"}),...c?[Yc(c,s,{id:"colorValue"})]:[],...l?[Yc(l,"band",{id:"labelValue"})]:[]]});if(c){const e=d.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=h??p.domain.values[e]??[],this.colorScale.range=u,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];const n="x"===e?"xValue":"yValue",a=t.resolveProcessedDataDefById(this,n),s=t.getDomain(this,n,"value",i);if("value"===a?.def.type&&"category"===a?.def.valueType)return s;const r=this.axes[e];return Ll(En(s),r)}async createNodeData(){const{axes:e,dataModel:t,processedData:i,colorScale:n}=this,{xKey:a,yKey:s,labelKey:r,colorKey:o,xName:l,yName:c,labelName:h,marker:u,label:d,visible:p}=this.properties,{placement:g}=d,f=zh(u.shape),m=e.x,y=e.y;if(!(t&&i&&p&&m&&y))return;const x=t.resolveProcessedDataIndexById(this,"xValue"),b=t.resolveProcessedDataIndexById(this,"yValue"),v=o?t.resolveProcessedDataIndexById(this,"colorValue"):-1,M=r?t.resolveProcessedDataIndexById(this,"labelValue"):-1,S=m.scale,I=y.scale,D=(S.bandwidth??0)/2,w=(I.bandwidth??0)/2,k=[],N=d.getFont(),L=Ua.getMeasurer({font:N});for(const{values:A,datum:C}of i.data??[]){const e=A[x],t=A[b],i=S.convert(e)+D,p=I.convert(t)+w,m=this.getLabelText(d,{value:r?A[M]:t,datum:C,xKey:a,yKey:s,labelKey:r,xName:l,yName:c,labelName:h}),y=L.measureText(m),N=o?n.convert(A[v]):void 0;k.push({series:this,itemId:s,yKey:s,xKey:a,datum:C,xValue:e,yValue:t,capDefaults:{lengthRatioMultiplier:u.getDiameter(),lengthMax:1/0},point:{x:i,y:p,size:u.size},midPoint:{x:i,y:p},fill:N,label:{text:m,...y},marker:f,placement:g})}return{itemId:s,nodeData:k,labelData:k,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){const{shape:e}=this.properties.marker;return new(zh(e))}async updateMarkerSelection(e){const{nodeData:t,markerSelection:i}=e;return this.properties.marker.isDirty()&&(i.clear(),i.cleanup()),i.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){const{markerSelection:t,isHighlight:i}=e,{xKey:n,yKey:a,labelKey:s,marker:r,highlightStyle:o}=this.properties,l=yt(i&&o.item,r.getStyle());t.each(((e,t)=>{this.updateMarkerStyle(e,r,{datum:t,highlighted:i,xKey:n,yKey:a,labelKey:s},l)})),i||r.markClean()}async updateLabelSelection(e){const t=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map((e=>{let{datum:t,x:i,y:n}=e;return{...t,point:{x:i,y:n,size:t.point.size},placement:"top"}})),(e=>{e.pointerEvents=1}))}async updateLabelNodes(e){const{label:t}=this.properties;e.labelSelection.each(((e,i)=>{e.text=i.label.text,e.fill=t.color,e.x=i.point?.x??0,e.y=i.point?.y??0,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.textAlign="left",e.textBaseline="top"}))}getTooltipHtml(e){const t=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!t||!i)return gs;const{xKey:n,yKey:a,labelKey:s,xName:r,yName:o,labelName:l,title:c=o,marker:h,tooltip:u}=this.properties,{datum:d,xValue:p,yValue:g,label:f,itemId:m}=e,y=yt({fill:e.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:x="gray"}=this.getMarkerStyle(h,{datum:e,highlighted:!1,xKey:n,yKey:a,labelKey:s},y),b=Ud(t.formatDatum(p)),v=Ud(i.formatDatum(g));let M=`<b>${Ud(r??n)}</b>: ${b}<br><b>${Ud(o??a)}</b>: ${v}`;return s&&(M=`<b>${Ud(l??s)}</b>: ${Ud(f.text)}<br>`+M),u.toTooltipHtml({title:c,content:M,backgroundColor:x},{datum:d,itemId:m,xKey:n,xName:r,yKey:a,yName:o,labelKey:s,labelName:l,title:c,color:x,seriesId:this.id,...this.getModuleTooltipParams()})}getLegendData(e){const{yKey:t,yName:i,title:n,marker:a,visible:s}=this.properties,{fill:r,stroke:o,fillOpacity:l,strokeOpacity:c,strokeWidth:h}=a;return this.data?.length&&this.properties.isValid()&&"category"===e?[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:s,label:{text:n??i??t},symbols:[{marker:{shape:a.shape,fill:a.fill??r??"rgba(0, 0, 0, 0)",stroke:a.stroke??o??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:c??1,strokeWidth:h??0}}]}]:[]}animateEmptyUpdateReady(e){const{markerSelection:t,labelSelection:i,annotationSelections:n}=e;yp(this,this.ctx.animationManager,t),Yd(this,"labels",this.ctx.animationManager,i),Yd(this,"annotations",this.ctx.animationManager,...n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ca}getFormattedMarkerStyle(e){const{xKey:t,yKey:i,labelKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:i,labelKey:n,highlighted:!0})}computeFocusBounds(e){return Sp(this,e)}};Kg.className="ScatterSeries",Kg.type="scatter";var $g={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new Kg(e),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:td,color:id},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Hu},Xg=class e{constructor(e,t,i,n){this.startAngle=e,this.endAngle=t,this.innerRadius=i,this.outerRadius=n}clone(){const{startAngle:t,endAngle:i,innerRadius:n,outerRadius:a}=this;return new e(t,i,n,a)}[de](t,i){return new e(this.startAngle*(1-i)+t.startAngle*i,this.endAngle*(1-i)+t.endAngle*i,this.innerRadius*(1-i)+t.innerRadius*i,this.outerRadius*(1-i)+t.outerRadius*i)}};function Qg(e){let{startAngle:t,endAngle:i,innerRadius:n,outerRadius:a}=e,s=1/0,r=1/0,o=-1/0,l=-1/0;const c=(e,t)=>{s=Math.min(e,s),r=Math.min(t,r),o=Math.max(e,o),l=Math.max(t,l)};return c(n*Math.cos(t),n*Math.sin(t)),c(n*Math.cos(i),n*Math.sin(i)),c(a*Math.cos(t),a*Math.sin(t)),c(a*Math.cos(i),a*Math.sin(i)),ka(0,t,i)&&c(a,0),ka(.5*Math.PI,t,i)&&c(0,a),ka(Math.PI,t,i)&&c(-a,0),ka(1.5*Math.PI,t,i)&&c(0,-a),new Ae(s,r,o-s,l-r)}function qg(e,t,i){const n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:a,outerRadius:s}=i;if(i.startAngle===i.endAngle||n<Math.min(a,s)||n>Math.max(a,s))return!1;const r=wa(i.startAngle),o=wa(i.endAngle),l=Math.atan2(t,e);return r<o?l<=o&&l>=r:l<=o&&l>=-Math.PI||l>=r&&l<=Math.PI}function Jg(e,t){const{startAngle:i,endAngle:n,innerRadius:a,outerRadius:s}=t,r={x:s*Math.cos(i),y:s*Math.sin(i)},o={x:s*Math.cos(n),y:s*Math.sin(n)},l=0===a?{x:0,y:0}:{x:a*Math.cos(i),y:a*Math.sin(i)},c=0===a?{x:0,y:0}:{x:a*Math.cos(n),y:a*Math.sin(n)};return fo(e.start.x,e.start.y,e.end.x,e.end.y,r.x,r.y,l.x,l.y)||fo(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,c.x,c.y)||xo(0,0,s,i,n,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function ef(e,t){const i={x:e.x,y:e.y},n={x:e.x+e.width,y:e.y},a={x:e.x,y:e.y+e.height},s={x:e.x+e.width,y:e.y+e.height};return Jg({start:i,end:n},t)||Jg({start:a,end:s},t)}function tf(e,t,i,n){if(0===i&&0===n)return 0;if(Math.asin(Math.abs(1*i)/(e+1*i))+Math.asin(Math.abs(1*n)/(e+1*n))-t<0)return 1;let a=0,s=1;for(let r=0;r<8;r+=1){const r=(a+s)/2;Math.asin(Math.abs(r*i)/(e+r*i))+Math.asin(Math.abs(r*n)/(e+r*n))-t<0?a=r:s=r}return a}var nf=1e-6;function af(e,t){return Ca(e,t)<nf?t:Ia(e-t)+t}function sf(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Ia(t-e);return{startAngle:e=af(e,i),endAngle:t=e+n}}function rf(e,t,i,n,a,s){const r=Math.sin(s),o=Math.cos(s),l=e**2+t**2-i**2;let c=NaN,h=NaN,u=NaN,d=NaN;if(o>.5){const i=r/o,n=1+i**2,a=-2*(e+t*i),s=a**2-4*n*l;if(s<0)return;const p=(-a+Math.sqrt(s))/(2*n),g=(-a-Math.sqrt(s))/(2*n);c=p,h=p*i,u=g,d=g*i}else{const i=o/r,n=1+i**2,a=-2*(t+e*i),s=a**2-4*n*l;if(s<0)return;const p=(-a+Math.sqrt(s))/(2*n),g=(-a-Math.sqrt(s))/(2*n);c=p*i,h=p,u=g*i,d=g}const p=u*o+d*r,g=c*o+h*r>0?af(Math.atan2(h-t,c-e),n):NaN,f=p>0?af(Math.atan2(d-t,u-e),n):NaN;return g>=n&&g<=a?g:f>=n&&f<=a?f:void 0}function of(e,t,i,n,a,s){const r=Math.hypot(e,t),o=r-(r**2-i**2+s**2)/(2*r),l=Math.atan2(t,e),c=Math.acos(-o/i),h=af(l+c,n),u=af(l-c,n);return h>=n&&h<=a?h:u>=n&&u<=a?u:void 0}var lf=class{constructor(e,t,i,n,a){this.cx=e,this.cy=t,this.r=i,this.a0=n,this.a1=a,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){null==e||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){null==e||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},cf=class extends Mo{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return Qg(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:i}=this;return t=t>0?t+e:0,i=Math.max(i-e,0),{innerRadius:t,outerRadius:i}}normalizedClipSector(){const{clipSector:e}=this;if(null==e)return;const{startAngle:t,endAngle:i}=sf(this.startAngle,this.endAngle),{innerRadius:n,outerRadius:a}=this.normalizedRadii(),s=sf(e.startAngle,e.endAngle,t);return new Xg(Math.max(t,s.startAngle),Math.min(i,s.endAngle),Math.max(n,e.innerRadius),Math.min(a,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,i,n,a,s,r,o){if(e<=0)return;const{startAngle:l,endAngle:c}=sf(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:u}=this.normalizedRadii(),d=this.normalizedClipSector();if(o&&h<=0)return;const p=this.getAngleOffset(h),g=this.getAngleOffset(u),f=o?this.getAngleOffset(h+e):this.getAngleOffset(u-e),m=r?l+f+t:c-f-t,y=o?h+e:u-e,x=y*Math.cos(m),b=y*Math.sin(m);if(null!=d){const e=1e-6;if(!r&&!(m>=l-e&&m<=d.endAngle-e))return;if(r&&!(m>=d.startAngle+e&&m<=c-e))return;if(o&&!(y>=d.innerRadius-e))return;if(!o&&!(y<=d.outerRadius+e))return}const v=new lf(x,b,e,i,n);if(null!=d){let t,c;if(o?(v.clipStart(rf(x,b,e,i,n,d.endAngle-p)),v.clipEnd(rf(x,b,e,i,n,d.startAngle+p))):(v.clipStart(rf(x,b,e,i,n,d.startAngle+g)),v.clipEnd(rf(x,b,e,i,n,d.endAngle-g))),r?(t=of(x,b,e,i,n,d.innerRadius),c=of(x,b,e,i,n,d.outerRadius)):(t=of(x,b,e,i,n,d.outerRadius),c=of(x,b,e,i,n,d.innerRadius)),v.clipStart(t),v.clipEnd(c),null!=t){const{x:e,y:i}=v.pointAt(t),n=af(Math.atan2(i,e),l);r?s?.clipStart(n):a.clipEnd(n)}if(null!=c){const{x:e,y:t}=v.pointAt(c),i=af(Math.atan2(t,e),l);r?a.clipStart(i):s?.clipEnd(i)}}if(null!=d){const{x:e,y:t}=v.pointAt((v.a0+v.a1)/2);if(!qg(e,t,d))return}const{x:M,y:S}=v.pointAt(r===o?v.a0:v.a1),I=af(Math.atan2(S,M),l),D=o?s:a;return r?D?.clipStart(I):D?.clipEnd(I),v}updatePath(){const e=1e-6,{path:t,centerX:i,centerY:n,concentricEdgeInset:a,radialEdgeInset:s}=this;let{startOuterCornerRadius:r,endOuterCornerRadius:o,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:h,endAngle:u}=sf(this.startAngle,this.endAngle),{innerRadius:d,outerRadius:p}=this.normalizedRadii(),g=this.normalizedClipSector(),f=u-h,m=f>=2*Math.PI-e;if(t.clear(),0===d&&0===p||d>p)return;if((g?.startAngle??h)===(g?.endAngle??u))return;if(m&&null==this.clipSector&&0===r&&0===o&&0===l&&0===c)return t.moveTo(i+p*Math.cos(h),n+p*Math.sin(h)),t.arc(i,n,p,h,u),d>a&&(t.moveTo(i+d*Math.cos(u),n+d*Math.sin(u)),t.arc(i,n,d,u,h,!0)),void t.closePath();if(null==this.clipSector&&Math.abs(d-p)<1e-6)return t.arc(i,n,p,h,u,!1),t.arc(i,n,p,u,h,!0),void t.closePath();const y=this.getAngleOffset(d),x=this.getAngleOffset(p);if(f<2*x)return;const b=(g?.innerRadius??d)>a,v=d<a||f<2*y,M=p-d,S=Math.max(r,l,o,c),I=S>0?Math.min(M/S,1):1;r*=I,o*=I,l*=I,c*=I;const D=tf(p,f-2*x,-r,-o);if(r*=D,o*=D,!v&&b){const e=tf(d,f-2*y,l,c);l*=e,c*=e}else l=0,c=0;const w=Math.max(r+l,o+c),k=w>0?Math.min(M/w,1):1;r*=k,o*=k,l*=k,c*=k;let N=0,L=0;const A=r/(p-r),C=o/(p-o);if(A>=0&&A<.999999)N=Math.asin(A);else{N=f/2;const e=p/(1/Math.sin(N)+1);r=Math.min(e,r)}if(C>=0&&C<.999999)L=Math.asin(C);else{L=f/2;const e=p/(1/Math.sin(L)+1);o=Math.min(e,o)}const T=Math.asin(l/(d+l)),E=Math.asin(c/(d+c)),R=g?.outerRadius??p,O=this.getAngleOffset(R),z=new lf(0,0,R,h+O,u-O),j=g?.innerRadius??d,P=this.getAngleOffset(j),B=b?new lf(0,0,j,h+P,u-P):void 0;null!=g&&(z.clipStart(g.startAngle),z.clipEnd(g.endAngle),B?.clipStart(g.startAngle),B?.clipEnd(g.endAngle));const F=this.arc(r,N,h-.5*Math.PI,h+N,z,B,!0,!1),G=this.arc(o,L,u-L,u+.5*Math.PI,z,B,!1,!1),_=this.arc(c,E,u+.5*Math.PI,u+Math.PI-E,z,B,!1,!0),U=this.arc(l,T,h+Math.PI+T,h+1.5*Math.PI,z,B,!0,!0);if(v){const e=f<.5*Math.PI?s*(1+Math.cos(f))/Math.sin(f):NaN;let a;a=e>0&&e<p?Math.max(Math.hypot(s,e),d):s,a=Math.max(a,d);const r=h+.5*f;t.moveTo(i+a*Math.cos(r),n+a*Math.sin(r))}else if(!0===U?.isValid()||!0===B?.isValid());else{const e=h+f/2,a=d*Math.cos(e),s=d*Math.sin(e);t.moveTo(i+a,n+s)}if(!0===F?.isValid()){const{cx:e,cy:a,r:s,a0:r,a1:o}=F;t.arc(i+e,n+a,s,r,o)}if(z.isValid()){const{r:e,a0:a,a1:s}=z;t.arc(i,n,e,a,s)}if(!0===G?.isValid()){const{cx:e,cy:a,r:s,a0:r,a1:o}=G;t.arc(i+e,n+a,s,r,o)}if(!v){if(!0===_?.isValid()){const{cx:e,cy:a,r:s,a0:r,a1:o}=_;t.arc(i+e,n+a,s,r,o)}if(!0===B?.isValid()){const{r:e,a0:a,a1:s}=B;t.arc(i,n,e,s,a,!0)}if(!0===U?.isValid()){const{cx:e,cy:a,r:s,a0:r,a1:o}=U;t.arc(i+e,n+a,s,r,o)}}t.closePath()}isPointInPath(e,t){const i=this.transformPoint(e,t),{startAngle:n,endAngle:a,innerRadius:s,outerRadius:r}=this.clipSector??this;return qg(i.x-this.centerX,i.y-this.centerY,{startAngle:n,endAngle:a,innerRadius:Math.min(s,r),outerRadius:Math.max(s,r)})}};cf.className="Sector",l([vo()],cf.prototype,"centerX",2),l([vo()],cf.prototype,"centerY",2),l([vo()],cf.prototype,"innerRadius",2),l([vo()],cf.prototype,"outerRadius",2),l([vo()],cf.prototype,"startAngle",2),l([vo()],cf.prototype,"endAngle",2),l([vo()],cf.prototype,"clipSector",2),l([vo()],cf.prototype,"concentricEdgeInset",2),l([vo()],cf.prototype,"radialEdgeInset",2),l([vo()],cf.prototype,"startOuterCornerRadius",2),l([vo()],cf.prototype,"endOuterCornerRadius",2),l([vo()],cf.prototype,"startInnerCornerRadius",2),l([vo()],cf.prototype,"endInnerCornerRadius",2);var hf={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},uf={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},df=class extends bs{constructor(){super(...arguments),this.showInLegend=!1}};l([fi(Mi)],df.prototype,"showInLegend",2);var pf=class extends Ms{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};l([fi(Ii)],pf.prototype,"text",2),l([fi(Di)],pf.prototype,"spacing",2);var gf=class extends wt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};l([fi(Bi)],gf.prototype,"fill",2),l([fi(Ni)],gf.prototype,"fillOpacity",2);var ff=class extends Ms{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};l([fi(ki)],ff.prototype,"offset",2),l([fi(Li)],ff.prototype,"minAngle",2),l([fi(ki)],ff.prototype,"minSpacing",2),l([fi(ki)],ff.prototype,"maxCollisionOffset",2),l([fi(Mi)],ff.prototype,"avoidCollisions",2);var mf=class extends Ms{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};l([fi(Di)],mf.prototype,"positionOffset",2),l([fi(Ni)],mf.prototype,"positionRatio",2);var yf=class extends wt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};l([fi(Fi,{optional:!0})],yf.prototype,"colors",2),l([fi(ki)],yf.prototype,"length",2),l([fi(ki)],yf.prototype,"strokeWidth",2);var xf=class extends Uh{constructor(){super(...arguments),this.fills=Object.values(hf),this.strokes=Object.values(uf),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new kt(pf),this.title=new df,this.innerCircle=new gf,this.shadow=new Zd,this.calloutLabel=new ff,this.sectorLabel=new mf,this.calloutLine=new yf,this.tooltip=new Qd}isValid(){const e=super.isValid();return null==this.innerRadiusRatio&&null==this.innerRadiusOffset?(y.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};function bf(e,t,i,n){const a=[i.convert(0),i.convert(1)],s=[n.convert(0),n.convert(1)],r=Math.PI/-2+Na(t),o=e?"initial":"update";return{nodes:{toFn:(e,t,i,n)=>{let{prevLive:s}=n,{startAngle:o,endAngle:l,innerRadius:c,outerRadius:h}=t;const{stroke:u,fill:d}=t.sectorFormat;if("removed"===i&&s?(o=s.datum?.endAngle,l=s.datum?.endAngle):"removed"!==i||s||(o=r,l=r),"removed"===i){const e=(e=>{let{radius:t}=e;return{innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*t}})(t);c=e.innerRadius,h=e.outerRadius}return{startAngle:o,endAngle:l,outerRadius:h,innerRadius:c,stroke:u,fill:d}},fromFn:(t,i,n,a)=>{let{prevFromProps:l}=a,{startAngle:c,endAngle:h,innerRadius:u,outerRadius:d}=t,{fill:p,stroke:g}=i.sectorFormat;if("unknown"===n||"added"===n&&!l?(c=r,h=r,u=i.innerRadius,d=i.outerRadius):"added"===n&&l&&(c=l.endAngle??r,h=l.endAngle??r,u=l.innerRadius??i.innerRadius,d=l.outerRadius??i.outerRadius),"added"===n&&!e){const e=(e=>{let{radius:t}=e;return{innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*t}})(i);u=e.innerRadius,d=e.outerRadius}return"updated"===n&&(p=t.fill??p,g=t.stroke??g),{startAngle:c,endAngle:h,innerRadius:u,outerRadius:d,fill:p,stroke:g,phase:o}}},innerCircle:{fromFn:(e,t)=>({size:e.previousDatum?.radius??e.size??0,phase:o}),toFn:(e,t)=>({size:t.radius??0})}}}function vf(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function Mf(e,t){const i=t.y-e.centerY,n=t.x-e.centerX,a=Math.atan2(i,n),s=e.getItemNodes();for(const r of s)if(!0!==r.datum.missing&&ka(a,r.startAngle,r.endAngle)){const e=Math.sqrt(n*n+i*i);let t=0;return e<r.innerRadius?t=r.innerRadius-e:e>r.outerRadius&&(t=e-r.outerRadius),{datum:r.datum,distance:t}}}l([fi(Ii)],xf.prototype,"angleKey",2),l([fi(Ii,{optional:!0})],xf.prototype,"angleName",2),l([fi(Ii,{optional:!0})],xf.prototype,"angleFilterKey",2),l([fi(Ii,{optional:!0})],xf.prototype,"radiusKey",2),l([fi(Ii,{optional:!0})],xf.prototype,"radiusName",2),l([fi(ki,{optional:!0})],xf.prototype,"radiusMin",2),l([fi(ki,{optional:!0})],xf.prototype,"radiusMax",2),l([fi(Ii,{optional:!0})],xf.prototype,"calloutLabelKey",2),l([fi(Ii,{optional:!0})],xf.prototype,"calloutLabelName",2),l([fi(Ii,{optional:!0})],xf.prototype,"sectorLabelKey",2),l([fi(Ii,{optional:!0})],xf.prototype,"sectorLabelName",2),l([fi(Ii,{optional:!0})],xf.prototype,"legendItemKey",2),l([fi(Fi)],xf.prototype,"fills",2),l([fi(Fi)],xf.prototype,"strokes",2),l([fi(Ni)],xf.prototype,"fillOpacity",2),l([fi(Ni)],xf.prototype,"strokeOpacity",2),l([fi(Zi)],xf.prototype,"lineDash",2),l([fi(ki)],xf.prototype,"lineDashOffset",2),l([fi(ki)],xf.prototype,"cornerRadius",2),l([fi(Si,{optional:!0})],xf.prototype,"itemStyler",2),l([fi(Li)],xf.prototype,"rotation",2),l([fi(Di)],xf.prototype,"outerRadiusOffset",2),l([fi(Ni)],xf.prototype,"outerRadiusRatio",2),l([fi(Di,{optional:!0})],xf.prototype,"innerRadiusOffset",2),l([fi(Ni,{optional:!0})],xf.prototype,"innerRadiusRatio",2),l([fi(ki)],xf.prototype,"strokeWidth",2),l([fi(Di)],xf.prototype,"sectorSpacing",2),l([fi(Vi)],xf.prototype,"innerLabels",2),l([fi(bi)],xf.prototype,"title",2),l([fi(bi)],xf.prototype,"innerCircle",2),l([fi(bi)],xf.prototype,"shadow",2),l([fi(bi)],xf.prototype,"calloutLabel",2),l([fi(bi)],xf.prototype,"sectorLabel",2),l([fi(bi)],xf.prototype,"calloutLine",2),l([fi(bi)],xf.prototype,"tooltip",2);var Sf=class extends jh{constructor(e){let{useLabelLayer:t=!1,pickModes:i=[3,0],canHaveAxes:n=!1,animationResetFns:a,...s}=e;super({...s,useLabelLayer:t,pickModes:i,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n}),this.itemGroup=this.contentGroup.appendChild(new ca),this.nodeData=[],this.itemSelection=Ma.select(this.itemGroup,(()=>this.nodeFactory()),!1),this.labelSelection=Ma.select(this.labelGroup,(()=>this.labelFactory()),!1),this.highlightSelection=Ma.select(this.highlightGroup,(()=>this.nodeFactory())),this.highlightLabelSelection=Ma.select(this.highlightLabel,(()=>this.labelFactory())),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=a,this.animationState=new os("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}labelFactory(){const e=new Ka;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&mn([this.itemSelection,this.highlightSelection],e),t&&mn([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t,label:i}=this.animationResetFns??{};t&&mn([this.highlightSelection],t),i&&mn([this.highlightLabelSelection],i)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(void 0!==t)return this.itemSelection.select((e=>e instanceof Mo&&e.datum===t))[0]}},If=class extends $c{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Df=class extends Sf{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:vf,label:Wd}}),this.properties=new xf,this.phantomNodeData=void 0,this.previousRadiusScale=new qh,this.radiusScale=new qh,this.phantomGroup=this.contentGroup.appendChild(new ca),this.phantomSelection=Ma.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ca({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ma(this.calloutLabelGroup,ca),this.backgroundGroup=this.rootGroup.appendChild(new ca({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ca({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new bh),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new bh),this.innerLabelsGroup=this.contentGroup.appendChild(new ca({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ca({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Ma.select(this.innerLabelsGroup,Ka),this.innerCircleSelection=Ma.select(this.innerCircleGroup,bh),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=If,this.angleScale=new qh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.some((e=>e)))}nodeFactory(){return new cf}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,angleFilterKey:s,radiusKey:r,calloutLabelKey:o,sectorLabelKey:l,legendItemKey:c}=this.properties,h=!this.ctx.animationManager.isSkipped(),u=[],d=[];c?u.push(Uc(c,"band",{id:"legendItemKey"})):o?u.push(Uc(o,"band",{id:"calloutLabelKey"})):l&&u.push(Uc(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;r&&d.push(Vc(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Yc(r,p,{id:"radiusRaw"}),Lc("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&d.push(Yc(o,"band",{id:"calloutLabelValue"})),l&&d.push(Yc(l,"band",{id:"sectorLabelValue"})),c&&d.push(Yc(c,"band",{id:"legendItemValue"})),s&&d.push(Wc(s,g,{id:"angleFilterValue",onlyPositive:!0}),Yc(s,g,{id:"angleFilterRaw"}),Lc("angleFilterValue",[0,1],0,0)),h&&this.processedData&&u.length>0&&d.push(zc(this.processedData)),d.push(Ac()),t=t.map(((e,t)=>i&&n[t]?e:{...e,[a]:0})),await this.requestDataModel(e,t,{props:[...u,Wc(a,g,{id:"angleValue",onlyPositive:!0}),Yc(a,g,{id:"angleRaw"}),Lc("angleValue",[0,1],0,0),...d]});for(const f of this.processedData?.defs?.values??[]){const{id:e,missing:t,property:i}=f,n=Al(this,t);"angleRaw"!==e&&n>0&&y.warnOnce(`no value was found for the key '${String(i)}' on ${n} data element${n>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:e.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:a,innerRadiusRatio:s}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!i||"ungrouped"!==t.type)return;const{angleIdx:r,angleRawIdx:o,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:h,radiusRawIdx:u,calloutLabelIdx:d,sectorLabelIdx:p,legendItemIdx:g}=this.getProcessedDataIndexes(i),f=null!=c&&t.data.some((e=>{let{values:t}=e;return t[c]>t[o]}));let m=0,y=0;const x=[],b=null!=c?[]:void 0;return t.data.forEach(((e,t)=>{const{datum:i,values:s}=e,v=f?s[l]:s[r],M=null==c||f?1:Math.sqrt(s[c]/s[o]),S=n.convert(m)+Na(a);m=v,y+=v;const I=n.convert(m)+Na(a),D=Math.abs(I-S),w=S+D/2,k=s[o],N=(null!=h?s[h]??1:1)*M,L=null!=u?s[u]:void 0,A=null!=g?s[g]:void 0,C=this.getLabels(i,w,D,!0,null!=d?s[d]:void 0,null!=p?s[p]:void 0,A),T=this.getSectorFormat(i,t,!1),E={itemId:t,series:this,datum:i,index:t,angleValue:k,midAngle:w,midCos:Math.cos(w),midSin:Math.sin(w),startAngle:S,endAngle:I,radius:N,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(N),0),sectorFormat:T,radiusValue:L,legendItemValue:A,enabled:this.seriesItemEnabled[t],focusable:!0,...C};x.push(E),null!=b&&b.push({...E,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})})),this.zerosumOuterRing.visible=0===y,this.zerosumInnerRing.visible=0===y&&null!=s&&1!==s&&s>0,{itemId:e,nodeData:x,labelData:x,phantomNodeData:b}}getLabels(e,t,i,n,a,s,r){const{calloutLabel:o,sectorLabel:l,legendItemKey:c}=this.properties,h=!n||o.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!u&&!c)return{};const d={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return h&&i>Na(o.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(o,{...d,value:a}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(p.sectorLabel={text:this.getLabelText(l,{...d,value:s})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=wa(e)- -.75*Math.PI;return t[De(Math.floor(i/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fills:c,strokes:h,itemStyler:u}=this.properties,d=h[t%h.length],{fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:x,lineDashOffset:b,cornerRadius:v}=yt(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:d,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let M;return u&&(M=n.call(u,{datum:e,angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:x,lineDashOffset:b,cornerRadius:v,highlighted:i,seriesId:this.id})),{fill:M?.fill??p,fillOpacity:M?.fillOpacity??g,stroke:M?.stroke??f,strokeWidth:M?.strokeWidth??m,strokeOpacity:M?.strokeOpacity??y,lineDash:M?.lineDash??x,lineDashOffset:M?.lineDashOffset??b,cornerRadius:M?.cornerRadius??v}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:i=0}=this.properties,n=e*t+i;return n===e||n<0?0:n}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=e=>({...e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);if(0===e)return NaN;return-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}async update(e){let{seriesRect:t}=e;const{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},a=null!=At(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const e=this.getTitleTranslationY(),t=i.node.getBBox();i.node.visible=i.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t,0,e),i.node.translationY=isFinite(e)?e:0}for(const s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:a,labelSelection:s,innerLabelsSelection:r}=this,o=this.nodeData.map((e=>({...e,sectorFormat:{...e.sectorFormat}}))),l=(e,t)=>{e.update(t,void 0,(e=>this.getDatumId(e))),this.ctx.animationManager.isSkipped()&&e.cleanup()};l(e,this.nodeData),l(t,o),l(i,this.phantomNodeData??[]),a.update(this.calloutNodeData,(e=>{const t=new Ga;t.tag=0,t.pointerEvents=1,e.appendChild(t);const i=new Ka;i.tag=1,i.pointerEvents=1,e.appendChild(i)})),s.update(this.nodeData),n.update(o),r.update(this.properties.innerLabels,(e=>{e.pointerEvents=1}))}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const i=this.getInnerRadius();if(i>0){const e=Math.min(i,this.getOuterRadius()),n=1;t=Math.ceil(2*e+n)}const n=e?[{radius:t}]:[];this.innerCircleSelection.update(n)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&t?.series===this,this.highlightLabel.visible=i&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each(((e,t)=>{let{radius:i}=t;e.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:i})}));const n=this.ctx.animationManager.isSkipped(),a=(e,t,i,a)=>{const s=this.getSectorFormat(t.datum,t.itemId,a);t.sectorFormat.fill=s.fill,t.sectorFormat.stroke=s.stroke,n&&(e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius),(a||n)&&(e.fill=s.fill,e.stroke=s.stroke),e.strokeWidth=s.strokeWidth,e.fillOpacity=s.fillOpacity,e.strokeOpacity=s.strokeOpacity,e.lineDash=s.lineDash,e.lineDashOffset=s.lineDashOffset,e.cornerRadius=s.cornerRadius,e.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=s.stroke?s.strokeWidth:0))/2,0);e.inset=r,e.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((e,t,i)=>a(e,t,0,!1))),this.highlightSelection.each(((e,i,n)=>{i.itemId===t?.itemId?(e.visible=!0,a(e,i,0,!0)):e.visible=!1})),this.phantomSelection.each(((e,t,i)=>a(e,t,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((e,s)=>{const r=e.datum,{calloutLabel:o,outerRadius:l}=r;if(o?.text&&!o.hidden&&0!==l){e.visible=!0,e.strokeWidth=i,e.stroke=n[s%n.length],e.fill=void 0;const c=r.midCos*l,h=r.midSin*l;let u=r.midCos*(l+t),d=r.midSin*(l+t);if((o.collisionTextAlign??0!==o.collisionOffsetY)&&null!=o.box){const e=o.box;let t=u,i=d;u<e.x?t=e.x:u>e.x+e.width&&(t=e.x+e.width),d<e.y?i=e.y:d>e.y+e.height&&(i=e.y+e.height);const n=t-u,s=i-d,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),l=r-a;l>0&&(u+=n*l/r,d+=s*l/r)}e.x1=c,e.y1=h,e.x2=u,e.y2=d}else e.visible=!1}))}getLabelOverflow(e,t,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,s=i.y-this.centerY,r=i.y+i.height-this.centerY;let o=1;t.x+1<n?o=(t.x+t.width-n)/t.width:t.x+t.width-1>a&&(o=(a-t.x)/t.width);const l=t.y+1<s||t.y+t.height-1>r;return{textLength:1===o?e.length:Math.floor(e.length*o)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{surroundingRadius:n}=this;if(null==n)return!1;const a=[{x:e.x+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+e.height+i},{x:e.x+t,y:e.y+e.height+i}],s=n**2;return a.some((e=>e.x**2+e.y**2>s))}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=t,s=e.convert(0),r=this.calloutNodeData,o=r.filter((e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t}));if(o.forEach((e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)})),o.length<=1)return;const l=o.filter((e=>e.midCos<0)).sort(((e,t)=>e.midSin-t.midSin)),c=o.filter((e=>e.midCos>=0)).sort(((e,t)=>e.midSin-t.midSin)),h=o.filter((e=>e.midSin<0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),u=o.filter((e=>e.midSin>=0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),d=e=>{const t=e.calloutLabel;if(null==t)return Ae.zero.clone();const a=e.outerRadius+i.length+n,s=e.midCos*a,r=e.midSin*a+t.collisionOffsetY,o=t.collisionTextAlign??t.textAlign,l=t.textBaseline;return Ka.computeBBox(t.text,s,r,{font:this.properties.calloutLabel,textAlign:o,textBaseline:l})},p=(e,t,i)=>{const n=d(e).grow(a/2),s=d(t).grow(a/2);if(n.x<s.x+s.width&&n.x+n.width>s.x&&("to-top"===i?n.y<s.y+s.height:n.y+n.height>s.y)){const e="to-top"===i?n.y-s.y-s.height:n.y+n.height-s.y;t.calloutLabel.collisionOffsetY=e}},g=e=>{const t=e.slice().sort(((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin)))[0],i=e.indexOf(t);for(let n=i-1;n>=0;n--){const t=e[n+1],i=e[n];p(t,i,"to-top")}for(let n=i+1;n<e.length;n++){const t=e[n-1],i=e[n];p(t,i,"to-bottom")}},f=e=>{const t=o.some((e=>0!==e.calloutLabel.collisionOffsetY)),i=e.map((e=>d(e))),n=i.map((e=>e.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const t=n[a];for(let i=a+1;i<e.length;i++){const e=n[i];if(t.collidesBBox(e)){l=!0;break}}}const c=r.map((e=>{const{startAngle:t,endAngle:i,outerRadius:n}=e;return{startAngle:t,endAngle:i,innerRadius:s,outerRadius:n}})),h=i.some((e=>c.some((t=>ef(e,t)))));(l||t||h)&&e.filter((e=>"center"===e.calloutLabel.textAlign)).forEach((e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"}))};g(l),g(c),f(h),f(u)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,color:r}=i,o=new Ka;this.calloutLabelSelection.selectByTag(1).forEach((n=>{const{datum:l}=n,c=l.calloutLabel,h=t.convert(l.radius),u=Math.max(0,h);if(!c?.text||0===u||c.hidden)return void(n.visible=!1);const d=u+a+s,p=l.midCos*d,g=l.midSin*d+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};o.text=c.text,o.x=p,o.y=g,o.setFont(this.properties.calloutLabel),o.setAlign(f);const m=o.getBBox();let y=c.text,x=!0;if(i.avoidCollisions){const{textLength:t,hasVerticalOverflow:i}=this.getLabelOverflow(c.text,m,e);y=c.text.length===t?c.text:`${c.text.substring(0,t)}\u2026`,x=!i}n.text=y,n.x=p,n.y=g,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=r,n.visible=x}))}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,maxCollisionOffset:r,minSpacing:o}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ka;let h;const{title:u}=this.properties;if(u?.text&&u.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=u.text,c.x=0,c.y=e,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.getBBox(),l.push(h))}return this.calloutNodeData.forEach((i=>{const n=i.calloutLabel;if(!n||0===i.outerRadius)return null;const u=i.outerRadius+a+s,d=i.midCos*u,p=i.midSin*u+n.collisionOffsetY;c.text=n.text,c.x=d,c.y=p,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:n.collisionTextAlign??n.textAlign,textBaseline:n.textBaseline});const g=c.getBBox();if(n.box=g,Math.abs(n.collisionOffsetY)>r)n.hidden=!0;else{if(h){const e=t.y-this.centerY,i=new Ae(h.x-o,e,h.width+2*o,h.y+h.height+o-e);if(g.collidesBBox(i))return void(n.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:a}=this.getLabelOverflow(n.text,g,t),s=n.text.length>2&&e<2;if(i||s||a)return void(n.hidden=!0)}n.hidden=!1,l.push(g)}})),0===l.length?null:Ae.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:s,positionOffset:r,positionRatio:o,color:l}=this.properties.sectorLabel,c=(e,c)=>{const{sectorLabel:h,outerRadius:u}=c;let d=!1;if(h&&0!==u){const p=t*(1-o)+u*o+r;e.fill=l,e.fontStyle=n,e.fontWeight=a,e.fontSize=i,e.fontFamily=s,e.text=h.text,e.x=c.midCos*p,e.y=c.midSin*p,e.textAlign="center",e.textBaseline="middle";const g=e.getBBox(),f=[[g.x,g.y],[g.x+g.width,g.y],[g.x+g.width,g.y+g.height],[g.x,g.y+g.height]],{startAngle:m,endAngle:y}=c,x={startAngle:m,endAngle:y,innerRadius:t,outerRadius:u};f.every((e=>{let[t,i]=e;return qg(t,i,x)}))&&(d=!0)}e.visible=d};this.labelSelection.each(c),this.highlightLabelSelection.each(c)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each(((i,n)=>{const{fontStyle:a,fontWeight:s,fontSize:r,fontFamily:o,color:l}=n;i.fontStyle=a,i.fontWeight=s,i.fontSize=r,i.fontFamily=o,i.text=n.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",e.push(i.getBBox()),t.push(n.spacing)}));const i=e=>0===e?0:t[e],n=e=>e===t.length-1?0:t[e],a=e.reduce(((e,t,a)=>e+t.height+i(a)+n(a)),0),s=Math.max(...e.map((e=>e.width))),r=this.getInnerRadius(),o=Math.sqrt(Math.pow(s/2,2)+Math.pow(a/2,2))<=(r>0?r:this.getOuterRadius()),l=[];for(let c=0,h=-a/2;c<e.length;c++){const t=e[c].height+h+i(c);l.push(t),h=t+n(c)}this.innerLabelsSelection.each(((e,t,i)=>{e.y=l[i],e.visible=o}))}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:s,calloutLabel:r,legendItem:o}=e;return a&&void 0!==o?o.text:i&&i!==t&&void 0!==r?.text?r.text:n&&n!==t&&void 0!==s?.text?s.text:void 0}pickNodeClosestDatum(e){return Mf(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return gs;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:a}=e,s=Ud(this.properties.title?.text),r=ut(i)?Ie(i):String(i),o=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??o,content:s&&o?`${o}: ${r}`:r,backgroundColor:n},{datum:t,itemId:a,title:s,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){const{visible:t,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||!this.properties.isValid()||"category"!==e)return[];const{angleKey:a,calloutLabelKey:s,sectorLabelKey:r,legendItemKey:o}=this.properties;if(!o&&(!s||s===a)&&(!r||r===a))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:h}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,d=[];for(let p=0;p<i.data.length;p++){const{datum:e,values:n}=i.data[p],g=[];u&&g.push(u);const f=this.getLabels(e,2*Math.PI,2*Math.PI,!1,null!=l?n[l]:void 0,null!=c?n[c]:void 0,null!=h?n[h]:void 0);if(o&&void 0!==f.legendItem?g.push(f.legendItem.text):s&&s!==a&&void 0!==f.calloutLabel?.text?g.push(f.calloutLabel?.text):r&&r!==a&&void 0!==f.sectorLabel?.text&&g.push(f.sectorLabel?.text),0===g.length)continue;const m=this.getSectorFormat(e,p,!1);d.push({legendType:"category",id:this.id,itemId:p,seriesId:this.id,enabled:t&&this.seriesItemEnabled[p],label:{text:g.join(" - ")},symbols:[{marker:{fill:m.fill,stroke:m.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=o?e[o]:void 0})}return d}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:a}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=a&&this.toggleOtherSeriesItems(a,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(((n,a)=>{let{values:s}=n;s[i]===e&&this.toggleSeriesItem(a,t)}))}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=bf(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);qt(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((e,t)=>this.getDatumId(t))),qt(this.id,"innerCircle",t,[this.innerCircleSelection],i.innerCircle),Yd(this,"callout",t,this.calloutLabelSelection),Yd(this,"sector",t,this.labelSelection),Yd(this,"highlight",t,this.highlightLabelSelection),Yd(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:a,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(o?.moved.size??0),c=(n?.defs.keys.length??0)>0;l&&c&&(n?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const h=bf(!1,this.properties.rotation,a,s);qt(this.id,"nodes",r,[e,t,i],h.nodes,((e,t)=>this.getDatumId(t)),o),qt(this.id,"innerCircle",r,[this.innerCircleSelection],h.innerCircle),Yd(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Yd(this,"sector",this.ctx.animationManager,this.labelSelection),Yd(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Yd(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,r=bf(!1,this.properties.rotation,n,a);qt(this.id,"nodes",s,[e,t,i],r.nodes,((e,t)=>this.getDatumId(t))),qt(this.id,"innerCircle",s,[this.innerCircleSelection],r.innerCircle),Vd(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Vd(this,"sector",this.ctx.animationManager,this.labelSelection),Vd(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Vd(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys)return n?e[n]:t?e[t]:i?e[i]:void 0}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t}=this;this.seriesItemEnabled=e?.map(((e,i)=>t[i]??!0))??[]}};Df.className="DonutSeries",Df.type="donut";var wf={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:td,color:sd,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:td,color:id,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:td,color:ad,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:hd,xOffset:3,yOffset:3,blur:5}}},kf=e=>{let{takeColors:t,colorsCount:i}=e;const{fills:n,strokes:a}=t(i);return{fills:n,strokes:a,calloutLine:{colors:a}}},Nf={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new Df(e),tooltipDefaults:{range:"exact"},themeTemplate:{series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:td,color:sd,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:td,color:id,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:td,color:ad,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:hd,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:td,color:id,spacing:2}}},paletteFactory:kf},Lf=class extends bs{constructor(){super(...arguments),this.showInLegend=!1}};l([fi(Mi)],Lf.prototype,"showInLegend",2);var Af=class extends Ms{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};l([fi(ki)],Af.prototype,"offset",2),l([fi(Li)],Af.prototype,"minAngle",2),l([fi(ki)],Af.prototype,"minSpacing",2),l([fi(ki)],Af.prototype,"maxCollisionOffset",2),l([fi(Mi)],Af.prototype,"avoidCollisions",2);var Cf=class extends Ms{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};l([fi(Di)],Cf.prototype,"positionOffset",2),l([fi(Ni)],Cf.prototype,"positionRatio",2);var Tf=class extends wt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};l([fi(Fi,{optional:!0})],Tf.prototype,"colors",2),l([fi(ki)],Tf.prototype,"length",2),l([fi(ki)],Tf.prototype,"strokeWidth",2);var Ef=class extends Uh{constructor(){super(...arguments),this.fills=Object.values(hf),this.strokes=Object.values(uf),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new Lf,this.shadow=new Zd,this.calloutLabel=new Af,this.sectorLabel=new Cf,this.calloutLine=new Tf,this.tooltip=new Qd}};l([fi(Ii)],Ef.prototype,"angleKey",2),l([fi(Ii,{optional:!0})],Ef.prototype,"angleName",2),l([fi(Ii,{optional:!0})],Ef.prototype,"angleFilterKey",2),l([fi(Ii,{optional:!0})],Ef.prototype,"radiusKey",2),l([fi(Ii,{optional:!0})],Ef.prototype,"radiusName",2),l([fi(ki,{optional:!0})],Ef.prototype,"radiusMin",2),l([fi(ki,{optional:!0})],Ef.prototype,"radiusMax",2),l([fi(Ii,{optional:!0})],Ef.prototype,"calloutLabelKey",2),l([fi(Ii,{optional:!0})],Ef.prototype,"calloutLabelName",2),l([fi(Ii,{optional:!0})],Ef.prototype,"sectorLabelKey",2),l([fi(Ii,{optional:!0})],Ef.prototype,"sectorLabelName",2),l([fi(Ii,{optional:!0})],Ef.prototype,"legendItemKey",2),l([fi(Fi)],Ef.prototype,"fills",2),l([fi(Fi)],Ef.prototype,"strokes",2),l([fi(Ni)],Ef.prototype,"fillOpacity",2),l([fi(Ni)],Ef.prototype,"strokeOpacity",2),l([fi(Zi)],Ef.prototype,"lineDash",2),l([fi(ki)],Ef.prototype,"lineDashOffset",2),l([fi(ki)],Ef.prototype,"cornerRadius",2),l([fi(Si,{optional:!0})],Ef.prototype,"itemStyler",2),l([fi(Li)],Ef.prototype,"rotation",2),l([fi(Di)],Ef.prototype,"outerRadiusOffset",2),l([fi(Ni)],Ef.prototype,"outerRadiusRatio",2),l([fi(ki)],Ef.prototype,"strokeWidth",2),l([fi(Di)],Ef.prototype,"sectorSpacing",2),l([fi(bi)],Ef.prototype,"title",2),l([fi(bi)],Ef.prototype,"shadow",2),l([fi(bi)],Ef.prototype,"calloutLabel",2),l([fi(bi)],Ef.prototype,"sectorLabel",2),l([fi(bi)],Ef.prototype,"calloutLine",2),l([fi(bi)],Ef.prototype,"tooltip",2);var Rf=class extends $c{constructor(e,t,i,n){super(e,t,i,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},Of=class extends Sf{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:vf,label:Wd}}),this.properties=new Ef,this.phantomNodeData=void 0,this.previousRadiusScale=new qh,this.radiusScale=new qh,this.phantomGroup=this.contentGroup.appendChild(new ca),this.phantomSelection=Ma.select(this.phantomGroup,(()=>this.nodeFactory()),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ca({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Ma(this.calloutLabelGroup,ca),this.backgroundGroup=this.rootGroup.appendChild(new ca({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ca({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new bh),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=Rf,this.angleScale=new qh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map((e=>e+Math.PI/2)),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",(e=>this.onLegendItemClick(e))))}get visible(){return super.visible&&(0===this.seriesItemEnabled.length||this.seriesItemEnabled.some((e=>e)))}nodeFactory(){const e=new cf;return e.miterLimit=1e9,e}getSeriesDomain(e){return"x"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data||!this.properties.isValid())return;let{data:t}=this;const{visible:i,seriesItemEnabled:n}=this,{angleKey:a,angleFilterKey:s,radiusKey:r,calloutLabelKey:o,sectorLabelKey:l,legendItemKey:c}=this.properties,h=!this.ctx.animationManager.isSkipped(),u=[],d=[];c?u.push(Uc(c,"band",{id:"legendItemKey"})):o?u.push(Uc(o,"band",{id:"calloutLabelKey"})):l&&u.push(Uc(l,"band",{id:"sectorLabelKey"}));const p=this.radiusScale.type,g=this.radiusScale.type;r&&d.push(Vc(r,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),Yc(r,p,{id:"radiusRaw"}),Lc("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&d.push(Yc(o,"band",{id:"calloutLabelValue"})),l&&d.push(Yc(l,"band",{id:"sectorLabelValue"})),c&&d.push(Yc(c,"band",{id:"legendItemValue"})),s&&d.push(Wc(s,g,{id:"angleFilterValue",onlyPositive:!0}),Yc(s,g,{id:"angleFilterRaw"}),Lc("angleFilterValue",[0,1],0,0)),h&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&u.length>0&&d.push(zc(this.processedData)),d.push(Ac()),t=t.map(((e,t)=>i&&n[t]?e:{...e,[a]:0})),await this.requestDataModel(e,t,{props:[...u,Wc(a,g,{id:"angleValue",onlyPositive:!0}),Yc(a,g,{id:"angleRaw"}),Lc("angleValue",[0,1],0,0),...d]});for(const f of this.processedData?.defs?.values??[]){const{id:e,missing:t,property:i}=f,n=Al(this,t);"angleRaw"!==e&&n>0&&y.warnOnce(`no value was found for the key '${String(i)}' on ${n} data element${n>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){return{angleIdx:e.resolveProcessedDataIndexById(this,"angleValue"),angleRawIdx:e.resolveProcessedDataIndexById(this,"angleRaw"),angleFilterIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,angleFilterRawIdx:null!=this.properties.angleFilterKey?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,radiusIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,radiusRawIdx:this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,calloutLabelIdx:this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,sectorLabelIdx:this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,legendItemIdx:this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0}}async createNodeData(){const{id:e,processedData:t,dataModel:i,angleScale:n}=this,{rotation:a}=this.properties;if(!t||!i||"ungrouped"!==t.type)return;const{angleIdx:s,angleRawIdx:r,angleFilterIdx:o,angleFilterRawIdx:l,radiusIdx:c,radiusRawIdx:h,calloutLabelIdx:u,sectorLabelIdx:d,legendItemIdx:p}=this.getProcessedDataIndexes(i),g=null!=l&&t.data.some((e=>{let{values:t}=e;return t[l]>t[r]}));let f=0,m=0;const y=[],x=null!=l?[]:void 0;return t.data.forEach(((e,t)=>{const{datum:i,values:b}=e,v=g?b[o]:b[s],M=null==l||g?1:Math.sqrt(b[l]/b[r]),S=n.convert(f)+Na(a);f=v,m+=v;const I=n.convert(f)+Na(a),D=Math.abs(I-S),w=S+D/2,k=b[r],N=(null!=c?b[c]??1:1)*M,L=null!=h?b[h]:void 0,A=null!=p?b[p]:void 0,C=this.getLabels(i,w,D,!0,null!=u?b[u]:void 0,null!=d?b[d]:void 0,A),T=this.getSectorFormat(i,t,!1),E={itemId:t,series:this,datum:i,index:t,angleValue:k,midAngle:w,midCos:Math.cos(w),midSin:Math.sin(w),startAngle:S,endAngle:I,radius:N,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(N),0),sectorFormat:T,radiusValue:L,legendItemValue:A,enabled:this.seriesItemEnabled[t],...C};y.push(E),null!=x&&x.push({...E,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)})})),this.zerosumOuterRing.visible=0===m,{itemId:e,nodeData:y,labelData:y,phantomNodeData:x}}getLabels(e,t,i,n,a,s,r){const{calloutLabel:o,sectorLabel:l,legendItemKey:c}=this.properties,h=!n||o.enabled?this.properties.calloutLabelKey:void 0,u=!n||l.enabled?this.properties.sectorLabelKey:void 0;if(!h&&!u&&!c)return{};const d={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},p={};return h&&i>Na(o.minAngle)&&(p.calloutLabel={...this.getTextAlignment(t),text:this.getLabelText(o,{...d,value:a}),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),u&&(p.sectorLabel={text:this.getLabelText(l,{...d,value:s})}),null!=c&&null!=r&&(p.legendItem={key:c,text:r}),p}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],i=wa(e)- -.75*Math.PI;return t[De(Math.floor(i/(Math.PI/2)),t.length)]}getSectorFormat(e,t,i){const{callbackCache:n}=this.ctx,{angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fills:c,strokes:h,itemStyler:u}=this.properties,d=h[t%h.length],{fill:p,fillOpacity:g,stroke:f,strokeWidth:m,strokeOpacity:y,lineDash:x,lineDashOffset:b,cornerRadius:v}=yt(i&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:d,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties);let M;return u&&(M=n.call(u,{datum:e,angleKey:a,radiusKey:s,calloutLabelKey:r,sectorLabelKey:o,legendItemKey:l,fill:p,strokeOpacity:y,stroke:f,strokeWidth:m,fillOpacity:g,lineDash:x,lineDashOffset:b,cornerRadius:v,highlighted:i,seriesId:this.id})),{fill:M?.fill??p,fillOpacity:M?.fillOpacity??g,stroke:M?.stroke??f,strokeWidth:M?.strokeWidth??m,strokeOpacity:M?.strokeOpacity??y,lineDash:M?.lineDash??x,lineDashOffset:M?.lineDashOffset??b,cornerRadius:M?.cornerRadius??v}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){const t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const i=e=>({...e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e.radius),0)});this.nodeData=this.nodeData.map(i),this.phantomNodeData=this.phantomNodeData?.map(i)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);if(0===e)return NaN;return-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}async update(e){let{seriesRect:t}=e;const{title:i}=this.properties,n={seriesRectWidth:t?.width,seriesRectHeight:t?.height},a=null!=At(this.nodeDataDependencies,n);if(a&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),i){const e=this.getTitleTranslationY(),t=i.node.getBBox();i.node.visible=i.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t,0,e),i.node.translationY=isFinite(e)?e:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,highlightLabelSelection:n,calloutLabelSelection:a,labelSelection:s}=this,r=this.nodeData.map((e=>({...e,sectorFormat:{...e.sectorFormat}}))),o=(e,t)=>{e.update(t,void 0,(e=>this.getDatumId(e))),this.ctx.animationManager.isSkipped()&&e.cleanup()};o(e,this.nodeData),o(t,r),o(i,this.phantomNodeData??[]),a.update(this.calloutNodeData,(e=>{const t=new Ga;t.tag=0,t.pointerEvents=1,e.appendChild(t);const i=new Ka;i.tag=1,i.pointerEvents=1,e.appendChild(i)})),s.update(this.nodeData),n.update(r)}async updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),i=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&t?.series===this,this.highlightLabel.visible=i&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=i),this.contentGroup.opacity=this.getOpacity();const n=this.ctx.animationManager.isSkipped(),a=(e,t,i,a)=>{const s=this.getSectorFormat(t.datum,t.itemId,a);t.sectorFormat.fill=s.fill,t.sectorFormat.stroke=s.stroke,n&&(e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius),(a||n)&&(e.fill=s.fill,e.stroke=s.stroke),e.strokeWidth=s.strokeWidth,e.fillOpacity=s.fillOpacity,e.strokeOpacity=s.strokeOpacity,e.lineDash=s.lineDash,e.lineDashOffset=s.lineDashOffset,e.cornerRadius=s.cornerRadius,e.fillShadow=this.properties.shadow;const r=Math.max((this.properties.sectorSpacing+(null!=s.stroke?s.strokeWidth:0))/2,0);e.inset=r,e.lineJoin=this.properties.sectorSpacing>=0||r>0?"miter":"round"};this.itemSelection.each(((e,t,i)=>a(e,t,0,!1))),this.highlightSelection.each(((e,i,n)=>{a(e,i,0,!0),i.itemId===t?.itemId?(e.visible=!0,a(e,i,0,!0)):e.visible=!1})),this.phantomSelection.each(((e,t,i)=>a(e,t,0,!1))),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:e}=this.properties,t=e.length,i=e.strokeWidth,n=e.colors??this.properties.strokes,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(((e,s)=>{const r=e.datum,{calloutLabel:o,outerRadius:l}=r;if(o?.text&&!o.hidden&&0!==l){e.visible=!0,e.strokeWidth=i,e.stroke=n[s%n.length],e.fill=void 0;const c=r.midCos*l,h=r.midSin*l;let u=r.midCos*(l+t),d=r.midSin*(l+t);if((o.collisionTextAlign??0!==o.collisionOffsetY)&&null!=o.box){const e=o.box;let t=u,i=d;u<e.x?t=e.x:u>e.x+e.width&&(t=e.x+e.width),d<e.y?i=e.y:d>e.y+e.height&&(i=e.y+e.height);const n=t-u,s=i-d,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),l=r-a;l>0&&(u+=n*l/r,d+=s*l/r)}e.x1=c,e.y1=h,e.x2=u,e.y2=d}else e.visible=!1}))}getLabelOverflow(e,t,i){const n=i.x-this.centerX,a=i.x+i.width-this.centerX,s=i.y-this.centerY,r=i.y+i.height-this.centerY;let o=1;t.x+1<n?o=(t.x+t.width-n)/t.width:t.x+t.width-1>a&&(o=(a-t.x)/t.width);const l=t.y+1<s||t.y+t.height-1>r;return{textLength:1===o?e.length:Math.floor(e.length*o)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{surroundingRadius:n}=this;if(null==n)return!1;const a=[{x:e.x+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+i},{x:e.x+e.width+t,y:e.y+e.height+i},{x:e.x+t,y:e.y+e.height+i}],s=n**2;return a.some((e=>e.x**2+e.y**2>s))}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:i}=this.properties,{offset:n,minSpacing:a}=t,s=e.convert(0),r=this.calloutNodeData,o=r.filter((e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t}));if(o.forEach((e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)})),o.length<=1)return;const l=o.filter((e=>e.midCos<0)).sort(((e,t)=>e.midSin-t.midSin)),c=o.filter((e=>e.midCos>=0)).sort(((e,t)=>e.midSin-t.midSin)),h=o.filter((e=>e.midSin<0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),u=o.filter((e=>e.midSin>=0&&"center"===e.calloutLabel?.textAlign)).sort(((e,t)=>e.midCos-t.midCos)),d=e=>{const t=e.calloutLabel;if(null==t)return Ae.zero.clone();const a=e.outerRadius+i.length+n,s=e.midCos*a,r=e.midSin*a+t.collisionOffsetY,o=t.collisionTextAlign??t.textAlign,l=t.textBaseline;return Ka.computeBBox(t.text,s,r,{font:this.properties.calloutLabel,textAlign:o,textBaseline:l})},p=(e,t,i)=>{const n=d(e).grow(a/2),s=d(t).grow(a/2);if(n.x<s.x+s.width&&n.x+n.width>s.x&&("to-top"===i?n.y<s.y+s.height:n.y+n.height>s.y)){const e="to-top"===i?n.y-s.y-s.height:n.y+n.height-s.y;t.calloutLabel.collisionOffsetY=e}},g=e=>{const t=e.slice().sort(((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin)))[0],i=e.indexOf(t);for(let n=i-1;n>=0;n--){const t=e[n+1],i=e[n];p(t,i,"to-top")}for(let n=i+1;n<e.length;n++){const t=e[n-1],i=e[n];p(t,i,"to-bottom")}},f=e=>{const t=o.some((e=>0!==e.calloutLabel.collisionOffsetY)),i=e.map((e=>d(e))),n=i.map((e=>e.clone().grow(a/2)));let l=!1;for(let a=0;a<n.length&&!l;a++){const t=n[a];for(let i=a+1;i<e.length;i++){const e=n[i];if(t.collidesBBox(e)){l=!0;break}}}const c=r.map((e=>{const{startAngle:t,endAngle:i,outerRadius:n}=e;return{startAngle:t,endAngle:i,innerRadius:s,outerRadius:n}})),h=i.some((e=>c.some((t=>ef(e,t)))));(l||t||h)&&e.filter((e=>"center"===e.calloutLabel.textAlign)).forEach((e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"}))};g(l),g(c),f(h),f(u)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,color:r}=i,o=new Ka;this.calloutLabelSelection.selectByTag(1).forEach((n=>{const{datum:l}=n,c=l.calloutLabel,h=t.convert(l.radius),u=Math.max(0,h);if(!c?.text||0===u||c.hidden)return void(n.visible=!1);const d=u+a+s,p=l.midCos*d,g=l.midSin*d+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};o.text=c.text,o.x=p,o.y=g,o.setFont(this.properties.calloutLabel),o.setAlign(f);const m=o.getBBox();let y=c.text,x=!0;if(i.avoidCollisions){const{textLength:t,hasVerticalOverflow:i}=this.getLabelOverflow(c.text,m,e);y=c.text.length===t?c.text:`${c.text.substring(0,t)}\u2026`,x=!i}n.text=y,n.x=p,n.y=g,n.setFont(this.properties.calloutLabel),n.setAlign(f),n.fill=r,n.visible=x}))}async computeLabelsBBox(e,t){const{calloutLabel:i,calloutLine:n}=this.properties,a=n.length,{offset:s,maxCollisionOffset:r,minSpacing:o}=i;if(!i.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Ka;let h;const{title:u}=this.properties;if(u?.text&&u.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=u.text,c.x=0,c.y=e,c.setFont(u),c.setAlign({textBaseline:"bottom",textAlign:"center"}),h=c.getBBox(),l.push(h))}return this.calloutNodeData.forEach((i=>{const n=i.calloutLabel;if(!n||0===i.outerRadius)return null;const u=i.outerRadius+a+s,d=i.midCos*u,p=i.midSin*u+n.collisionOffsetY;c.text=n.text,c.x=d,c.y=p,c.setFont(this.properties.calloutLabel),c.setAlign({textAlign:n.collisionTextAlign??n.textAlign,textBaseline:n.textBaseline});const g=c.getBBox();if(n.box=g,Math.abs(n.collisionOffsetY)>r)n.hidden=!0;else{if(h){const e=t.y-this.centerY,i=new Ae(h.x-o,e,h.width+2*o,h.y+h.height+o-e);if(g.collidesBBox(i))return void(n.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:i,hasSurroundingSeriesOverflow:a}=this.getLabelOverflow(n.text,g,t),s=n.text.length>2&&e<2;if(i||s||a)return void(n.hidden=!0)}n.hidden=!1,l.push(g)}})),0===l.length?null:Ae.merge(l)}updateSectorLabelNodes(){const{radiusScale:e}=this,t=e.convert(0),{fontSize:i,fontStyle:n,fontWeight:a,fontFamily:s,positionOffset:r,positionRatio:o,color:l}=this.properties.sectorLabel,c=t>0,h=1===this.seriesItemEnabled.filter(Boolean).length,u=(e,u)=>{const{sectorLabel:d,outerRadius:p,startAngle:g,endAngle:f}=u;let m=!1;if(d&&0!==p){const y=t*(1-o)+p*o+r;e.fill=l,e.fontStyle=n,e.fontWeight=a,e.fontSize=i,e.fontFamily=s,e.text=d.text;!c&&h?(e.x=0,e.y=0):(e.x=u.midCos*y,e.y=u.midSin*y),e.textAlign="center",e.textBaseline="middle";const x=e.getBBox(),b=[[x.x,x.y],[x.x+x.width,x.y],[x.x+x.width,x.y+x.height],[x.x,x.y+x.height]],v={startAngle:g,endAngle:f,innerRadius:t,outerRadius:p};b.every((e=>{let[t,i]=e;return qg(t,i,v)}))&&(m=!0)}e.visible=m};this.labelSelection.each(u),this.highlightLabelSelection.each(u)}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius()}getDatumLegendName(e){const{angleKey:t,calloutLabelKey:i,sectorLabelKey:n,legendItemKey:a}=this.properties,{sectorLabel:s,calloutLabel:r,legendItem:o}=e;return a&&void 0!==o?o.text:i&&i!==t&&void 0!==r?.text?r.text:n&&n!==t&&void 0!==s?.text?s.text:void 0}pickNodeClosestDatum(e){return Mf(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return gs;const{datum:t,angleValue:i,sectorFormat:{fill:n},itemId:a}=e,s=Ud(this.properties.title?.text),r=ut(i)?Ie(i):String(i),o=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??o,content:s&&o?`${o}: ${r}`:r,backgroundColor:n},{datum:t,itemId:a,title:s,color:n,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){const{visible:t,processedData:i,dataModel:n}=this;if(!n||!i?.data.length||"category"!==e)return[];const{angleKey:a,calloutLabelKey:s,sectorLabelKey:r,legendItemKey:o}=this.properties;if(!o&&(!s||s===a)&&(!r||r===a))return[];const{calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:h}=this.getProcessedDataIndexes(n),u=this.properties.title?.showInLegend&&this.properties.title.text,d=[];for(let p=0;p<i.data.length;p++){const{datum:e,values:n}=i.data[p],g=[];u&&g.push(u);const f=this.getLabels(e,2*Math.PI,2*Math.PI,!1,null!=l?n[l]:void 0,null!=c?n[c]:void 0,null!=h?n[h]:void 0);if(o&&void 0!==f.legendItem?g.push(f.legendItem.text):s&&s!==a&&void 0!==f.calloutLabel?.text?g.push(f.calloutLabel?.text):r&&r!==a&&void 0!==f.sectorLabel?.text&&g.push(f.sectorLabel?.text),0===g.length)continue;const m=this.getSectorFormat(e,p,!1);d.push({legendType:"category",id:this.id,itemId:p,seriesId:this.id,enabled:t&&this.seriesItemEnabled[p],label:{text:g.join(" - ")},symbols:[{marker:{fill:m.fill,stroke:m.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:null!=o?e[o]:void 0})}return d}onLegendItemClick(e){const{enabled:t,itemId:i,series:n,legendItemName:a}=e;n.id===this.id?this.toggleSeriesItem(i,t):null!=a&&this.toggleOtherSeriesItems(a,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;const i=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(((n,a)=>{let{values:s}=n;s[i]===e&&this.toggleSeriesItem(a,t)}))}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,i=bf(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);qt(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],i.nodes,((e,t)=>this.getDatumId(t))),Yd(this,"callout",t,this.calloutLabelSelection),Yd(this,"sector",t,this.labelSelection),Yd(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,processedData:n,radiusScale:a,previousRadiusScale:s}=this,{animationManager:r}=this.ctx,o=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(o?.moved.size??0),c=(n?.defs.keys.length??0)>0;l&&c&&(n?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const h=bf(!1,this.properties.rotation,a,s);qt(this.id,"nodes",r,[e,t,i],h.nodes,((e,t)=>this.getDatumId(t)),o),Yd(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Yd(this,"sector",this.ctx.animationManager,this.labelSelection),Yd(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:i,radiusScale:n,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,r=bf(!1,this.properties.rotation,n,a);qt(this.id,"nodes",s,[e,t,i],r.nodes,((e,t)=>this.getDatumId(t))),Vd(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Vd(this,"sector",this.ctx.animationManager,this.labelSelection),Vd(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){const{calloutLabelKey:t,sectorLabelKey:i,legendItemKey:n}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys)return n?e[n]:t?e[t]:i?e[i]:void 0}getDatumId(e){const{index:t}=e,i=this.getDatumIdFromData(e.datum);return null!=i?String(i):`${t}`}onDataChange(){const{data:e,seriesItemEnabled:t}=this;this.seriesItemEnabled=e?.map(((e,i)=>t[i]??!0))??[]}};Of.className="PieSeries",Of.type="pie";var zf={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new Of(e),tooltipDefaults:{range:"exact"},themeTemplate:wf,paletteFactory:kf},jf=class extends wt{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){return this.buttons?.map((e=>{const t=e.id??e.value,i=this.buttonOverrides.get(t);return null!=i?{...e,...i}:e}))??[]}buttonsChanged(e){this.onButtonsChange(this.buttonConfigurations(),e)}overrideButtonConfiguration(e,t){let i=this.buttonOverrides.get(e);null==i&&(i=Object.create(null),this.buttonOverrides.set(e,i));for(const n in t){const e=t[n];null==e?delete i[n]:i[n]=e}this.buttonsChanged(!0)}};l([ns((e=>{e.onChange(e.enabled)})),fi(Mi)],jf.prototype,"enabled",2),l([ns((e=>{e.onChange(e.enabled)})),fi(rn([...ol]),{optional:!0})],jf.prototype,"align",2),l([ns((e=>{e.onChange(e.enabled)})),fi(rn(ul),{optional:!0})],jf.prototype,"position",2),l([ns((e=>{e.onChange(e.enabled)})),fi(rn(["small","normal"]),{optional:!0})],jf.prototype,"size",2),l([ns((e=>{for(const t of e.buttons??[])null!=t.icon&&h.includes(t.icon)&&y.warnOnce(`Icon '${t.icon}' is deprecated, use another icon instead.`),"toolbarAnnotationsColor"===t.ariaLabel&&y.warnOnce(`Aria label '${t.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);e.buttonsChanged(!1)})),fi(Ci,{optional:!0})],jf.prototype,"buttons",2);var Pf="ag-charts-toolbar",Bf="ag-charts-toolbar__align",Ff="ag-charts-toolbar__section",Gf="ag-charts-toolbar__button",_f="ag-charts-toolbar__icon",Uf="ag-charts-toolbar__label",Yf={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible"}},Vf=class extends Rr{constructor(e){super(),this.ctx=e,this.enabled=!0,this.seriesType=new jf(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new jf(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new jf(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new jf(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new jf(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[]},{groups:["annotationOptions"],destroyFns:[]},{groups:["ranges"],destroyFns:[]},{groups:["zoom"],destroyFns:[]}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(const t of ul)this.elements[t]=e.domManager.addChild("canvas-overlay",`toolbar-${t}`),this.elements[t].role="presentation",this.renderToolbar(t);this.toggleVisibilities(),this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),31),e.interactionManager.addListener("leave",this.onLeave.bind(this),31),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),e.localeManager.addListener("locale-changed",(()=>{this.hasNewLocale=!0})),(()=>this.destroyElements()))}destroyElements(){this.ctx.domManager.removeStyles(Pf);for(const e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){const{enabled:t,elements:i,floatingDetectionRange:n,ctx:{scene:a}}=this,{offsetY:s,sourceEvent:{target:r}}=e,{FloatingBottom:o,FloatingTop:l}=hl;if(!t)return;const c=i[o],h=i[l],u=s>c.offsetTop-n&&s<a.canvas.element.offsetHeight||r===c,d=h.offsetTop+h.offsetHeight+n,p=s>0&&s<d||r===h;this.translateFloatingElements(o,u),this.translateFloatingElements(l,p)}onLeave(e){const{enabled:t,ctx:{scene:i}}=this,{relatedElement:n,targetElement:a}=e,{FloatingBottom:s,FloatingTop:r}=hl;if(!t||a!==i.canvas.element)return;ll.some((e=>this.groupButtons[e].some((e=>e===n))))||(this.translateFloatingElements(s,!1),this.translateFloatingElements(r,!1))}onGroupChanged(e){null==this[e]||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t,i){if(this.enabled&&!this.groupProxied.has(e)){if(i)for(const t of this[e].buttonConfigurations())this.refreshButtonContent(e,t);else this.createGroupButtons(e,t);this.toggleVisibilities()}}onLayoutComplete(){for(const e of ul)this.elements[e].classList.remove(Yf.preventFlash)}onButtonUpdated(e){const{type:t,group:i,id:n,...a}=e;this[i].overrideButtonConfiguration(n,{...a})}setButtonActive(e,t){e.classList.toggle(Yf.button.active,t)}onButtonToggled(e){const{group:t,id:i,active:n,enabled:a,visible:s}=e;if(0!==this.groupButtons[t].length)for(const r of this.groupButtons[t])r.dataset.toolbarId===`${i}`&&(r.ariaDisabled=`${!a}`,hs(r,Yf.button.hiddenToggled,!s),this.setButtonActive(r,n));else this.pendingButtonToggledEvents.push(e)}onGroupToggled(e){const{caller:t,group:i,active:n,visible:a}=e;this.toggleGroup(t,i,n,a),this.toggleVisibilities()}onFloatingAnchorChanged(e){const{elements:t,groupButtons:i,positions:n,horizontalSpacing:a,verticalSpacing:s,ctx:{domManager:r,toolbarManager:o}}=this,{group:l,anchor:c}=e;if(!n.floating.has(l))return;const h=t.floating;if(h.classList.contains(Yf.hidden))return;const u=c.position??"above",{offsetWidth:d,offsetHeight:p}=h;let g=c.y-p-s,f=c.x-d/2;"right"===u?(g=c.y-p/2,f=c.x+a):"above-left"===u&&(f=c.x);const m=r.getBoundingClientRect();g=me(0,g,m.height-p),f=me(0,f,m.width-d),h.style.top=`${g}px`,h.style.left=`${f}px`;const y=new Ae(f,g,d,p);for(const x of i[l]){if(x.classList.contains(Yf.button.hiddenToggled))continue;const e=x.offsetParent;o.buttonMoved(l,x.dataset.toolbarId,new Ae(x.offsetLeft+(e?.offsetLeft??0),x.offsetTop+(e?.offsetTop??0),x.offsetWidth,x.offsetHeight),y)}}buttonRect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx.domManager.getBoundingClientRect();const i=e.getBoundingClientRect();return new Ae(i.left-t.left,i.top-t.top,i.width,i.height)}onProxyGroupOptions(e){if(!this.enabled)return;const{caller:t,group:i,options:n}=e;this.groupProxied.set(i,n),this[i].set(n),this.toggleGroup(t,i,void 0,n.enabled),this.createGroup(i,n.enabled,n.position),n.enabled&&this.createGroupButtons(i,n.buttons)}createGroup(e,t,i){t??(t=this[e].enabled),i??(i=this[e].position);for(const n of ul)t&&i===n?this.positions[n].add(e):this.positions[n].delete(e)}createGroupButtons(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const p of this.groupButtons[e])p.remove();const i=this.getAriaToolbar(e);if(this.groupButtons[e]=[],i.destroyFns.forEach((e=>e())),i.destroyFns=[],0===t.length)return;const{align:n,position:a}=this[e],s=this.positionAlignments[a][n];if(!s)return;const r=t=>{const i=Array.from(s.children),n="data-group",a="data-section";let r=i.find((i=>i.getAttribute(n)===e&&i.getAttribute(a)===(t??"")));if(!r){r=pa("div"),r.role="presentation",r.setAttribute(n,e),r.setAttribute(a,t??"");const o=cl[e],l=i.find((e=>{const t=e.getAttribute(n);return cl[t]>o}));null!=l?s.insertBefore(r,l):s.appendChild(r),this.destroyFns.push((()=>r.remove()))}return r.classList.add(Ff,Yf[this[e].size]),r};let o=t.at(0)?.section,l=r(o);for(const p of t){o!==p.section&&(l=r(p.section)),o=p.section;const t=this.createButtonElement(e,p);l.appendChild(t),this.groupButtons[e].push(t)}let c,h;dl(a)&&(c=()=>this.translateFloatingElements(a,!0),h=()=>this.translateFloatingElements(a,!1));const u=this.computeAriaOrientation(this[e].position),d=i.groups.map((e=>this.groupButtons[e])).flat();i.destroyFns=xu({orientation:u,toolbar:s,buttons:d,onEscape:()=>{this.ctx.toolbarManager.cancel(e)},onFocus:c,onBlur:h}),this.updateToolbarAriaLabel(e,s)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,i,n){if(!0===n?this.groupCallers[t].add(e):!1===n&&this.groupCallers[t].delete(e),null!=i)for(const a of this.groupButtons[t])this.setButtonActive(a,i)}processPendingEvents(){const e=(this.pendingButtonToggledEvents??[]).slice();for(const t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}async performLayout(e){return this.enabled?(this.refreshOuterLayout(e.shrinkRect),this.refreshLocale(),e):e}async performCartesianLayout(e){this.enabled&&this.refreshInnerLayout(e.seriesRect)}refreshOuterLayout(e){const{elements:t,horizontalSpacing:i,verticalSpacing:n}=this;t.top.classList.contains(Yf.hidden)||e.shrink(t.top.offsetHeight+n,"top"),t.right.classList.contains(Yf.hidden)||e.shrink(t.right.offsetWidth+i,"right"),t.bottom.classList.contains(Yf.hidden)||(e.shrink(t.bottom.offsetHeight+n,"bottom"),t.bottom.style.top=`${e.y+e.height+n}px`),t.left.classList.contains(Yf.hidden)||e.shrink(t.left.offsetWidth+i,"left")}refreshLocale(){const{hasNewLocale:e}=this;if(e){for(const e of ll){const t=this[e].buttonConfigurations();for(const i of t)this.refreshButtonContent(e,i);this.updateToolbarAriaLabel(e)}this.hasNewLocale=!1}}refreshInnerLayout(e){const{elements:t,verticalSpacing:i}=this,{FloatingBottom:n,FloatingTop:a}=hl;t.top.style.top=e.y-t.top.offsetHeight-i+"px",t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[a].style.top=`${e.y}px`,t[n].style.top=e.y+e.height-t[n].offsetHeight+"px"}refreshButtonContent(e,t){const i=this.buttonId(t),n=this.groupProxied.get(e)?.buttons?.find((e=>this.buttonId(e)===i))??t,a=this.groupButtons[e].find((e=>e.getAttribute("data-toolbar-id")===i));null!=a&&this.updateButton(a,n)}toggleVisibilities(){if(null==this.elements)return;const e=e=>this[e].enabled&&this.groupCallers[e].size>0,t=e=>t=>{const i=this.buttonId(t);return null==i||i===e.dataset.toolbarId};for(const i of ul){const t=this.enabled&&Array.from(this.positions[i].values()).some(e);hs(this.elements[i],Yf.hidden,!t)}for(const i of ll){if(null==this[i])continue;const n=e(i);for(const e of this.groupButtons[i]){const a=n&&this[i].buttonConfigurations().some(t(e));hs(e,Yf.button.hiddenValue,!a)}}}translateFloatingElements(e,t){const{elements:i,verticalSpacing:n,positionAlignments:a}=this,s=i[e],r=Object.values(a[e]);hs(s,Yf.floatingHidden,!t);const o="floating-bottom"===e?1:-1;for(const l of r)l.style.transform=t&&""!==l.style.transform?"translateY(0)":`translateY(${(s.offsetHeight+n)*o}px)`}renderToolbar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top";const t=this.elements[e];t.classList.add(Pf,Yf[e],Yf.preventFlash),dl(e)&&t.classList.add(Yf.floatingHidden);for(const i of ol){const n=pa("div");n.role="presentation",n.classList.add(Bf,Yf.align[i]),n.dataset.pointerCapture="exclusive",t.appendChild(n),this.positionAlignments[e][i]=n}}createButtonElement(e,t){const i=pa("button");return i.classList.add(Gf),i.dataset.toolbarGroup=e,i.tabIndex=-1,i.dataset.toolbarId=this.buttonId(t),i.onclick=vu(i,this.onButtonPress.bind(this,i,e,t.id,t.value)),this.updateButton(i,t),this.destroyFns.push((()=>i.remove())),i}getAriaToolbar(e){for(const t of this.ariaToolbars)if(t.groups.includes(e))return t;throw new Error(`AG Charts - cannot find aria-toolbar of '${e}'`)}updateToolbarAriaLabel(e,t){if(!t){const{align:i,position:n}=this[e];if(!(t=this.positionAlignments[n][i]))return}t.ariaLabel=this.ctx.localeManager.t({seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"}[e])}updateButton(e,t){const{ctx:{domManager:i,localeManager:n}}=this;if(t.tooltip){const i=n.t(t.tooltip);e.title=i}let a="";if(null!=t.icon&&(a=`<span class="${i.getIconClassNames(t.icon)} ${_f}"></span>`),null!=t.label){const e=n.t(t.label);a=`${a}<span class="${Uf}">${e}</span>`}e.innerHTML=a,e.classList.toggle(Yf.button.fillVisible,null!=t.fill),e.style.setProperty("--fill",t.fill??null);cs(e,"aria-label",t.ariaLabel?this.ctx.localeManager.t(t.ariaLabel):void 0)}onButtonPress(e,t,i,n){this.ctx.toolbarManager.pressButton(t,this.buttonId({id:i,value:n}),n,this.buttonRect(e))}buttonId(e){const{id:t,value:i,label:n}=e;return null!=t?t:null!=i&&"object"!==typeof i?String(i):n??""}};l([ns((e=>{e.processPendingEvents(),e.toggleVisibilities()})),fi(Mi)],Vf.prototype,"enabled",2);var Wf=864e5,Hf=30*Wf,Zf={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:e=>new Vf(e),themeTemplate:{toolbar:{enabled:!0,seriesType:{enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type"}]},annotations:{enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},annotationOptions:{enabled:!0,position:"floating",align:"start",buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color"},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color"},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color"},{tooltip:"toolbarAnnotationsTextSize",value:"text-size"},{icon:"unlocked",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"locked",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},ranges:{enabled:!1,position:Bd,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:Hf},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*Hf},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*Hf},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:365*Wf},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t],id:"all"}]},zoom:{enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]}}}};function Kf(){for(const e of zr.modules){if("enterprise"!==e.packageType||Fl(e)||y.errorOnce("Unexpected enterprise module registered: "+e.identifier),"root"===e.type&&e.themeTemplate)for(const t of e.chartTypes)Wl.set(t,e.themeTemplate);if("series"===e.type){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Hl.register(e.identifier,e)}if("series-option"===e.type&&e.themeTemplate)for(const t of e.seriesTypes)Hl.setThemeTemplate(t,e.themeTemplate);if("axis-option"===e.type&&e.themeTemplate)for(const t of e.axisTypes){const i=jl.getThemeTemplate(t),n=yt(e.themeTemplate,i);jl.setThemeTemplate(t,n)}"axis"===e.type&&jl.register(e.identifier,e),"legend"===e.type&&Gl.register(e.identifier,e)}if(zr.hasEnterpriseModules()){const e=Pl.filter((e=>{let{useCount:t}=e;return null==t||0===t}));e.length>0&&y.errorOnce("Enterprise modules expected but not registered: ",e)}}var $f=class extends ph{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();const{nodes:e}=this.getOptions();this.series.forEach((t=>{(function(e){return"sankey"===e.type||"chord"===e.type})(t)&&t.setChartNodes(e)}))}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,s=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e;const r=this.series.some((e=>e.visible));i.visible=r;for(const o of[i,n,a])o.translationX=Math.floor(e.x),o.translationY=Math.floor(e.y),o.setClipRectInGroupCoordinateSpace(new Ae(s.x,s.y,s.width,s.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:r},axes:[]}),e}};$f.className="FlowProportionChart",$f.type="flow-proportion";var Xf=class extends ph{constructor(e,t){super(e,t)}getChartType(){return"hierarchy"}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,s=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e;for(const r of[i,n,a])r.translationX=Math.floor(e.x),r.translationY=Math.floor(e.y);return await Promise.all(this.series.map((async t=>{await t.update({seriesRect:e})}))),i.visible=this.series[0].visible,i.setClipRectInGroupCoordinateSpace(new Ae(e.x,e.y,e.width,e.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:!0},axes:[]}),e}getAriaLabel(){return`hierarchical chart, ${this.getCaptionText()}`}};Xf.className="HierarchyChart",Xf.type="hierarchy";var Qf=class extends mr{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}};l([fi(rn(["polygon","circle"],"a polar axis shape"))],Qf.prototype,"shape",2),l([fi(Ni)],Qf.prototype,"innerRadiusRatio",2);var qf=class extends ph{constructor(e,t){super(e,t),this.padding=new Fr(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(){const e=await super.performLayout(),t=e.clone();return this.computeSeriesRect(e),await this.computeCircle(e),this.axes.forEach((e=>e.update())),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:t,paddedRect:e,visible:!0},axes:[]}),e}updateAxes(e,t,i){const n=this.axes.find((e=>"x"===e.direction)),a=this.axes.find((e=>"y"===e.direction));if(!(n instanceof Qf)||!(a instanceof Qf))return;const s=n.scale,r=s.ticks?.().map((e=>s.convert(e))),o=a.innerRadiusRatio;n.innerRadiusRatio=o,n.computeRange?.(),n.gridLength=i,a.gridAngles=r,a.gridRange=n.range,a.range=[i,i*o],[n,a].forEach((i=>{i.translation.x=e,i.translation.y=t,i.calculateLayout()}))}computeSeriesRect(e){const{seriesArea:{padding:t}}=this;e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e}async computeCircle(e){var t=this;const i=this.series.filter((e=>e instanceof Sf)),n=this.axes.filter((e=>e instanceof Qf)),a=(e,t,n)=>{this.updateAxes(e,t,n),i.forEach((i=>{i.centerX=e,i.centerY=t,i.radius=n}));const a=i.filter((e=>"donut"===e.type||"pie"===e.type));if(a.length>1){const e=a.map((e=>{const t=e.getInnerRadius();return{series:e,innerRadius:t}})).sort(((e,t)=>e.innerRadius-t.innerRadius));e.at(-1).series.surroundingRadius=void 0;for(let t=0;t<e.length-1;t++)e[t].series.surroundingRadius=e[t+1].innerRadius}},s=e.x+e.width/2,r=e.y+e.height/2,o=Math.max(0,Math.min(e.width,e.height)/2);let l=o;a(s,r,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const h=[];for(const t of[...n,...i]){const i=await t.computeLabelsBBox({hideWhenNecessary:c},e);i&&h.push(i)}if(0===h.length)return void a(s,r,o);const u=Ae.merge(h),d=t.refineCircle(u,l,e);a(d.centerX,d.centerY,d.radius),d.radius!==l&&(l=d.radius)};return await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0}),{radius:l,centerX:s,centerY:r}}refineCircle(e,t,i){const n=-t,a=-t,s=t,r=t;let o=Math.max(0,n-e.x),l=Math.max(0,a-e.y),c=Math.max(0,e.x+e.width-s),h=Math.max(0,e.y+e.height-r);o=c=Math.max(o,c),l=h=Math.max(l,h);const u=i.width-o-c,d=i.height-l-h;let p=Math.min(u,d)/2;const g=.5*i.width/2,f=.5*i.height/2,m=Math.min(g,f);if(p<m){p=m;const e=o+c;if(2*p+(l+h)>i.height){const e=i.height-2*p;2*Math.min(l,h)>e?(l=e/2,h=e/2):l>h?l=e-h:h=e-l}if(2*p+e>i.width){const e=i.width-2*p;2*Math.min(o,c)>e?(o=e/2,c=e/2):o>c?o=e-c:c=e-o}}const y=o+2*p+c,x=l+2*p+h;return{centerX:i.x+(i.width-y)/2+o+p,centerY:i.y+(i.height-x)/2+l+p,radius:p}}};qf.className="PolarChart",qf.type="polar";var Jf=Math.PI/180,em=e=>e*Jf,tm=e=>-Math.log(Math.tan(.25*Math.PI+e*Jf*.5)),im=e=>e/Jf,nm=e=>(Math.atan(Math.exp(-e))-.25*Math.PI)/(.5*Jf),am=class e{constructor(t,i){this.domain=t,this.range=i,this.type="mercator",this.bounds=e.bounds(t)}static bounds(e){const[[t,i],[n,a]]=e,s=em(t),r=tm(i),o=em(n),l=tm(a);return new Ae(Math.min(s,o),Math.min(r,l),Math.abs(o-s),Math.abs(l-r))}static fixedScale(){return new e([[im(0),nm(0)],[im(1),nm(1)]],[[0,0],[1,1]])}convert(e){let[t,i]=e;const[[n,a],[s,r]]=this.range,o=(s-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[(em(t)-this.bounds.x)*o+n,(tm(i)-this.bounds.y)*l+a]}invert(e){let[t,i]=e;const[[n,a],[s,r]]=this.range,o=(s-n)/this.bounds.width,l=(r-a)/this.bounds.height;return[im((t-n)/o+this.bounds.x),nm((i-a)/l+this.bounds.y)]}};function sm(e){return"map-shape"===e.type||"map-line"===e.type||"map-marker"===e.type||"map-shape-background"===e.type||"map-line-background"===e.type}var rm=class extends ph{constructor(e,t){super(e,t),this.xAxis=new eu(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new eu(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();const{topology:e}=this.getOptions();this.series.forEach((t=>{sm(t)&&t.setChartTopology(e)}))}async performLayout(){const e=await super.performLayout(),{seriesArea:{padding:t},seriesRoot:i,annotationRoot:n,highlightRoot:a}=this,s=e.clone();e.shrink(t.left,"left"),e.shrink(t.top,"top"),e.shrink(t.right,"right"),e.shrink(t.bottom,"bottom"),this.seriesRect=e,this.animationRect=e;const r=this.series.filter(sm),o=r.reduce(((e,t)=>{if(!t.visible)return e;const i=t.topologyBounds;return null==i?e:null==e?i:(e.merge(i),e)}),void 0);let l;if(null!=o){const{lon0:t,lat0:i,lon1:n,lat1:a}=o,s=[[t,i],[n,a]],r=am.bounds(s),{width:c,height:h}=e,u=Math.min(c/r.width,h/r.height),d=r.width*u,p=r.height*u,g=(c-d)/2,f=(h-p)/2,m=g,y=f,x=g+d,b=f+p,v=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),M=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),S=(x-m)/(v.max-v.min),I=m-S*v.min,D=(b-y)/(1-M.min-(1-M.max)),w=y-D*(1-M.max);l=new am(s,[[I,w],[I+S,w+D]])}r.forEach((e=>{e.scale=l}));const c=this.series.some((e=>e.visible));i.visible=c;for(const h of[i,n,a])h.translationX=Math.floor(e.x),h.translationY=Math.floor(e.y),h.setClipRectInGroupCoordinateSpace(new Ae(e.x,e.y,e.width,e.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:s,paddedRect:e,visible:c},axes:[]}),e}};rm.className="TopologyChart",rm.type="topology";var om={isEnterprise:!1};function lm(e,t){if(rt(e))return t(e)}var cm=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];var hm="range-area";function um(e,t){return{fill:lm(t,(t=>t.overrides?.[e]?.series?.fill)),stroke:lm(t,(t=>t.overrides?.[e]?.series?.stroke))}}var dm={"price-volume":function(e,t){const{xKey:i,dateKey:n=i??"date",highKey:a="high",openKey:s="open",lowKey:r="low",closeKey:o="close",volumeKey:l="volume",chartType:c="candlestick",navigator:h=!1,volume:u=!0,rangeToolbar:d,rangeButtons:p=d??!0,statusBar:g=!0,annotations:f,toolbar:m=f??!0,zoom:x=!0,theme:b,data:v,...M}=e;null!=i&&y.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),null!=d&&y.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),null!=f&&y.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");const S=function(e,t,i,n,a,s,r){t===hm&&(y.warnOnce(`type '${t}' is deprecated, use 'hlc' chart type instead`),t="hlc");const o={xKey:i,openKey:s,closeKey:r,highKey:n,lowKey:a},l={xKey:i,yKey:r},c={pickOutsideVisibleMinorAxis:!0};switch(t??"candlestick"){case"ohlc":return[{type:"ohlc",...c,...o}];case"line":return[{type:"line",...c,...l,stroke:lm(e,(e=>e.overrides?.line?.series?.stroke))??bd,marker:lm(e,(e=>e.overrides?.line?.series?.marker))??{enabled:!1}}];case"step-line":return[{type:"line",...c,...l,stroke:lm(e,(e=>e.overrides?.line?.series?.stroke))??bd,interpolation:lm(e,(e=>e.overrides?.line?.series?.interpolation))??{type:"step"},marker:lm(e,(e=>e.overrides?.line?.series?.marker))??{enabled:!1}}];case"hlc":const s=um(hm,e);return[{type:hm,...c,xKey:i,yHighKey:n,yLowKey:r,fill:s.fill??yd,stroke:s.stroke??fd,fillOpacity:lm(e,(e=>e.overrides?.["range-area"]?.series?.fillOpacity))??.3,strokeWidth:lm(e,(e=>e.overrides?.["range-area"]?.series?.strokeWidth))??2},{type:hm,...c,xKey:i,yHighKey:r,yLowKey:a,fill:s.fill??xd,stroke:s.stroke??md,fillOpacity:lm(e,(e=>e.overrides?.["range-area"]?.series?.fillOpacity))??.3,strokeWidth:lm(e,(e=>e.overrides?.["range-area"]?.series?.strokeWidth))??2},{type:"line",...c,...l,stroke:lm(e,(e=>e.overrides?.line?.series?.stroke))??kd,strokeWidth:lm(e,(e=>e.overrides?.line?.series?.strokeWidth))??2,marker:lm(e,(e=>e.overrides?.line?.series?.marker))??{enabled:!1}}];case"high-low":const h=um("range-bar",e);return[{type:"range-bar",...c,xKey:i,yHighKey:n,yLowKey:a,fill:h.fill??vd,stroke:h.stroke??bd,tooltip:{range:"nearest"}}];case"candlestick":return[{type:"candlestick",...c,...o}];case"hollow-candlestick":const u=lm(e,(e=>e.overrides?.candlestick?.series?.item));return[{type:"candlestick",...c,...o,item:{up:{fill:u?.up?.fill??"transparent"}}}];default:return y.warnOnce(`unknown chart type: ${t}; expected one of: ${cm.join(", ")}`),[{type:"candlestick",...c,...o}]}}(b,c,n,a,r,s,o),I=function(e,t,i,n,a,s){if(!a)return[];const r=lm(e,(e=>e.overrides?.bar?.series?.fill)),o=r?{fill:r}:{itemStyler(e){let{datum:a}=e;const{up:s,down:r}=t().palette;return{fill:a[i]<a[n]?s?.fill:r?.fill}}};return[{type:"bar",xKey:"date",yKey:s,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:lm(e,(e=>e.overrides?.bar?.series?.fillOpacity))??.5,...o}]}(b,t,s,o,u,l),D={navigator:{enabled:h,...u?{miniChart:{enabled:h,series:[{type:"line",xKey:n,yKey:l,marker:{enabled:!1}}]}}:null}},w=g?{statusBar:{enabled:!0,data:v,highKey:a,openKey:s,lowKey:r,closeKey:o,volumeKey:u?l:void 0}}:null,k={zoom:{enabled:x,enableIndependentAxes:!0}},N={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:m},annotationOptions:{enabled:m},annotations:{enabled:m},ranges:{enabled:p}}},L=u?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return{theme:"string"===typeof b?b:{baseTheme:"ag-financial",...b??{}},animation:{enabled:!1},legend:{enabled:!1},series:[...I,...S],padding:{top:6,right:8,bottom:5},axes:[{type:"number",position:"right",keys:[s,o,a,r],interval:{maxSpacing:lm(b,(e=>e.overrides?.common?.axes?.number?.interval?.maxSpacing))??45},label:{format:lm(b,(e=>e.overrides?.common?.axes?.number?.label?.format))??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...L,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:m},tooltip:{enabled:!1},data:v,titlePadding:4,...D,...w,...k,...N,...M}}};function pm(e,t){const i=[],n=Yl.get(ec(e));for(const{type:a,chartTypes:s,optionsKey:r,optionsInnerKey:o,identifier:l}of Pl)if("unknown"===n||s.includes(n))if("root"===a||"legend"===a){const t=e[r];if(null==t)continue;o?t[o]&&(i.push(`${r}.${o}`),delete t[o]):(i.push(r),delete e[r])}else if("axis"===a){if(!("axes"in e)||!e.axes?.some((e=>e.type===l)))continue;i.push(`axis[type=${l}]`),e.axes=e.axes.filter((e=>e.type!==l))}else if("axis-option"===a){if(!("axes"in e)||!e.axes?.some((e=>e[r])))continue;i.push(`axis.${r}`),e.axes.forEach((e=>{e[r]&&delete e[r]}))}else if("series"===a){if(!e.series?.some((e=>e.type===l)))continue;i.push(`series[type=${l}]`),e.series=e.series.filter((e=>e.type!==l))}else if("series-option"===a){if(!e.series?.some((e=>e[r])))continue;i.push(`series.${r}`),e.series.forEach((e=>{e[r]&&delete e[r]}))}if(i.length&&!t){let t="ag-charts-enterprise",n="https://charts.ag-grid.com/javascript/installation/";"integrated"===e.mode&&(t="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",n="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),y.warnOnce([`unable to use these enterprise features as '${t}' has not been loaded:`,"",...i,"",`See: ${n}`].join("\n"))}}var gm=Symbol("description"),fm=Symbol("required");function mm(e,t,i){const{errors:n}=xm(e,t,i);for(const{message:a}of n)y.warn(a);return 0===n.length}function ym(e,t,i){const n=ct(i)?i:i[gm],a=n?`; expecting ${n}`:"";return`${e?`Option \`${e}\``:"Value"} cannot be set to \`${function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;switch(typeof e){case"undefined":return"undefined";case"number":if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";default:return(e=JSON.stringify(e)).length>t?`${e.slice(0,t)}... (+${e.length-t} characters)`:e}}(t)}\`${a}, ignoring.`}function xm(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!rt(e))return{valid:null,errors:[{path:i,value:e,message:ym(i,e,"an object")}]};const n=new Set(Object.keys(e)),a=[],s={};function r(e){return et(t)?`${i}[${e}]`:i?`${i}.${e}`:e}for(const[o,l]of Object.entries(t)){n.delete(o);const t=e[o];if(l[fm]||"undefined"!==typeof t)if(st(l))l(t)?s[o]=t:a.push({key:o,path:i,value:t,message:ym(r(o),t,l)});else{const e=xm(t,l,r(o));s[o]=e.valid,a.push(...e.errors)}}for(const o of n)a.push({key:o,path:i,unknown:!0,message:`Unknown option \`${r(o)}\`, ignoring.`});return{valid:s,errors:a}}function bm(e,t){return Object.assign((t=>e(t)),{[gm]:t})}bm(et,"an array"),bm(tt,"a boolean"),bm(st,"a function"),bm(ut,"a number");var vm=bm(rt,"an object"),Mm=bm(ct,"a string"),Sm=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return bm((i=>ut(i)&&(i>e||t&&i===e)),`a number greater than ${t?"or equal to ":""}${e}`)},Im=(e,t)=>bm((i=>ut(i)&&i>=e&&i<=t),`a number between ${e} and ${t} inclusive`),Dm=(Sm(0),Sm(1),Im(0,1),Im(0,360),(e,t)=>bm((t=>et(t)&&t.every(e)),t??`${e[gm]} array`));function wm(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var km="white",Nm={get cartesian(){return{seriesTypes:Yl.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Yl.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Yl.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Yl.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Yl.flowProportionTypes,commonOptions:[]}}},Lm=Object.values(Nm).reduce(((e,t)=>{let{commonOptions:i}=t;return e.concat(i)}),[]),Am=class e{static getAxisDefaults(e){return yt(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:td,color:id},label:{fontSize:12,fontFamily:td,padding:5,color:id,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:od},tick:{enabled:!1,width:1,stroke:od},gridLine:{enabled:!0,style:[{stroke:rd,lineDash:[]}]},crossLines:{enabled:!1,fill:ld,stroke:ld,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:td,padding:5,color:id}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:cd},padding:{top:dd,right:dd,bottom:dd,left:dd},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:td,color:id,wrapping:"hyphenate",layoutStyle:pd,textAlign:gd},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:td,color:sd,wrapping:"hyphenate",layoutStyle:pd,textAlign:gd},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:td,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:pd,textAlign:gd},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:id,fontSize:12,fontFamily:td}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:id},inactiveStyle:{fill:sd},highlightStyle:{fill:id},label:{color:id}}},tooltip:{enabled:!0,darkTheme:ed,delay:0},overlays:{darkTheme:ed},listeners:{}}}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:t,palette:i}=Ct(e),n=this.createChartConfigPerChartType(this.getDefaults());t&&this.mergeOverrides(n,t);const{fills:a,strokes:s,...r}=this.getDefaultColors();this.palette=yt(i,{fills:Object.values(a),strokes:Object.values(s),...r}),this.paletteType=wm(i),this.config=Object.freeze(this.templateTheme(n))}mergeOverrides(e,t){for(const{seriesTypes:i,commonOptions:n}of Object.values(Nm)){const a={...t.common};for(const e of Lm)n.includes(e)||delete a[e];if(a)for(const t of i){const i=t;e[i]=yt(a,e[i])}}Yl.seriesTypes.forEach((i=>{const n=i;t[n]&&(e[n]=yt(t[n],e[n]))}))}createChartConfigPerChartType(e){for(const[t,{seriesTypes:i}]of Object.entries(Nm)){const n=Wl.get(t);for(const t of i)e[t]||(e[t]=Ct(n))}return e}getDefaults(){const t=(t,i)=>{const n={},a={axes:{},...Gl.getThemeTemplates(),...this.getChartDefaults(),...Wl.get(t)};for(const s of i){n[s]=yt(Hl.getThemeTemplate(s),n[s]??Ct(a));const{axes:t}=n[s];for(const i of jl.keys())t[i]=yt(t[i],jl.getThemeTemplate(i),e.cartesianAxisDefault[i])}return n};return yt(t("cartesian",Yl.cartesianTypes),t("polar",Yl.polarTypes),t("hierarchy",Yl.hierarchyTypes),t("topology",Yl.topologyTypes),t("flow-proportion",Yl.flowProportionTypes))}templateTheme(e){const t=Ct(e),i=this.getTemplateParameters();return Et(t,(e=>{if(et(e))for(let t=0;t<e.length;t++){const n=e[t];i.has(n)&&(e[t]=i.get(n))}else for(const[t,n]of Object.entries(e))i.has(n)&&(e[t]=i.get(n))})),Ct(t)}getDefaultColors(){return{fills:hf,strokes:uf,up:{fill:hf.GREEN,stroke:uf.GREEN},down:{fill:hf.RED,stroke:uf.RED},neutral:{fill:hf.GRAY,stroke:uf.GRAY},altUp:{fill:hf.BLUE,stroke:uf.BLUE},altDown:{fill:hf.ORANGE,stroke:uf.ORANGE},altNeutral:{fill:hf.GRAY,stroke:uf.GRAY}}}getTemplateParameters(){const e=new Map;e.set(ed,!1),e.set(td,"Verdana, sans-serif"),e.set(id,"rgb(70, 70, 70)"),e.set(nd,"white"),e.set(sd,"rgb(140, 140, 140)"),e.set(rd,"rgb(224,234,241)"),e.set(od,"rgb(195, 195, 195)"),e.set(ld,"rgb(70, 70, 70)"),e.set(ad,km),e.set(cd,km),e.set(hd,"rgba(0, 0, 0, 0.5)"),e.set(Ld,[hf.ORANGE,hf.YELLOW,hf.GREEN]),e.set(dd,20),e.set(pd,"block"),e.set(gd,"center"),e.set(Ad,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(Cd,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(Nd,km),e.set(Td,hf.BLUE),e.set(Ed,hf.BLUE),e.set(Rd,hf.BLUE),e.set(Od,km),e.set(zd,"#fafafa"),e.set(jd,"#dddddd"),e.set(Pd,"#000000"),e.set(Bd,"top"),e.set(Fd,!1);const t=this.getDefaultColors();return e.set(fd,this.palette.up?.stroke??t.up.stroke),e.set(yd,this.palette.up?.fill??t.up.fill),e.set(md,this.palette.down?.stroke??t.down.stroke),e.set(xd,this.palette.down?.fill??t.down.fill),e.set(bd,this.palette.neutral?.stroke??t.neutral.stroke),e.set(vd,this.palette.neutral?.fill??t.neutral.fill),e.set(Md,this.palette.altUp?.stroke??t.up.stroke),e.set(Id,this.palette.altUp?.fill??t.up.fill),e.set(Sd,this.palette.altDown?.stroke??t.down.stroke),e.set(Dd,this.palette.altDown?.fill??t.down.fill),e.set(wd,this.palette.altNeutral?.fill??t.altNeutral.fill),e.set(kd,this.palette.altNeutral?.stroke??t.altNeutral.stroke),e}};Am.cartesianAxisDefault={number:Am.getAxisDefaults({line:{enabled:!1}}),log:Am.getAxisDefaults({base:10,line:{enabled:!1}}),category:Am.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:Fd},crosshair:{enabled:!1}}),time:Am.getAxisDefaults({gridLine:{enabled:Fd}}),"ordinal-time":Am.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:Fd}}),"angle-category":Am.getAxisDefaults({gridLine:{enabled:Fd}}),"angle-number":Am.getAxisDefaults({gridLine:{enabled:Fd}}),"radius-category":Am.getAxisDefaults({line:{enabled:!1}}),"radius-number":Am.getAxisDefaults({line:{enabled:!1}}),"grouped-category":Am.getAxisDefaults({tick:{enabled:!0}})};var Cm=Am,Tm="#192232",Em={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Rm={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},Om=class extends Cm{getDefaultColors(){return{fills:Em,strokes:Rm,up:{fill:Em.GREEN,stroke:Rm.GREEN},down:{fill:Em.RED,stroke:Rm.RED},neutral:{fill:Em.GRAY,stroke:Rm.GRAY},altUp:{fill:Em.BLUE,stroke:Rm.BLUE},altDown:{fill:Em.ORANGE,stroke:Rm.ORANGE},altNeutral:{fill:Em.GRAY,stroke:Rm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ed,!0),e.set(Nd,Tm),e.set(id,"white"),e.set(sd,"#7D91A0"),e.set(rd,"#545A6E"),e.set(ld,"white"),e.set(Ld,[Em.ORANGE,Em.YELLOW,Em.GREEN]),e.set(Ad,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(Cd,["#192834","#3b5164","#496275","#577287","#668399"]),e.set(cd,Tm),e.set(ad,Tm),e.set(Td,Em.BLUE),e.set(Ed,"white"),e.set(Rd,Em.BLUE),e.set(Od,Tm),e.set(zd,"#28313e"),e.set(jd,"#4b525d"),e.set(Pd,"#ffffff"),e}constructor(e){super(e)}},zm={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},jm={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Pm=class extends Om{getDefaultColors(){return{fills:{...zm},strokes:{...jm},up:{fill:zm.GREEN,stroke:jm.GREEN},down:{fill:zm.RED,stroke:jm.RED},neutral:{fill:zm.BLUE,stroke:jm.BLUE},altUp:{fill:zm.GREEN,stroke:jm.GREEN},altDown:{fill:zm.RED,stroke:jm.RED},altNeutral:{fill:zm.GRAY,stroke:jm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[zm.GREEN,zm.BLUE,zm.RED]),e.set(Td,zm.BLUE),e.set(Rd,zm.BLUE),e.set(rd,"#343A4E"),e.set(dd,0),e.set(pd,"overlay"),e.set(gd,"left"),e.set(Bd,"bottom"),e.set(Fd,!0),e}},Bm={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Fm={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},Gm=class extends Cm{getDefaultColors(){return{fills:{...Bm},strokes:{...Fm},up:{fill:Bm.GREEN,stroke:Fm.GREEN},down:{fill:Bm.RED,stroke:Fm.RED},neutral:{fill:Bm.BLUE,stroke:Fm.BLUE},altUp:{fill:Bm.GREEN,stroke:Fm.GREEN},altDown:{fill:Bm.RED,stroke:Fm.RED},altNeutral:{fill:Bm.GRAY,stroke:Fm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[Bm.GREEN,Bm.BLUE,Bm.RED]),e.set(Td,Bm.BLUE),e.set(Rd,Bm.BLUE),e.set(rd,"#F2F3F3"),e.set(dd,0),e.set(pd,"overlay"),e.set(gd,"left"),e.set(Bd,"bottom"),e.set(Fd,!0),e}},_m={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Um={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Ym=class extends Om{getDefaultColors(){return{fills:_m,strokes:Um,up:{fill:_m.GREEN,stroke:Um.GREEN},down:{fill:_m.RED,stroke:Um.RED},neutral:{fill:_m.GRAY,stroke:Um.GRAY},altUp:{fill:_m.BLUE,stroke:Um.BLUE},altDown:{fill:_m.RED,stroke:Um.RED},altNeutral:{fill:_m.GRAY,stroke:Um.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[_m.ORANGE,_m.YELLOW,_m.GREEN]),e.set(Td,_m.BLUE),e.set(Rd,_m.BLUE),e}},Vm={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Wm={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Hm=class extends Cm{getDefaultColors(){return{fills:Vm,strokes:Wm,up:{fill:Vm.GREEN,stroke:Wm.GREEN},down:{fill:Vm.RED,stroke:Wm.RED},neutral:{fill:Vm.GRAY,stroke:Wm.GRAY},altUp:{fill:Vm.BLUE,stroke:Wm.BLUE},altDown:{fill:Vm.RED,stroke:Wm.RED},altNeutral:{fill:Vm.GRAY,stroke:Wm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[Vm.ORANGE,Vm.YELLOW,Vm.GREEN]),e.set(Td,Vm.BLUE),e.set(Rd,Vm.BLUE),e}},Zm={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Km={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},$m=class extends Om{getDefaultColors(){return{fills:Zm,strokes:Km,up:{fill:Zm.GREEN,stroke:Km.GREEN},down:{fill:Zm.RED,stroke:Km.RED},neutral:{fill:Zm.GRAY,stroke:Km.GRAY},altUp:{fill:Zm.BLUE,stroke:Km.BLUE},altDown:{fill:Zm.RED,stroke:Km.RED},altNeutral:{fill:Zm.GRAY,stroke:Km.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[Zm.BLUE,Zm.RED]),e.set(Td,Zm.BLUE),e.set(Rd,Zm.BLUE),e}},Xm={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Qm={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},qm=class extends Cm{getDefaultColors(){return{fills:Xm,strokes:Qm,up:{fill:Xm.GREEN,stroke:Qm.GREEN},down:{fill:Xm.RED,stroke:Qm.RED},neutral:{fill:Xm.GRAY,stroke:Qm.GRAY},altUp:{fill:Xm.BLUE,stroke:Qm.BLUE},altDown:{fill:Xm.RED,stroke:Qm.RED},altNeutral:{fill:Xm.GRAY,stroke:Qm.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[Xm.BLUE,Xm.RED]),e.set(Td,Xm.BLUE),e.set(Rd,Xm.BLUE),e}},Jm={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},ey={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},ty=class extends Om{getDefaultColors(){return{fills:{...Jm,RED:Jm.ORANGE},strokes:{...ey,RED:ey.ORANGE},up:{fill:Jm.GREEN,stroke:ey.GREEN},down:{fill:Jm.ORANGE,stroke:ey.ORANGE},neutral:{fill:Jm.GRAY,stroke:ey.GRAY},altUp:{fill:Jm.BLUE,stroke:ey.BLUE},altDown:{fill:Jm.ORANGE,stroke:ey.ORANGE},altNeutral:{fill:Jm.GRAY,stroke:ey.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[Jm.ORANGE,Jm.YELLOW,Jm.GREEN]),e.set(Td,Jm.BLUE),e.set(Rd,Jm.BLUE),e}},iy={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},ny={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},ay=class extends Cm{getDefaultColors(){return{fills:{...iy,RED:iy.ORANGE},strokes:{...ny,RED:ny.ORANGE},up:{fill:iy.GREEN,stroke:ny.GREEN},down:{fill:iy.ORANGE,stroke:ny.ORANGE},neutral:{fill:ny.GRAY,stroke:ny.GRAY},altUp:{fill:iy.BLUE,stroke:ny.BLUE},altDown:{fill:iy.ORANGE,stroke:ny.ORANGE},altNeutral:{fill:iy.GRAY,stroke:ny.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[iy.ORANGE,iy.YELLOW,iy.GREEN]),e.set(Td,iy.BLUE),e.set(Rd,iy.BLUE),e}},sy={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},ry={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},oy=class extends Om{getDefaultColors(){return{fills:sy,strokes:ry,up:{fill:sy.GREEN,stroke:ry.GREEN},down:{fill:sy.RED,stroke:ry.RED},neutral:{fill:sy.GRAY,stroke:ry.GRAY},altUp:{fill:sy.BLUE,stroke:ry.BLUE},altDown:{fill:sy.ORANGE,stroke:ry.ORANGE},altNeutral:{fill:sy.GRAY,stroke:ry.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[sy.ORANGE,sy.YELLOW,sy.GREEN]),e.set(Td,sy.BLUE),e.set(Rd,sy.BLUE),e}},ly={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},cy={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},hy=class extends Cm{getDefaultColors(){return{fills:ly,strokes:cy,up:{fill:ly.GREEN,stroke:cy.GREEN},down:{fill:ly.RED,stroke:cy.RED},neutral:{fill:ly.GRAY,stroke:cy.GRAY},altUp:{fill:ly.BLUE,stroke:cy.BLUE},altDown:{fill:ly.ORANGE,stroke:cy.ORANGE},altNeutral:{fill:ly.GRAY,stroke:cy.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(Ld,[ly.ORANGE,ly.YELLOW,ly.GREEN]),e.set(Td,ly.BLUE),e.set(Rd,ly.BLUE),e}},uy=()=>new Cm,dy={"ag-default-dark":()=>new Om,"ag-sheets-dark":()=>new ty,"ag-polychroma-dark":()=>new $m,"ag-vivid-dark":()=>new oy,"ag-material-dark":()=>new Ym,"ag-financial-dark":()=>new Pm,null:uy,undefined:uy,"ag-default":uy,"ag-sheets":()=>new ay,"ag-polychroma":()=>new qm,"ag-vivid":()=>new hy,"ag-material":()=>new Hm,"ag-financial":()=>new Gm};function py(e){if(e instanceof Cm)return e;if(null==e||"string"===typeof e){const t=dy[e];return t?t():(y.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),uy())}if(mm(e,gy,"theme")){const t=function(e){let t,i=e;const n=[];for(;"object"===typeof i;)t??(t=i.palette),i.overrides&&n.push(i.overrides),i=i.baseTheme;return{baseTheme:i,overrides:yt(...n),palette:t}}(e);return new((t.baseTheme?py(t.baseTheme):uy()).constructor)(t)}return uy()}var gy={baseTheme:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return bm((e=>t.some((t=>t(e)))),t.map((e=>e[gm])).filter(Boolean).join(" or "))}(Mm,vm),overrides:vm,palette:{fills:Dm(Mm),strokes:Dm(Mm),up:{fill:Mm,stroke:Mm},down:{fill:Mm,stroke:Mm},neutral:{fill:Mm,stroke:Mm}}},fy=new Set(["map-shape-background","map-line-background"]),my=class{constructor(e,t){var i;this.debug=va.create(!0,"opts");const n={shallow:["data"]};e=Ct(e,n);const a=this.optionsType(e);om.isEnterprise||pm(e);let s=Ct(e,n);if(this.type=t?.type,null!=this.type){const e=dm[this.type]?.(s,(()=>this.activeTheme))??s;this.debug(">>> AgCharts.createOrUpdate() - applying preset",s,e),s=e}this.activeTheme=py(s.theme),this.type&&(s=this.activeTheme.templateTheme(s)),this.sanityCheckAndCleanup(s),this.defaultAxes=this.getDefaultAxes(s),this.specialOverrides=this.specialOverridesDefaults({...t});const{axes:r={},annotations:{axesButtons:o=null,...l}={},series:c,...h}=this.getSeriesThemeConfig(a);this.userOptions=e,this.processedOptions=Ct(yt(s,null!=o?{annotations:{axesButtons:o}}:{},h,this.defaultAxes),n),this.processAxesOptions(this.processedOptions,r),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=l,(tc(this.processedOptions)||function(e){const t=ec(e);return ic(e)&&"pie"!==t&&"donut"!==t}(this.processedOptions))&&null==this.processedOptions.legend?.enabled&&((i=this.processedOptions).legend??(i.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),om.isEnterprise||pm(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(e){return At(e,this.processedOptions)}getSeriesThemeConfig(e){const t=Ct(this.activeTheme?.config[e]??{});return this.removeLeftoverSymbols(t),t}getDefaultAxes(e){const t=this.optionsType(e),i=Hl.cloneDefaultAxes(t);return Hl.isDefaultAxisSwapNeeded(e)&&this.swapAxesPosition(i),i}optionsType(e){return e.series?.[0]?.type??"line"}sanityCheckAndCleanup(e){this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),e.series?.some((e=>"bullet"===e.type))&&null!=e.sync&&!1!==e.sync.enabled&&(y.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}swapAxesPosition(e){if(tc(e)){const[t,i]=e.axes??[];e.axes=[{...t,position:i.position},{...i,position:t.position}]}}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map((e=>{const{crossLines:i,...n}=yt(t[e.type]?.[e.position],t[e.type]);e.crossLines&&(e.crossLines=xt(e.crossLines,i));const a=n.gridLine?.style;e.gridLine?.style&&a?.length&&(e.gridLine.style=e.gridLine.style.map(((e,t)=>null!=e.stroke||null!=e.lineDash?yt(e,a.at(t%a.length)):e)));const{top:s,right:r,bottom:o,left:l,...c}=yt(e,n);return c})))}processSeriesOptions(e){const t=this.getDefaultSeriesType(e),i=this.getTooltipPositionDefaults(e),n=rt(e.theme)?wm(e.theme?.palette):"inbuilt",a={colourIndex:0,userPalette:n},s=e.series?.map((s=>{s.type??(s.type=t);const{innerLabels:r,...o}=this.getSeriesThemeConfig(s.type).series??{},l=fy.has(s.type)?{colourIndex:0,userPalette:n}:a,c=this.getSeriesPalette(s.type,l),h=this.getTooltipRangeDefaults(e,s.type),u=yt(this.getSeriesGroupingOptions(s),s,i,h,o,c,{visible:!0});return u.innerLabels&&(u.innerLabels=xt(u.innerLabels,r)),this.activeTheme.templateTheme(u)}));e.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(e){let t=e.navigator?.miniChart?.series;if(null==t)return;const i={colourIndex:0,userPalette:rt(e.theme)?wm(e.theme.palette):"inbuilt"};t=t.map((e=>{e.type??(e.type="line");const{innerLabels:t,...n}=this.getSeriesThemeConfig(e.type).series??{},a=yt(this.getSeriesGroupingOptions(e),e,n,this.getSeriesPalette(e.type,i));return this.activeTheme.templateTheme(a)})),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){const i=Hl.getPaletteFactory(e),{colourIndex:n,userPalette:a}=t,{fills:s=[],strokes:r=[]}=this.activeTheme.palette;return i?.({userPalette:a,colorsCount:Math.max(s.length,r.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors:e=>(t.colourIndex+=e,{fills:Fn(s,e,n),strokes:Fn(r,e,n)})})}getSeriesGroupingOptions(e){const t=Hl.isGroupable(e.type),i=Hl.isStackable(e.type),n=Hl.isStackedByDefault(e.type);e.grouped&&!t&&y.warnOnce(`unsupported grouping of series type "${e.type}".`),!e.stacked&&!e.stackGroup||i||y.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:a,stacked:s}=e;return s??(s=(n||null!=e.stackGroup)&&!(t&&a)),a??(a=!0),{stacked:i&&s,grouped:t&&a&&!(i&&s)}}setSeriesGroupingOptions(e){const t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);const i={},n=t.reduce(((e,t)=>{var i;return"default"===t.groupType||(e[i=t.seriesType]??(e[i]=0),e[t.seriesType]+="stack"===t.groupType?1:t.series.length),e}),{});return t.flatMap((e=>{var t;switch(i[t=e.seriesType]??(i[t]=0),e.groupType){case"stack":const t=i[e.seriesType]++;return e.series.map(((i,a)=>Object.assign(i,{seriesGrouping:{groupId:e.groupId,groupIndex:t,groupCount:n[e.seriesType],stackIndex:a,stackCount:e.series.length}})));case"group":return e.series.map((t=>Object.assign(t,{seriesGrouping:{groupId:e.groupId,groupIndex:i[e.seriesType]++,groupCount:n[e.seriesType],stackIndex:0,stackCount:0}})))}return e.series})).map((e=>{let{stacked:t,grouped:i,...n}=e;return n}))}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce(((e,i)=>{const n=i.type;if(i.stacked||i.grouped){const a=this.getSeriesGroupId(i);if(!t.has(a)){const s={groupType:i.stacked?"stack":"group",seriesType:n,series:[],groupId:a};t.set(a,s),e.push(s)}t.get(a).series.push(i)}else e.push({groupType:"default",seriesType:n,series:[i],groupId:"__default__"});return e}),[])}getDefaultSeriesType(e){if(tc(e))return"line";if(ic(e))return"pie";if(nc(e))return"treemap";if(ac(e))return"map-shape";if(sc(e))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){const t=e.tooltip?.position;if(!lt(t))return;const{type:i,xOffset:n,yOffset:a}=t,s={};return ct(i)&&gt(u,i)&&(s.type=i),ut(n)&&(s.xOffset=n),ut(a)&&(s.yOffset=a),{tooltip:{position:s}}}getTooltipRangeDefaults(e,t){return{tooltip:{range:e.tooltip?.range??Hl.getTooltipDefauls(t)?.range}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((t=>{let[i,n]=t;e.series?.some((e=>null!=e[i]))&&y.warnOnce(`Property [series.${i}] is deprecated, please use [series.${n}] and multiple series instead.`)}))}axesTypeIntegrity(e){if("axes"in e){const i=e.axes??[];for(const{type:n}of i)if(null==(t=n)||!jl.has(t)){delete e.axes;const t=jl.publicKeys().join(", ");y.warnOnce(`unknown axis type: ${n}; expected one of: ${t}`)}}var t}seriesTypeIntegrity(e){e.series=e.series?.filter((e=>{let{type:t}=e;if(null==t||null!=(i=t)&&Yl.has(i)||function(e){return Pl.some((t=>"series"===t.type&&t.identifier===e))}(t))return!0;var i;y.warnOnce(`unknown series type: ${t}; expected one of: ${Vl.seriesTypes.join(", ")}`)}))}soloSeriesIntegrity(e){const t=e.series;if(t&&t.length>1&&t.some((e=>Hl.isSolo(e.type)))){const i=this.optionsType(e);if(Hl.isSolo(i))y.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{const{solo:i,nonSolo:n}=Bn(t,(e=>Hl.isSolo(e.type)?"solo":"nonSolo")),a=Pn(i.map((e=>e.type))).join(", ");y.warn(`Unable to mix these series types with the lead series type: ${a}`),e.series=n}}}enableConfiguredOptions(e){Et(this.userOptions,((e,t)=>{t&&"enabled"in t&&!t._enabledFromTheme&&null==e.enabled&&(t.enabled=!0)}),{skip:["data","theme"]},e),Et(e,(e=>{null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}removeDisabledOptions(e){Et(e,(e=>{"enabled"in e&&!1===e.enabled&&Object.keys(e).forEach((t=>{"enabled"!==t&&delete e[t]}))}),{skip:["data","theme"]})}removeLeftoverSymbols(e){Et(e,(e=>{if(e&&rt(e))for(const[t,i]of Object.entries(e))ft(i)&&delete e[t]}),{skip:["data"]})}specialOverridesDefaults(e){if(null!=e.window?ya(e.window):"undefined"!==typeof window?e.window=window:"undefined"!==typeof global&&(e.window=global.window),null!=e.document?ma(e.document):"undefined"!==typeof document?e.document=document:"undefined"!==typeof global&&(e.document=global.document),null==e.window)throw new Error("AG Charts - unable to resolve global window");if(null==e.document)throw new Error("AG Charts - unable to resolve global document");return e}},yy=va.create(!0,"opts");function xy(e){if(tc(e))return"cartesian";if(ic(e))return"polar";if(nc(e))return"hierarchy";if(ac(e))return"topology";if(sc(e))return"flow-proportion";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var by=class{static licenseCheck(e){this.licenseChecked||(this.licenseManager=om.licenseManager?.(e),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){return om.licenseManager?.({}).getLicenseDetails(e)}static getInstance(e){return My.getInstance(e)}static create(e){this.licenseCheck(e);const t=My.createOrUpdate(e,void 0,this.licenseManager);return null!=om.styles&&t.chart.ctx.domManager.addStyles("ag-charts-enterprise",om.styles),this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&om.injectWatermark?.(t.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),t}static createFinancialChart(e){return this.create({_type:"price-volume",...e})}};by.licenseChecked=!1,by.gridContext=!1;var vy=class e{static getInstance(e){const t=ph.getInstance(e);return t?Qh.chartInstances.get(t):void 0}static initialiseModules(){e.initialised||(!function(){zr.register(hu,Bu,Gu,Wu,Zf,cg,Ag,Fg,Wg,$g,Nf,zf,Ug);for(const e of[eu,vr,nu,Er,iu])jl.register(e.type,{moduleFactory:t=>new e(t),hidden:e===Er})}(),Kf(),e.initialised=!0)}static createOrUpdate(t,i,n){e.initialiseModules(),yy(">>> AgCharts.createOrUpdate() user options",t);const a=i?.chart.chartOptions.type,{_type:s=a,...r}=t;let o=r;by.optionsMutationFn&&(o=by.optionsMutationFn(o,s),yy(">>> AgCharts.createOrUpdate() MUTATED user options",t));const{overrideDevicePixelRatio:l,document:c,window:h,...u}=o,d=new my(u,{overrideDevicePixelRatio:l,document:c,window:h,type:s});let p=i?.chart;return null!=p&&xy(u)===xy(p?.chartOptions.processedOptions)||(p=e.createChartInstance(d,p)),null==i?i=new Qh(p,e.callbackApi,n):i.chart=p,yy.check()&&"undefined"!==typeof window&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[p.id]=p),p.queuedUserOptions.push(u),p.requestFactoryUpdate((e=>{e.applyOptions(d);const t=e.queuedUserOptions.indexOf(u)+1;e.queuedUserOptions.splice(0,t)})),i}static updateUserDelta(t,i){Et(i=Ct(i,{shallow:["data"]}),(e=>{if("object"===typeof e)for(const[t,i]of Object.entries(e))"undefined"===typeof i&&Object.assign(e,{[t]:Symbol("UNSET")})}),{skip:["data"]});const{chart:n}=t,a=n.getOptions(),s=yt(i,a);yy(">>> AgCharts.updateUserDelta() user delta",i),yy("AgCharts.updateUserDelta() - base options",a),e.createOrUpdate(s,t)}static createChartInstance(t,i){const n=i?.destroy({keepTransferableResources:!0});return new(e.getChartByOptions(t.processedOptions))(t,n)}static getChartByOptions(e){if(tc(e))return $h;if(nc(e))return Xf;if(ic(e))return qf;if(ac(e))return rm;if(sc(e))return $f;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};vy.caretaker=new Yr(Ur),vy.initialised=!1,vy.callbackApi={caretaker:vy.caretaker,createOrUpdate:(e,t)=>vy.createOrUpdate(e,t),updateUserDelta:(e,t)=>vy.updateUserDelta(e,t)};var My=vy;o({},{Arc:()=>Sy,BBox:()=>Ae,BandScale:()=>gi,Caption:()=>bs,ChangeDetectableProperties:()=>Hd,Circle:()=>bh,ContinuousScale:()=>xn,Diamond:()=>Ih,DropShadow:()=>Zd,ExtendedPath2D:()=>bo,Group:()=>ca,HdpiCanvas:()=>Hr,Image:()=>Du,Label:()=>Ms,Line:()=>Ga,LinearGradientFill:()=>Iy,LinearScale:()=>qh,Marker:()=>xh,Node:()=>Be,OrdinalTimeScale:()=>aa,Path:()=>Mo,PointerEvents:()=>je,RadialColumnShape:()=>wy,Rect:()=>lu,RedrawType:()=>Ce,Scene:()=>Jr,SceneChangeDetection:()=>Te,ScenePathChangeDetection:()=>vo,Sector:()=>cf,SectorBox:()=>Xg,Selection:()=>Ma,Shape:()=>Fa,Square:()=>Lh,SvgPath:()=>Ny,Text:()=>Ka,Tooltip:()=>xs,Triangle:()=>Th,drawCorner:()=>au,easing:()=>jt,evaluateBezier:()=>ip,getFont:()=>Ay,getMarker:()=>zh,getRadialColumnWidth:()=>ky,motion:()=>Ly,sectorBox:()=>Qg,solveBezier:()=>np,splitBezier:()=>ap,toRadians:()=>Na,toTooltipHtml:()=>ms});var Sy=class extends Mo{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return ve(Ia(this.startAngle),Ia(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?e.closePath():2!==this.type||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Ae(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(e,t){const i=this.transformPoint(e,t),n=this.getBBox();return 0!==this.type&&n.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)}};Sy.className="Arc",Sy.defaultStyles=Object.assign({},Fa.defaultStyles,{lineWidth:1,fillStyle:null}),l([vo()],Sy.prototype,"centerX",2),l([vo()],Sy.prototype,"centerY",2),l([vo()],Sy.prototype,"radius",2),l([vo()],Sy.prototype,"startAngle",2),l([vo()],Sy.prototype,"endAngle",2),l([vo()],Sy.prototype,"counterClockwise",2),l([vo()],Sy.prototype,"type",2);var Iy=class extends Fa{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){null!=this._mask&&this.removeChild(this._mask),null!=e&&this.appendChild(e),this._mask=e}isPointInPath(e,t){return this.mask?.isPointInPath(e,t)??!1}computeBBox(){return this.mask?.getBBox()}render(e){const{mask:t,stops:i}=this,{ctx:n,devicePixelRatio:a}=e,s=1/a,r=t?.computeTransformedBBox();if(null==t||null==i||null==r)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),n.save(),n.clip(t.path.getPath2D()),n.setTransform(a,0,0,a,0,0);const o=Math.floor(r.x),l=Math.ceil(r.x+r.width),c=Math.floor(r.y),h=Math.ceil(r.y+r.height),u="to-right"===this.direction||"to-left"===this.direction,d="to-top"===this.direction||"to-left"===this.direction,p=new Rg,[g,f]=u?[o,l]:[c,h];p.domain=i.map(((e,t)=>g+(f-g)*t/(i.length-1))),p.range=d?i.slice().reverse():i,p.update();const m=h-c,y=l-o;switch(this.direction){case"to-right":case"to-left":for(let e=o;e<=l;e+=s)n.fillStyle=p.convert(e),n.fillRect(e,c,s,m);break;case"to-bottom":case"to-top":for(let e=c;e<=h;e+=s)n.fillStyle=p.convert(e),n.fillRect(o,e,y,s)}n.restore()}};function Dy(e,t,i){const n=Math.sqrt(e**2+t**2),a=Math.atan2(t,e)+i;return{x:Math.cos(a)*n,y:Math.sin(a)*n}}l([Te({redraw:3})],Iy.prototype,"direction",2),l([Te({redraw:3})],Iy.prototype,"stops",2),l([Te({redraw:3})],Iy.prototype,"_mask",2);var wy=class extends Mo{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:i}=this,n=this.getRotation(),a=-i/2,s=i/2,r=-t,o=-e;let l=1/0,c=1/0,h=-1/0,u=-1/0;for(let d=0;d<4;d+=1){const{x:e,y:t}=Dy(d%2===0?a:s,d<2?r:o,n);l=Math.min(e,l),c=Math.min(t,c),h=Math.max(e,h),u=Math.max(t,u)}return new Ae(l,c,h-l,u-c)}getRotation(){const{startAngle:e,endAngle:t}=this;return Ia(e+Ca(e,t)/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:i,path:n}=this,a=-e/2,s=e/2,r=-i,o=-t,l=this.getRotation(),c=[[a,o],[a,r],[s,r],[s,o]].map((e=>{let[t,i]=e;return Dy(t,i,l)}));n.clear(!0),n.moveTo(c[0].x,c[0].y),n.lineTo(c[1].x,c[1].y),n.lineTo(c[2].x,c[2].y),n.lineTo(c[3].x,c[3].y),n.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:i,innerRadius:n,axisInnerRadius:a,axisOuterRadius:s,isRadiusAxisReversed:r}=this,o=ve(n,a),l=Math.asin(e/2/n),c=this.getRotation(),h=(e,t)=>Dy(e,t,c),u=(e,t)=>Math.sqrt(e**2+t**2),d=(e,t)=>t>e?0:Math.sqrt(e**2-t**2),p=(e,t,i)=>i?e<t:e>t,g=o&&!isNaN(l)&&l<Math.PI/6;let f=-e/2,m=e/2;const y=-i,x=-n*(g?Math.cos(l):1),b=p(s,u(n,e/2),!r);if(b){const e=d(s,n);f=-e,m=e}t.clear(!0);const v=h(f,x);t.moveTo(v.x,v.y);const M=ve(n,i),S=p(s,u(i,e/2),!r);if(M&&g)t.arc(0,0,n,Ia(-l-Math.PI/2)+c,Ia(l-Math.PI/2)+c,!1);else if(S){const n=-d(s,e/2),a=d(s,i);if(!b){const e=h(f,n);t.lineTo(e.x,e.y)}if(t.arc(0,0,s,Math.atan2(n,f)+c,Math.atan2(y,-a)+c,!1),!ve(a,0)){const e=h(a,y);t.lineTo(e.x,e.y)}t.arc(0,0,s,Math.atan2(y,a)+c,Math.atan2(n,m)+c,!1)}else{const e=h(f,y),i=h(m,y);t.lineTo(e.x,e.y),t.lineTo(i.x,i.y)}const I=h(m,x);if(t.lineTo(I.x,I.y),g)t.arc(0,0,n,Ia(l-Math.PI/2)+c,Ia(-l-Math.PI/2)+c,!0);else{const e=h(f,x);t.lineTo(e.x,e.y)}t.closePath()}};function ky(e,t,i,n,a){const s=Ca(e,t),r=s*(1-n)/2;if(e+=r,t-=r,s<.001)return 2*i*a;if(s>=2*Math.PI){const i=e+s/2;e=i-Math.PI,t=i+Math.PI}const o=i*Math.cos(e),l=i*Math.sin(e),c=i*Math.cos(t),h=i*Math.sin(t),u=Math.floor(Math.sqrt((o-c)**2+(l-h)**2)),d=2*i*a;return Math.max(1,Math.min(d,u))}wy.className="RadialColumnShape",l([vo()],wy.prototype,"isBeveled",2),l([vo()],wy.prototype,"columnWidth",2),l([vo()],wy.prototype,"startAngle",2),l([vo()],wy.prototype,"endAngle",2),l([vo()],wy.prototype,"outerRadius",2),l([vo()],wy.prototype,"innerRadius",2),l([vo()],wy.prototype,"axisInnerRadius",2),l([vo()],wy.prototype,"axisOuterRadius",2),l([vo()],wy.prototype,"isRadiusAxisReversed",2);var Ny=class extends Mo{constructor(e){super(),this.x=0,this.y=0,this.commands=[];for(const[t,i,n]of e.matchAll(/([A-Z])([0-9. ]+)/g)){const e=n.split(" ").map(Number);this.commands.push([i,e])}}updatePath(){const{path:e,x:t,y:i}=this;e.clear();let n=t,a=i;for(const[s,r]of this.commands)switch(s){case"M":e.moveTo(t+r[0],i+r[1]),n=t+r[0];break;case"C":e.cubicCurveTo(t+r[0],i+r[1],t+r[2],i+r[3],t+r[4],i+r[5]),n=t+r[4],a=i+r[5];break;case"H":e.lineTo(t+r[0],a),n=i+r[0];break;case"L":e.lineTo(t+r[0],i+r[1]),n=t+r[0],a=i+r[1];break;case"V":e.lineTo(n,i+r[0]),a=i+r[0];break;default:throw new Error(`Could not translate command '${s}' with '${r.join(" ")}'`)}e.closePath()}};l([vo()],Ny.prototype,"x",2),l([vo()],Ny.prototype,"y",2);var Ly={...ae,...fn},Ay=Va.toFontString;o({},{CARTESIAN_AXIS_TYPE:()=>Qu,ChartTheme:()=>Cm,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>Rd,DEFAULT_ANNOTATION_COLOR:()=>Td,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Od,DEFAULT_AXIS_GRID_COLOUR:()=>rd,DEFAULT_AXIS_LINE_COLOUR:()=>od,DEFAULT_BACKGROUND_COLOUR:()=>cd,DEFAULT_CAPTION_ALIGNMENT:()=>gd,DEFAULT_CAPTION_LAYOUT_STYLE:()=>pd,DEFAULT_COLOURS:()=>ud,DEFAULT_CROSS_LINES_COLOUR:()=>ld,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Ld,DEFAULT_FONT_FAMILY:()=>td,DEFAULT_GRIDLINE_ENABLED:()=>Fd,DEFAULT_HIERARCHY_FILLS:()=>Ad,DEFAULT_HIERARCHY_STROKES:()=>Cd,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>ad,DEFAULT_INVERTED_LABEL_COLOUR:()=>nd,DEFAULT_LABEL_COLOUR:()=>id,DEFAULT_MUTED_LABEL_COLOUR:()=>sd,DEFAULT_PADDING:()=>dd,DEFAULT_POLAR_SERIES_STROKE:()=>Nd,DEFAULT_SHADOW_COLOUR:()=>hd,DEFAULT_TEXTBOX_COLOR:()=>Pd,DEFAULT_TEXTBOX_FILL:()=>zd,DEFAULT_TEXTBOX_STROKE:()=>jd,DEFAULT_TEXT_ANNOTATION_COLOR:()=>Ed,DEFAULT_TOOLBAR_POSITION:()=>Bd,FONT_SIZE:()=>Ku,FONT_WEIGHT:()=>$u,IS_DARK_THEME:()=>ed,PALETTE_ALT_DOWN_FILL:()=>Dd,PALETTE_ALT_DOWN_STROKE:()=>Sd,PALETTE_ALT_NEUTRAL_FILL:()=>wd,PALETTE_ALT_NEUTRAL_STROKE:()=>kd,PALETTE_ALT_UP_FILL:()=>Id,PALETTE_ALT_UP_STROKE:()=>Md,PALETTE_DOWN_FILL:()=>xd,PALETTE_DOWN_STROKE:()=>md,PALETTE_NEUTRAL_FILL:()=>vd,PALETTE_NEUTRAL_STROKE:()=>bd,PALETTE_UP_FILL:()=>yd,PALETTE_UP_STROKE:()=>fd,POLAR_AXIS_SHAPE:()=>Ju,POLAR_AXIS_TYPE:()=>qu,POSITION:()=>Xu,getChartTheme:()=>py,markerPaletteFactory:()=>Zu,singleSeriesPaletteFactory:()=>Hu,themes:()=>Cy});var Cy=bt(dy,(e=>e?.()));o({},{BandScale:()=>gi,ColorScale:()=>Rg,ContinuousScale:()=>xn,Invalidating:()=>di,LinearScale:()=>qh,OrdinalTimeScale:()=>aa,TimeScale:()=>ta});o({},{Color:()=>Ye,Debug:()=>va,Logger:()=>y,Padding:()=>Fr,TimeInterval:()=>x,Vec2:()=>Ty,angleBetween:()=>Ca,angleDiff:()=>Aa,areArrayNumbersEqual:()=>qa,bifurcate:()=>Gn,checkDatum:()=>As,clamp:()=>me,clampArray:()=>ye,countFractionDigits:()=>we,createId:()=>oe,day:()=>B,deepClone:()=>Ct,displacePointFromVector:()=>Ta,extent:()=>En,findMinMax:()=>xe,findRangeExtent:()=>be,formatNormalizedPercentage:()=>ke,formatPercentage:()=>Ne,friday:()=>H,hour:()=>j,interpolateColor:()=>We,interpolateNumber:()=>Ve,isBetweenAngles:()=>ka,isContinuous:()=>Ls,isDate:()=>nt,isDenseInterval:()=>qn,isEqual:()=>ve,isNegative:()=>Me,isNumber:()=>ut,isNumberEqual:()=>ve,isNumberObject:()=>Ns,isString:()=>ct,isStringObject:()=>ks,jsonApply:()=>Rt,jsonDiff:()=>At,jsonWalk:()=>Et,millisecond:()=>v,minute:()=>R,mod:()=>De,monday:()=>U,month:()=>$,normalisedExtent:()=>Rn,normalisedExtentWithMetadata:()=>On,normalizeAngle180:()=>wa,normalizeAngle360:()=>Ia,normalizeAngle360Inclusive:()=>Da,range:()=>Qn,resetIds:()=>re,round:()=>Se,sanitizeHtml:()=>Ud,saturday:()=>Z,second:()=>C,setAttribute:()=>cs,setVisibility:()=>hs,shallowClone:()=>Tt,sunday:()=>_,thursday:()=>W,tickFormat:()=>Xn,tickStep:()=>Kn,ticks:()=>Hn,toDegrees:()=>La,toFixed:()=>Ie,toRadians:()=>Na,transformIntegratedCategoryValue:()=>Cs,tuesday:()=>Y,utcDay:()=>te,utcHour:()=>ee,utcMinute:()=>J,utcMonth:()=>ie,utcYear:()=>ne,uuid:()=>le,wednesday:()=>V,year:()=>Q,zipObject:()=>Oy});var Ty={add:function(e,t){return{x:e.x+t.x,y:e.y+t.y}},angle:function(e,t){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)},apply:function(e,t){return e.x=t.x,e.y=t.y,e},equal:function(e,t){return e.x===t.x&&e.y===t.y},distance:function(e,t){const i=Ey(e,t);return Math.sqrt(i.x*i.x+i.y*i.y)},distanceSquared:function(e,t){const i=Ey(e,t);return i.x*i.x+i.y*i.y},from:function(e,t){return{x:e,y:t}},fromOffset:function(e){return{x:e.offsetX,y:e.offsetY}},length:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},lengthSquared:function(e){return e.x*e.x+e.y*e.y},required:Ry,rotate:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ry();const n=Ty.length(e);return{x:i.x+n*Math.cos(t),y:i.y+n*Math.sin(t)}},sub:Ey};function Ey(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ry(e){return{x:e?.x??0,y:e?.y??0}}function Oy(e,t){const i={};if(Array.isArray(t))for(let n=0;n<e.length;n++)i[`${e[n]}`]=t[n];else for(let n=0;n<e.length;n++)i[`${e[n]}`]=t;return i}function zy(){return(e,t)=>{const i=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");y.warnOnce(i)}}function jy(e,t){const i=zy(),n=t?.default;return $e(((t,a,s)=>(s!==n&&i(a.toString(),e),s)))}function Py(e,t){const i=zy();return $e(((n,a,s)=>(s!==n[e]&&(i(a.toString(),`Use [${e}] instead.`),It(n,e,t?t(s):s)),He)),((t,n)=>(i(n.toString(),`Use [${e}] instead.`),Mt(t,e))))}function By(e,t,i){if(e>t)return;let n;for(;t>=e;){const a=Math.floor((t+e)/2),s=i(a);null==s?t=a-1:(n=s,e=a+1)}return n}o({},{AND:()=>yi,ARRAY:()=>Ci,ARRAY_OF:()=>Ti,AbstractBarSeries:()=>gg,AbstractBarSeriesProperties:()=>pg,ActionOnSet:()=>is,Animation:()=>Xt,AnimationManager:()=>Ho,AreaSeriesTag:()=>sg,Axis:()=>mr,AxisInterval:()=>ir,AxisLabel:()=>nr,AxisTick:()=>sr,AxisTicks:()=>Wy,BOOLEAN:()=>Mi,BOOLEAN_ARRAY:()=>Gi,Background:()=>cu,BackgroundModule:()=>hu,BaseModuleInstance:()=>Rr,BaseProperties:()=>wt,COLOR_STRING:()=>Bi,COLOR_STRING_ARRAY:()=>Fi,CachedTextMeasurer:()=>Ya,CachedTextMeasurerPool:()=>Ua,CartesianAxis:()=>br,CartesianSeries:()=>Zh,CartesianSeriesNodeEvent:()=>Wh,CartesianSeriesProperties:()=>Hh,CategoryAxis:()=>vr,ChartAxisDirection:()=>pn,ChartEventManager:()=>Ko,ChartOptions:()=>my,ChartUpdateType:()=>vl,ContextMenuRegistry:()=>$o,Cursor:()=>Qo,CursorManager:()=>qo,DATE:()=>zi,DATE_ARRAY:()=>Yi,DATE_OR_DATETIME_MS:()=>ji,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Yh,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Vh,DEFAULT_TOOLTIP_CLASS:()=>ds,DEFAULT_TOOLTIP_DARK_CLASS:()=>ps,DEGREE:()=>Li,DIRECTION:()=>tn,DOMManager:()=>po,DataController:()=>zl,DataModel:()=>Rl,DataModelSeries:()=>jh,DataService:()=>so,Default:()=>er,Deprecated:()=>jy,DeprecatedAndRenamedTo:()=>Py,EMPTY_TOOLTIP_CONTENT:()=>gs,FONT_STYLE:()=>$i,FONT_WEIGHT:()=>Xi,FUNCTION:()=>Si,GREATER_THAN:()=>Oi,GestureDetector:()=>el,GroupedCategoryAxis:()=>Er,HierarchyNode:()=>Gy,HierarchySeries:()=>_y,HierarchySeriesProperties:()=>Uy,HighlightManager:()=>tl,HighlightProperties:()=>Gh,HighlightStyle:()=>_h,INTERACTION_RANGE:()=>an,INTERPOLATION_STEP_POSITION:()=>Jd,INTERPOLATION_TYPE:()=>qd,InteractionManager:()=>Vo,InteractionState:()=>Go,InterpolationProperties:()=>ep,KeyNavManager:()=>il,LABEL_PLACEMENT:()=>sn,LARGEST_KEY_INTERVAL:()=>Ic,LESS_THAN:()=>Ri,LINE_CAP:()=>Wi,LINE_DASH:()=>Zi,LINE_JOIN:()=>Hi,Layers:()=>ws,LayoutService:()=>fl,LonLatBBox:()=>Yy,MARKER_SHAPE:()=>Kd,MATCHING_CROSSLINE_TYPE:()=>Ts,MAX_SPACING:()=>ln,MIN_SPACING:()=>on,MercatorScale:()=>am,ModuleRegistry:()=>Or,Motion:()=>jt,NAN:()=>wi,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Qt,NUMBER:()=>Di,NUMBER_ARRAY:()=>_i,NUMBER_OR_NAN:()=>Ai,Navigator:()=>Vu,NavigatorModule:()=>Wu,OBJECT:()=>bi,OBJECT_ARRAY:()=>Vi,OR:()=>xi,OVERFLOW_STRATEGY:()=>en,ObserveChanges:()=>ns,PHASE_METADATA:()=>Zt,PHASE_ORDER:()=>Ht,PLACEMENT:()=>nn,PLAIN_OBJECT:()=>vi,POINTER_INTERACTION_TYPES:()=>Oo,POSITION:()=>Ki,POSITION_TOP_COORDINATES:()=>Ps,POSITIVE_NUMBER:()=>ki,PolarAxis:()=>Qf,PolarSeries:()=>Sf,PropertiesArray:()=>kt,ProxyOnWrite:()=>es,ProxyProperty:()=>Ja,ProxyPropertyOnWrite:()=>ts,QUICK_TRANSITION:()=>Wt,RATIO:()=>Ni,REGIONS:()=>Xs,RegionManager:()=>rl,RepeatType:()=>Kt,SKIP_JS_BUILTINS:()=>St,SMALLEST_KEY_INTERVAL:()=>Sc,SORT_DOMAIN_GROUPS:()=>Dc,STRING:()=>Ii,STRING_ARRAY:()=>Ui,Series:()=>Qc,SeriesGroupingChangedEvent:()=>Xc,SeriesItemHighlightStyle:()=>Ph,SeriesMarker:()=>$d,SeriesNodeEvent:()=>$c,SeriesNodePickMode:()=>Pc,SeriesProperties:()=>Uh,SeriesTooltip:()=>Qd,SimpleTextMeasurer:()=>Wa,StateMachine:()=>os,TEXT_ALIGN:()=>qi,TEXT_WRAP:()=>Qi,TICK_INTERVAL:()=>tr,TextUtils:()=>Va,TextWrapper:()=>ls,ToolbarManager:()=>pl,Tooltip:()=>xs,TooltipManager:()=>gl,TooltipPosition:()=>ys,UNION:()=>rn,UpdateService:()=>Ml,VERTICAL_ALIGN:()=>Ji,Validate:()=>fi,ZoomManager:()=>$l,__FORCE_MODULE_DETECTION:()=>Hy,accumulateGroup:()=>Ec,accumulateStack:()=>Oc,accumulatedValue:()=>xc,accumulativeValueProperty:()=>Wc,addHitTestersToQuadtree:()=>ug,adjustLabelPlacement:()=>Ng,allInStringUnion:()=>Un,animationValidation:()=>Ac,area:()=>yc,arraysEqual:()=>zn,backfillPathPointData:()=>Np,basicContinuousCheckDatumValidation:()=>Bc,bifurcate:()=>Gn,buildFormatter:()=>li,buildResetPathFn:()=>jp,calculateDefaultTimeTickFormat:()=>ui,calculateLabelChartPadding:()=>js,calculateLabelTranslation:()=>zs,calculatePlacement:()=>us,checkCrisp:()=>bg,childrenIter:()=>hg,circularSliceArray:()=>Fn,clamp:()=>me,clampArray:()=>ye,collapsedStartingBarPosition:()=>Mg,computeBarFocusBounds:()=>wg,computeMarkerFocusBounds:()=>Sp,convertValuesToScaleByDefs:()=>qc,countFractionDigits:()=>we,createDatumId:()=>jc,createDeprecationWarning:()=>zy,createElement:()=>pa,createElementNS:()=>ga,dateToNumber:()=>ci,deconstructSelectionsOrNodes:()=>$t,deepClone:()=>Ct,deepMerge:()=>mt,defaultTimeTickFormat:()=>hi,determinePathStatus:()=>Qp,diff:()=>zc,downloadUrl:()=>fa,enterpriseModule:()=>om,extent:()=>En,extractDecoratedProperties:()=>qe,findMaxValue:()=>By,findMinMax:()=>xe,findQuadtreeMatch:()=>dg,findRangeExtent:()=>be,fixNumericExtent:()=>Ll,formatNormalizedPercentage:()=>ke,formatPercentage:()=>Ne,fromToMotion:()=>qt,getDocument:()=>ua,getMissCount:()=>Al,getPath:()=>Mt,getPathComponents:()=>Tl,getRectConfig:()=>xg,getWindow:()=>da,groupAccumulativeValueProperty:()=>Zc,groupAverage:()=>mc,groupBy:()=>Bn,groupCount:()=>fc,groupStackValueProperty:()=>Kc,groupSum:()=>pc,initMenuKeyNav:()=>bu,initToolbarKeyNav:()=>xu,isArray:()=>et,isBoolean:()=>tt,isDate:()=>it,isDecoratedObject:()=>Xe,isDefined:()=>Je,isEnumKey:()=>pt,isEnumValue:()=>gt,isEqual:()=>ve,isFiniteNumber:()=>ut,isFunction:()=>st,isHtmlElement:()=>dt,isNegative:()=>Me,isNumber:()=>ht,isObject:()=>rt,isObjectLike:()=>ot,isPlainObject:()=>lt,isProperties:()=>Nt,isRegExp:()=>at,isString:()=>ct,isSymbol:()=>ft,isValidDate:()=>nt,jsonApply:()=>Rt,jsonDiff:()=>At,jsonWalk:()=>Et,keyProperty:()=>Uc,labelDirectionHandling:()=>Ws,listDecoratedProperties:()=>Qe,makeAccessibleClickListener:()=>vu,mapIterable:()=>_n,mapValues:()=>bt,markerFadeInAnimation:()=>mp,markerPaletteFactory:()=>Zu,markerScaleInAnimation:()=>yp,markerSwipeScaleInAnimation:()=>xp,mergeArrayDefaults:()=>xt,mergeDefaults:()=>yt,midpointStartingBarPosition:()=>Sg,minMax:()=>Dp,mod:()=>De,moduleRegistry:()=>zr,nearestSquared:()=>ge,nearestSquaredInContainer:()=>fe,normaliseGroupTo:()=>kc,normalisePropertyTo:()=>Lc,normalisedExtent:()=>Rn,normalisedExtentWithMetadata:()=>On,pairCategoryData:()=>Xp,pairContinuousData:()=>$p,partialAssign:()=>Dt,pathFadeInAnimation:()=>Op,pathFadeOutAnimation:()=>zp,pathRangePoints:()=>Vp,pathRangePointsReverse:()=>Wp,pathRanges:()=>Yp,pathSwipeInAnimation:()=>Rp,pickByMatchingAngle:()=>Mf,pickNode:()=>Jc,plotPath:()=>Cp,predicateWithMessage:()=>cn,prepareAreaPathAnimation:()=>og,prepareAxisAnimationContext:()=>or,prepareAxisAnimationFunctions:()=>hr,prepareBarAnimationFunctions:()=>Ig,prepareLinePathAnimation:()=>eg,prepareLinePathAnimationFns:()=>Jp,prepareLinePathPropertyAnimation:()=>qp,prepareMarkerAnimation:()=>Mp,preparePieSeriesAnimationFunctions:()=>bf,range:()=>gc,rangedValueProperty:()=>Vc,renderPartialPath:()=>Ep,resetAxisGroupFn:()=>ur,resetAxisLabelSelectionFn:()=>pr,resetAxisLineSelectionFn:()=>gr,resetAxisSelectionFn:()=>dr,resetBarSelectionsFn:()=>Dg,resetIds:()=>re,resetLabelFn:()=>Wd,resetMarkerFn:()=>bp,resetMarkerPositionFn:()=>vp,resetMotion:()=>mn,resetPieSelectionsFn:()=>vf,round:()=>Se,scale:()=>Hp,seriesLabelFadeInAnimation:()=>Yd,seriesLabelFadeOutAnimation:()=>Vd,setDocument:()=>ma,setElementBBox:()=>xa,setPath:()=>It,setWindow:()=>ya,shallowClone:()=>Tt,singleSeriesPaletteFactory:()=>Hu,splitPairData:()=>Tp,staticFromToMotion:()=>Jt,stringify:()=>dn,sum:()=>dc,sumValues:()=>uc,times:()=>Tn,toArray:()=>jn,toFixed:()=>Ie,toTooltipHtml:()=>ms,trailingAccumulatedValue:()=>bc,trailingAccumulatedValueProperty:()=>Hc,unique:()=>Pn,updateClipPath:()=>Pp,updateLabelNode:()=>kg,updateRect:()=>yg,validateCrossLineValues:()=>Es,valueProperty:()=>Yc,without:()=>vt});var Fy=class e{constructor(e,t,i,n,a,s,r,o,l,c,h){this.series=e,this.index=t,this.datum=i,this.size=n,this.colorValue=a,this.fill=s,this.stroke=r,this.sumSize=o,this.depth=l,this.parent=c,this.children=h,this.midPoint={x:0,y:0}}contains(e){let t=e;for(;null!=t&&t.index>=this.index;){if(t===this)return!0;t=t.parent}return!1}walk(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Walk.PreOrder;i===e.Walk.PreOrder&&t(this),this.children.forEach((e=>{e.walk(t,i)})),i===e.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};Fy.Walk={PreOrder:0,PostOrder:1};var Gy=Fy,_y=class extends Qc{constructor(e){super({moduleCtx:e,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new Gy(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new os("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},(()=>this.checkProcessedDataAnimatable()))}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}async processData(){const{childrenKey:e,sizeKey:t,colorKey:i,fills:n,strokes:a,colorRange:s}=this.properties;let r=0;let o=0,l=1/0,c=-1/0;const h=new Array((this.data?.length??0)+1).fill(void 0),u=(n,a)=>{const s=(r+=1,r),u=null!=a.depth?a.depth+1:0,p=null!=e?n[e]:void 0,g=null==p||0===p.length;let f=null!=t?n[t]:void 0;f=Number.isFinite(f)?Math.max(f,0):g?1:0;const m=f;o=Math.max(o,u);const y=null!=i?n[i]:void 0;return"number"===typeof y&&(h[s]=y,l=Math.min(l,y),c=Math.max(c,y)),d(new Gy(this,s,n,f,y,void 0,void 0,m,u,a,[]),p)},d=(e,t)=>(t?.forEach((t=>{const i=u(t,e);e.children.push(i),e.sumSize+=i.sumSize})),e),p=d(new Gy(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),g=[l,c];let f;null!=s&&Number.isFinite(l)&&Number.isFinite(c)&&(f=new Rg,f.domain=g,f.range=s,f.update()),p.children.forEach(((e,t)=>{e.walk((e=>{let i;const s=h[e.index];null!=s&&(i=f?.convert(s)),i??(i=n?.[t%n.length]),e.fill=i,e.stroke=null==f?a?.[t%a.length]:"rgba(0, 0, 0, 0.2)"}))})),this.rootNode=p,this.maxDepth=o,this.colorDomain=g,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update(e){let{seriesRect:t}=e;await this.updateSelections(),await this.updateNodes();const i=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",i),this.animationState.transition("update",i)}resetAllAnimation(e){const t=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),null!=t&&mn(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const t=this.animationResetFns?.datum;null!=t&&mn([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorName:i,colorRange:n,visible:a}=this.properties;return"gradient"===e&&null!=t&&null!=n?[{legendType:"gradient",enabled:a,seriesId:this.id,colorName:i,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){if(0===this.rootNode.children.length)return;0===this.focusPath.length&&y.error("this.focusPath should not be empty");const{datumIndexDelta:t,otherIndexDelta:i}=e,{focusPath:n}=this,a=n.length-2;if(0!==i||1===n.length){const e=Math.max(0,a+i);if(void 0!==n[e+1])return n.length=e+2,this.computeFocusOutputs(n[e+1]);{let t=n[n.length-1];for(;t.nodeDatum.children.length>0&&(t.nodeDatum.depth??-1)<e;){const e={nodeDatum:t.nodeDatum.children[0],childIndex:0};n.push(e),t=e}return this.computeFocusOutputs(t)}}if(0===t)return this.computeFocusOutputs(n[n.length-1]);{const e=n[a+1].childIndex+t,i=n[a].nodeDatum,s=i?.children?.length;if(void 0!==s){const t=me(0,e,s-1),r={nodeDatum:i.children[t],childIndex:t};return n[a+1]=r,n.length=a+2,this.computeFocusOutputs(r)}}}getDatumAriaText(e,t){if(e instanceof Gy)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t});y.error(`datum is not HierarchyNode: ${e}`)}computeFocusOutputs(e){let{nodeDatum:t,childIndex:i}=e;const n=this.computeFocusBounds(t);if(n)return{datum:t,datumIndex:i,otherIndex:t.depth,bounds:n,showFocusBox:!0}}},Uy=class extends Uh{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(hf),this.strokes=Object.values(uf)}};l([fi(Ii)],Uy.prototype,"childrenKey",2),l([fi(Ii,{optional:!0})],Uy.prototype,"sizeKey",2),l([fi(Ii,{optional:!0})],Uy.prototype,"colorKey",2),l([fi(Ii,{optional:!0})],Uy.prototype,"colorName",2),l([fi(Fi)],Uy.prototype,"fills",2),l([fi(Fi)],Uy.prototype,"strokes",2),l([fi(Fi,{optional:!0})],Uy.prototype,"colorRange",2);var Yy=class{constructor(e,t,i,n){this.lon0=e,this.lat0=t,this.lon1=i,this.lat1=n}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}};var Vy=class e{constructor(){this.id=oe(this),this.axisGroup=new ca({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Ma.select(this.axisGroup,Ka,!1),this.interval=new ir,this.label=new nr,this.scale=new qh,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(e){e.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;const e=[],t=this.generateTicks(),{translationX:i,translationY:n}=this;return this.labelSelection.update(t.ticks.map((e=>this.createLabelDatum(e))),(e=>e.appendChild(new Ka)),(e=>e.tickId)),this.labelSelection.each(((t,i)=>{t.setProperties(i),i.visible&&e.push(t.getBBox())})),this.axisGroup.setProperties({translationX:i,translationY:n}),Ae.merge(e)}getLabelParams(e){const{padding:t}=this,{translate:i}=e;switch(this.position){case"top":case"bottom":return{x:i,y:t,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:t,y:i,textAlign:"start",textBaseline:"middle"}}}inRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const[i,n]=xe(this.scale.range);return e>=i-t&&e<=n+t}createLabelDatum(e){const{x:t,y:i,textBaseline:n,textAlign:a}=this.getLabelParams(e);return{visible:Boolean(e.tickLabel),tickId:e.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:e.tickLabel,textAlign:a,textBaseline:n,x:t,y:i}}generateTicks(){const{minSpacing:t,maxSpacing:i}=this.interval,n=Se(be(this.scale.range),2),{maxTickCount:a,minTickCount:s,tickCount:r}=function(e,t,i,n,a){a=Math.max(a,e/(n+1)),isNaN(t)&&(t=a),isNaN(i)&&(i=e),t>i&&(t===a?t=i:i=t);const s=me(1,Math.floor(e/t),Math.min(Math.floor(e),100)),r=Math.min(s,Math.ceil(e/i));return{minTickCount:r,maxTickCount:s,tickCount:me(r,n,s)}}(n,t,i,e.DefaultTickCount,e.DefaultMinSpacing);r&&(this.scale.tickCount=r,this.scale.minTickCount=s,this.scale.maxTickCount=a);const o=this.getTicksData();if("bottom"===this.position||"top"===this.position){const e=Ua.getMeasurer({font:this.label});let t=-1/0;o.ticks=o.ticks.filter((i=>{if(t<i.translate)return t=i.translate+e.textWidth(i.tickLabel,!0),!0}))}return o}getTicksData(){const e=[],t=this.scale.ticks(),i=t.reduce(((e,t)=>Math.max(e,we(t))),0),n=function(){const e=new Map;return t=>{const i=e.get(t);return i?(e.set(t,i+1),`${t}${i}`):(e.set(t,1),t)}}(),a=this.label.format?this.scale.tickFormat({ticks:t,specifier:this.label.format}):e=>ht(e)?e.toFixed(i):String(e);for(let s=0;s<t.length;s++){const r=t[s],o=this.scale.convert(r);if(!this.inRange(o))continue;const l=this.label.formatter?.({value:r,index:s,fractionDigits:i})??a(r),c=n(l);e.push({tick:r,tickId:c,tickLabel:l,translate:o})}return{rawTicks:t,fractionDigits:i,ticks:e}}};Vy.DefaultTickCount=5,Vy.DefaultMinSpacing=50;var Wy=Vy,Hy=0;function Zy(e,t){return{...e,container:t.current}}function Ky(e,t){const i=(0,n.forwardRef)((function(t,i){const{options:a,style:s,className:r}=t,o=(0,n.useRef)(null),l=(0,n.useRef)();(0,n.useLayoutEffect)((()=>{const t=e(Zy(a,o));return l.current=t,()=>{t.destroy()}}),[]);const c=void 0===l.current;return(0,n.useEffect)((()=>{c||l.current?.update(Zy(a,o))}),[a]),(0,n.useImperativeHandle)(i,(()=>l.current),[]),(0,n.useMemo)((()=>(0,n.createElement)("div",{ref:o,style:s,className:r})),[s,r])}));return i.displayName=t,i}var $y=Ky((e=>by.create(e)),"AgCharts");const Xy={name:"Simon Degroote",tel:"+32 491 73 47 31",email:"simon.degroote1@gmail.com",address:"7 rue de la Couronne, 6210 Villers Perwin",bio:"Etudiant en \xe9lectrom\xe9canique option maintenance et aimant de nature d\xe9couvrir les nouvelles technologies, j\u2019aime mettre \xe0 profit mes comp\xe9tences pour faire \xe9voluer un projet. C\u2019est d\u2019ailleurs mon occupation principale en dehors de mon cursus scolaire, ce qui me permet de m\u2019instruire quotidiennement en travaillant au c\xf4t\xe9 de professionnel dans divers secteurs tels que l\u2019automobile, l\u2019agriculture, l\u2019HVAC ou la conception m\xe9canique.",skills:["Communication au sein d\u2019une \xe9quipe ","Exp\xe9rience dans l\u2019installation de climatisation et pompes \xe0 chaleur","Exp\xe9rience dans l\u2019entretien de machines agricoles","Formation soudeur TIG/MIG","Ma\xeetrise de la suite Office (Excel, Word, etc.)","Ma\xeetrise d\u2019Autocad et Inventor 3D","Notion de Tia Portal et Optimain"],education:[{from:"2020",to:"aujourd\u2019hui",where:"Haute Ecole EPHEC",formation:"Bachelier en \xe9lectrom\xe9canique option maintenance",image:"./../img/Saint-Marie.jpg"},{from:"2018",to:"2020",where:"ECAM",formation:"Ing\xe9nieur industriel en \xe9lectrom\xe9canique",image:"./../img/ecam.pnj"},{from:"2012",to:"2018",where:"Institut Sainte Marie \xe0 R\xe8ves",formation:"G\xe9n\xe9ral option math\xe9matiques/sciences",image:"./../img/Saint-Marie.jpg"}],professional:[{from:"du berceau",to:"aujourd\u2019hui",where:"Travail au sein de l\u2019entreprise agricole familiale Alain Degroote",formation:"Ax\xe9 m\xe9canique, maintenance et r\xe9colte",image:null},{from:"2016",to:"2017",where:"D\xe9p\xf4t de grain SCAM",formation:"R\xe9ceptionniste",image:null},{from:"2018",to:"aujourd\u2019hui",where:"Etudiant dans la soci\xe9t\xe9 IDClim",formation:"Ax\xe9 montage et maintenance",image:null},{from:"2024",to:"aujourd\u2019hui",where:"Etudiant dans la soci\xe9t\xe9 Degroote Solutions",formation:"Ax\xe9 conception et programmation hydraulique, conception et r\xe9alisation m\xe9canique dans le cadre d\u2019une commande de remorque d\xe9di\xe9e au nettoyage des fermes",image:null},{from:"2024",to:"2024",where:"Stagiaire dans la soci\xe9t\xe9 DELTA Maintenance",formation:"Ax\xe9 sur la gestion de maintenance et la r\xe9novation de la chaufferie \xe0 la clinique M\xe9ridien \xe0 Bruxelles",image:null}],isatLife:[{title:"Participation \xe0 la journ\xe9e porte ouverte de mon \xe9cole",description:"Afin d\u2019encourager de jeunes \xe9tudiants \xe0 d\xe9couvrir les diff\xe9rentes formations que propose l\u2019ISAT, je me suis propos\xe9 comme guide \xe0 la journ\xe9e porte ouverte du 3 avril 2024 \xe0 Auderghem. Lors de cette journ\xe9e, j\u2019ai pu emmener par petit groupe une multitude d\u2019\xe9l\xe8ves dans diff\xe9rentes classes et laboratoires en leur proposant diverses activit\xe9s et partages avec les professeurs afin de les aider \xe0 choisir des \xe9tudes dans lesquelles ils s\u2019\xe9panouiront. Cette journ\xe9e fut passionnante et permis en quelque sorte de passer le flambeau \xe0 ces futurs \xe9tudiants motiv\xe9s"},{title:"Participation \xe0 la journ\xe9e \xab Entreprendre ton futur \xbb",description:"Cette journ\xe9e est organis\xe9e par notre \xe9cole pour nous aider dans la recherche de notre futur parcours professionnel. Une vingtaine d\u2019entreprises actives dans le secteur en Belgique et dans le monde y \xe9tait pr\xe9sentes et \xe0 notre disposition pour des s\xe9ances d\u2019information. Pour ma part celle-ci fut tr\xe8s instructive et m\u2019a permis d\u2019\xe9changer mes coordonn\xe9es avec deux entreprises int\xe9ress\xe9es par mon profil que sont KSB et EQUANS"}],visits:[{where:"Siemens Healtheneers",description:"Durant notre deuxi\xe8me ann\xe9e de bachelier en 2023, nous avons eu l\u2019occasion de visiter les nouveaux bureaux de Siemens Healtheneers \xe0 Anderlecht. Lors de cette visite, nous avons pu d\xe9couvrir en d\xe9tail ce que l\u2019entreprise proposait comme service dans le monde et la place que l\u2019\xe9lectrom\xe9canicien pouvait avoir dans celle-ci. A la suite d\u2019une discussion avec un ancien \xe9tudiant de l\u2019ISAT, j\u2019ai pu en apprendre davantage sur les possibilit\xe9s de formations compl\xe9mentaires post bachelier afin de pouvoir exercer dans ce milieu tr\xe8s passionnant."},{where:"AGORIA",description:"Durant cette m\xeame ann\xe9e, nous avons aussi eu l\u2019opportunit\xe9 d\u2019\xeatre en contact avec AGORIA. Durant cette journ\xe9e une multitude de leurs partenaires nous ont pr\xe9sent\xe9 leur entreprise, nous permettant d\u2019augmenter le spectre des possibilit\xe9s dans le d\xe9veloppement de notre parcours professionnel."}],analyze:{text:["N\xe9 dans une entreprise agricole, j\u2019ai la chance d\u2019avoir pu rapidement \xeatre baign\xe9 dans le monde du travail dans lequel j\u2019ai pu d\xe9couvrir une multitude de facettes d\u2019une entreprise tant au niveau des r\xe9coltes, que la maintenance mais aussi au niveau \xe9conomique. Passionn\xe9 par les nouvelles technologies, c\u2019est donc naturellement que j\u2019ai suivi un cursus en \xe9lectrom\xe9canique qui m\u2019a permis de me former davantage dans le domaine de l\u2019\xe9lectronique alli\xe9 \xe0 la m\xe9canique.","Durant mon bachelier, j\u2019ai eu l\u2019occasion de m\u2019essayer \xe0 diff\xe9rents m\xe9tiers en tant qu\u2019\xe9tudiant dans lesquels j\u2019ai pu affirmer mes comp\xe9tences mais aussi faire face \xe0 mes faiblesses en participant en tant qu\u2019exposant \xe0 diff\xe9rents salons de l\u2019\xe9nergie. C\u2019est donc avec soif de d\xe9couverte que je me lance dans mon parcours professionnel."],data:[{title:"Strenghts (Forces)",color:"lightgreen",points:["Volont\xe9 d\u2019apprendre et de mettre en \u0153uvre","Sens logique et pratique","Sens du devoir et des responsabilit\xe9s","Autonomie"]},{title:"Weaknesses (Faiblesse)",color:"lightblue",points:["Peur de mal faire","Parfois r\xe9serv\xe9"]},{title:"Threats (Menaces)",color:"red",points:["Monotonie dans les t\xe2ches","Travail peu actif"]},{title:"Opportunities (Opportunit\xe9s)",color:"yellow",points:["Le cursus que j\u2019ai suivi me permet d\u2019acc\xe9der \xe0 des emplois riches et vari\xe9s, permettant de d\xe9couvrir chaque jour de nouvelles choses"]}]},expertise:{text:"La plateforme PIX est propos\xe9e par la direction interminist\xe9rielle du num\xe9rique afin de permettre aux utilisateurs d\u2019\xe9valuer leurs comp\xe9tences num\xe9riques. Voici ci-dessous, les diff\xe9rents niveaux que j\u2019ai obtenus \xe0 ce jour.",data:[{title:"Information et donn\xe9e",color:"orange",data:[{title:"Mener une recherche et ue veille d'information",level:5,levelMax:6,nextLevel:15},{title:"G\xe9r\xe9r des donn\xe9es",level:5,levelMax:6,nextLevel:0},{title:"Traiter des donn\xe9es",level:5,levelMax:6,nextLevel:0}]},{title:"Commuication et collaboration",color:"green",data:[{title:"Iteragir",level:5,levelMax:6,nextLevel:25},{title:"Partager et publier",level:5,levelMax:6,nextLevel:0},{title:"Collaborer",level:4,levelMax:6,nextLevel:50},{title:"S'ins\xe9rer dans le monde num\xe9rique",level:4,levelMax:6,nextLevel:0}]},{title:"Cr\xe9ation de contenu",color:"blue",data:[{title:"D\xe9velopper des documents textuels",level:4,levelMax:6,nextLevel:35},{title:"D\xe9velopper des documents multimedia",level:4,levelMax:6,nextLevel:0},{title:"Adapter des documents \xe0 leur finalit\xe9",level:4,levelMax:6,nextLevel:35},{title:"Programmer",level:4,levelMax:6,nextLevel:35}]},{title:"Protection et s\xe9curit\xe9",color:"pink",data:[{title:"S\xe9curiser l'environnement num\xe9rique",level:4,levelMax:6,nextLevel:35},{title:"Prot\xe9ger les donn\xe9es personnelles de la vie priv\xe9e",level:4,levelMax:6,nextLevel:25},{title:"Prot\xe9ger la sant\xe9, le bien-\xeatre et l'environnement",level:4,levelMax:6,nextLevel:35}]},{title:"Environnement num\xe9rique",color:"purple",data:[{title:"R\xe9soudre des probl\xe8mes techniques",level:4,levelMax:6,nextLevel:10},{title:"Construire un environnement num\xe9rique",level:5,levelMax:6,nextLevel:35}]}]}};var Qy=i(579);const qy=e=>(0,Qy.jsxs)("section",{className:"expertiseSection",children:[(0,Qy.jsx)("p",{className:"expertiseSectionTitle",children:"PIX"}),(0,Qy.jsx)("p",{className:"expertiseSectionDescription",children:Xy.expertise.text}),(0,Qy.jsx)("img",{className:"pixImg",src:i(385)}),Xy.expertise.data.map((e=>(0,Qy.jsxs)("div",{className:"expertiseDiv",children:[(0,Qy.jsx)("p",{className:"expertiseDivTitle",children:e.title}),(0,Qy.jsx)("div",{className:"expertiseDivList",children:e.data.map((t=>{const i={data:[{asset:"",amount:t.nextLevel},{asset:"",amount:100-t.nextLevel}],series:[{type:"donut",angleKey:"amount",innerRadiusRatio:.9,radiusMin:200,radiusMax:200,showInLegend:!1,innerLabels:[{text:"Niveau",fontSize:15,spacing:20},{text:""+t.level,fontWeight:"bold",fontSize:90}],innerCircle:{fill:"#c9fdc9"}}]};return(0,Qy.jsxs)("div",{className:"subExpertiseDiv",style:{backgroundColor:e.color},children:[(0,Qy.jsxs)("div",{className:"subExpertiseTitles",style:{backgroundColor:e.color},children:[(0,Qy.jsx)("p",{className:"subExpertiseMainTitle",children:e.title}),(0,Qy.jsx)("p",{className:"subExpertiseSubTitle",children:t.title})]}),(0,Qy.jsx)($y,{options:i})]})}))})]})))]}),Jy=e=>(0,Qy.jsxs)("section",{className:"analyzeSection",children:[(0,Qy.jsx)("p",{className:"analyzeSectionTitle",children:"Mon analyse r\xe9flexive"}),(0,Qy.jsx)("div",{className:"analyzeSectionText",children:Xy.analyze.text.map((e=>(0,Qy.jsx)("p",{className:"analyzeSectionParagraph",children:e})))}),(0,Qy.jsx)("div",{className:"analyzeSectionList",children:Xy.analyze.data.map((e=>(0,Qy.jsxs)("div",{className:"analyzeSectionItem",children:[(0,Qy.jsx)("p",{className:"analyzeSectionItemTitle",style:{color:e.color},children:e.title}),(0,Qy.jsx)("ul",{className:"analyzeSectionItemList",children:e.points.map((e=>(0,Qy.jsx)("li",{className:"analyzeSectionItemListElement",children:e})))})]})))})]}),ex=e=>(0,Qy.jsxs)("section",{className:"isatLifeSection",children:[(0,Qy.jsx)("p",{className:"isatLifeSectionTitle",children:"Mon implication dans la vie de l\u2019ISAT "}),Xy.isatLife.map((e=>(0,Qy.jsxs)("div",{className:"isatLifeItem",children:[(0,Qy.jsx)("p",{className:"isatLifeItemTitle",children:e.title}),(0,Qy.jsx)("p",{className:"isatLifeItemText",children:e.description})]})))]}),tx=e=>{const t=[i(586),i(129),i(972),i(295),i(278)];return(0,Qy.jsxs)("section",{className:"professionalSection",children:[(0,Qy.jsx)("p",{className:"professionalSectionTitle",children:"Exp\xe9riences professionnelles"}),(0,Qy.jsx)("div",{className:"professionalList",children:Xy.professional.map(((e,i)=>(console.log(i),i%2==0?(0,Qy.jsx)(Qy.Fragment,{children:(0,Qy.jsxs)("div",{className:"professionalItem",children:[(0,Qy.jsxs)("div",{className:"professionalItemData",children:[(0,Qy.jsxs)("div",{className:"professionalItemPlaceAndTime",children:[(0,Qy.jsx)("p",{className:"professionalItemPlace",children:e.where}),(0,Qy.jsxs)("p",{className:"professionalItemTime",children:[e.from," - ",e.to]})]}),(0,Qy.jsxs)("p",{className:"professionalItemFormation",children:["Formation : ",e.formation]})]}),(0,Qy.jsx)("img",{className:"professionalItemImg",src:t[i]})]})}):(0,Qy.jsx)(Qy.Fragment,{children:(0,Qy.jsxs)("div",{className:"professionalItem",children:[(0,Qy.jsx)("img",{className:"professionalItemImg",src:t[i]}),(0,Qy.jsxs)("div",{className:"professionalItemData",children:[(0,Qy.jsxs)("div",{className:"professionalItemPlaceAndTime",children:[(0,Qy.jsx)("p",{className:"professionalItemPlace",children:e.where}),(0,Qy.jsxs)("p",{className:"professionalItemTime",children:[e.from," - ",e.to]})]}),(0,Qy.jsxs)("p",{className:"professionalItemFormation",children:["Formation : ",e.formation]})]})]})}))))})]})},ix=e=>{const[t,a]=(0,n.useState)(0),[s,r]=(0,n.useState)(null);(0,n.useEffect)((()=>{null!=s&&s.classList.remove("bordered");const e=document.getElementById("littleImage"+t);e.classList.add("bordered"),r(e)}),[t]);const o=[i(548),i(606),i(160)],l=[],c=e=>{e.preventDefault();const i=(t+1)%Xy.education.length;a(i)};Xy.education.forEach(((e,t)=>{const i=(0,Qy.jsxs)("div",{className:"educationItem",onClick:c,children:[(0,Qy.jsx)("img",{className:"formationItemImage",src:o[t]}),(0,Qy.jsxs)("p",{className:"educationTime",children:[e.from," - ",e.to]}),(0,Qy.jsx)("p",{className:"educationPlace",children:e.where}),(0,Qy.jsxs)("p",{className:"educationFormation",children:["Formation : ",e.formation]})]});l.push(i)}));const h=e=>{e.preventDefault();const t=+e.target.id.slice(-1);a(t)};return(0,Qy.jsxs)("section",{className:"educationSection",children:[(0,Qy.jsx)("p",{className:"educationSectionTitle",children:"Education"}),l[t],(0,Qy.jsx)("div",{children:Xy.education.map(((e,t)=>(0,Qy.jsx)("img",{id:"littleImage"+t,className:"littleImages",src:o[t],onClick:h})))})]})},nx=e=>(0,Qy.jsxs)("section",{className:"skillsSection",children:[(0,Qy.jsx)("p",{className:"skillsSectionTitle",children:"Skills"}),(0,Qy.jsx)("ul",{className:"skillsList",children:Xy.skills.map((e=>(0,Qy.jsx)("li",{className:"skillsItem",children:e})))})]}),ax=e=>(0,Qy.jsxs)("div",{className:"FooterSection",children:[(0,Qy.jsxs)("div",{className:"FooterSectionContact",children:[(0,Qy.jsxs)("div",{className:"FooterSectionContactDiv",children:[(0,Qy.jsx)("p",{className:"FooterSectionSocialName",children:"Email : "}),(0,Qy.jsx)("a",{className:"FooterSectionContactEmail",href:"mailto: "+Xy.email,children:Xy.email})]}),(0,Qy.jsxs)("div",{className:"FooterSectionContactDiv",children:[(0,Qy.jsx)("p",{className:"FooterSectionSocialName",children:"Tel : "}),(0,Qy.jsx)("a",{href:"tel:"+Xy.tel,children:Xy.tel})]}),(0,Qy.jsxs)("div",{className:"FooterSectionContactDiv",children:[(0,Qy.jsx)("p",{className:"FooterSectionSocialName",children:"Adresse : "}),(0,Qy.jsx)("a",{href:"https://www.google.com/maps/place/Rue+de+la+Couronne+7,+6210+Fleurus/@50.5174732,4.4791908,17z/data=!3m1!4b1!4m6!3m5!1s0x47c22bdd9a99b8e9:0xdc70f47f66e7f16d!8m2!3d50.5174732!4d4.4817657!16s%2Fg%2F11tk93ydn8?entry=ttu&g_ep=EgoyMDI0MDgyMS4wIKXMDSoASAFQAw%3D%3D",target:"_blank",children:Xy.address})]})]}),(0,Qy.jsxs)("div",{className:"FooterSectionSocial",children:[(0,Qy.jsxs)("div",{className:"FooterSectionSocialDiv",children:[(0,Qy.jsx)("p",{className:"FooterSectionSocialName",children:"Facebook : "}),(0,Qy.jsx)("p",{className:"FooterSectionSocialLink",children:(0,Qy.jsx)("a",{href:"https://www.facebook.com/simon.degroote.98",target:"_blank",children:"Simon Degroote"})})]}),(0,Qy.jsxs)("div",{className:"FooterSectionSocialDiv",children:[(0,Qy.jsx)("p",{className:"FooterSectionSocialName",children:"Instagram : "}),(0,Qy.jsx)("p",{className:"FooterSectionSocialLink",children:"\xe0 venir"})]}),(0,Qy.jsxs)("div",{className:"FooterSectionSocialDiv",children:[(0,Qy.jsx)("p",{className:"FooterSectionSocialName",children:"Linkedin : "}),(0,Qy.jsx)("p",{className:"FooterSectionSocialLink",children:"\xe0 venir"})]})]})]}),sx=e=>(0,Qy.jsxs)("section",{className:"personalSection",children:[(0,Qy.jsxs)("div",{className:"personalSectionNameAndImg",children:[(0,Qy.jsx)("p",{className:"personalSectionName",children:Xy.name}),(0,Qy.jsx)("img",{className:"personalSectionImg",src:i(736)})]}),(0,Qy.jsxs)("div",{className:"personalSectionDiv",children:[(0,Qy.jsx)("p",{className:"personalSectionBio",children:Xy.bio}),(0,Qy.jsx)("a",{className:"personalSectionCv",href:i(241),target:"_blank",rel:"noopener noreferrer",children:"Mon CV"})]})]});const rx=function(){return(0,Qy.jsxs)(Qy.Fragment,{children:[(0,Qy.jsx)(sx,{}),(0,Qy.jsx)(nx,{}),(0,Qy.jsx)(ix,{}),(0,Qy.jsx)(tx,{}),(0,Qy.jsx)(ex,{}),(0,Qy.jsx)(Jy,{}),(0,Qy.jsx)(qy,{}),(0,Qy.jsx)(ax,{})]})};const ox=function(){return(0,Qy.jsx)("div",{className:"App",children:(0,Qy.jsx)(rx,{})})},lx=e=>{e&&e instanceof Function&&i.e(453).then(i.bind(i,453)).then((t=>{let{getCLS:i,getFID:n,getFCP:a,getLCP:s,getTTFB:r}=t;i(e),n(e),a(e),s(e),r(e)}))};a.createRoot(document.getElementById("root")).render((0,Qy.jsx)(n.StrictMode,{children:(0,Qy.jsx)(ox,{})})),lx()})();
//# sourceMappingURL=main.951c6ea7.js.map